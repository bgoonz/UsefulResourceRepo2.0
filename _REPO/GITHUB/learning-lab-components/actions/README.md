# Actions

Actions are reusable modules that each course has access to. They are each designed to do very specific things, and nothing more. This is to optimize for reusability and simplicity.

<!-- Reminder: Although the following paragraph might seem odd to exist within the same repo, it is also integrated into the external documentation for Learning Lab, e.g. https://lab.github.com/docs/actions/ -->
If you're interested in contributing to the evolution of these actions, we would love to collaborate with you in the [open source `github/learning-lab-components` repository](https://github.com/github/learning-lab-components)!

## Available actions

<!-- START_ACTIONS_LIST -->
- [assignRegistrant](./assignRegistrant)
- [closeIssue](./closeIssue)
- [createFile](./createFile)
- [createIssue](./createIssue)
- [createLabel](./createLabel)
- [createProjectBoard](./createProjectBoard)
- [createPullRequest](./createPullRequest)
- [createPullRequestComment](./createPullRequestComment)
- [createReview](./createReview)
- [createStatus](./createStatus)
- [deleteBranch](./deleteBranch)
- [enablePages](./enablePages)
- [findInTree](./findInTree)
- [gate](./gate)
- [getFileContents](./getFileContents)
- [getIssue](./getIssue)
- [getPullRequest](./getPullRequest)
- [getTree](./getTree)
- [htmlContainsTag](./htmlContainsTag)
- [mergeBranch](./mergeBranch)
- [mergePullRequest](./mergePullRequest)
- [octokit](./octokit)
- [removeBranchProtection](./removeBranchProtection)
- [reopenIssue](./reopenIssue)
- [requestReviewFromRegistrant](./requestReviewFromRegistrant)
- [respond](./respond)
- [updateBranchProtection](./updateBranchProtection)

<!-- END_ACTIONS_LIST -->

## Adding a new action

Do you have a great idea for a new action that would be beneficial to course authors?
Here's what you can do to help:

1. Fork this repository.
2. Clone this repository.
3. Inside of the repository's directory, install dependencies by executing `npm install` from a terminal.
4. Inside of the repository's directory, verify the tests initially pass on your machine by executing `npm test` from a terminal.
5. Create a new branch from `main`.
6. Decide on a camel-cased name for your new action, e.g. `createIssue`.
  Henceforth, we will refer to this value as `${actionName}`.
7. Inside of the repository's directory, generate a new action by executing `npm run action:init` from a terminal.
  When prompted for your action's name, provide it (`${actionName}`).
  This will add a new directory named `${actionName}` to the `actions/` directory.
  Inside of that new directory, you will find these specific files have been created:
    - `schema.js`
        - A [Joi](https://github.com/hapijs/joi) schema describing your action, its arguments, and example usage.
    - `index.js`
        - An `async`-compatible function to execute your action's desired behavior.
    - `index.test.js`
        - [Jest](https://jestjs.io/)-based unit tests for your action.
          It should contain a top-level `describe` suite with the name `${actionName}`.
    - `README.md`
        - An initial README for your action.
        - :warning: You should specifically _NOT_ edit this file as it will be automatically regenerated by a script in a later step!

8. Update the contents of the aforementioned files to bring your action to life!
  Be sure to execute `npm test` as you work to verify your syntax and test results.
9. When you think your action is ready, execute `npm run doc` to regenerate the action-specific `actions/${actionName}/README.md`. Review the content to ensure it is to your liking.
10. Run `npm test -- -u` to update the snapshots.
11. Commit all of your changes to the branch.
12. Push that branch to your remote repository.
13. Create a new [Pull Request](https://github.com/github/learning-lab-components/pulls) in this repository.
