<!doctype html>
<html lang="en" id="top-of-site">

<!-- Mirrored from css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Jun 2021 08:22:37 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>
    Get The First Image From a Post | CSS-Tricks  </title>
<link rel="icon" href="https://css-tricks.com/favicon.ico">
<link rel="icon" href="https://css-tricks.com/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="https://css-tricks.com/apple-touch-icon.png">
<link rel="manifest" href="https://css-tricks.com/manifest.webmanifest">
<meta name="theme-color" content="#ff7a18">
<meta name="monetization" content="$ilp.uphold.com/biyqg2MkQKbe">
<link rel="search" type="application/opensearchdescription+xml" href="https://css-tricks.com/opensearch.xml" title="CSS-Tricks Search">
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="https://css-tricks.com/feed/">
<link rel="stylesheet" href="https://cloud.typography.com/610186/6350832/css/fonts.css">
<link rel="preconnect" href="https://s3.buysellads.com/">
<link rel="dns-prefetch" href="https://s3.buysellads.com/">
<link rel="preconnect" href="https://srv.buysellads.com/">
<link rel="dns-prefetch" href="https://srv.buysellads.com/">
<link rel="preconnect" href="https://res.cloudinary.com/">
<link rel="dns-prefetch" href="https://res.cloudinary.com/">
<link rel="preconnect" href="https://static.codepen.io/">
<link rel="dns-prefetch" href="https://static.codepen.io/">
<style id="jetpack-boost-critical-css">@media all{@charset "UTF-8";*{box-sizing:border-box}a{text-decoration:none}article,aside,figcaption,figure,header,nav{display:block}video{display:inline-block}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;padding:0}body,html,ul{margin:0}ul{padding:0}nav ul{list-style:none;list-style-image:none}img{border:0;-ms-interpolation-mode:bicubic}figure{margin:0}input,textarea{font-size:100%;margin:0;vertical-align:baseline}input{line-height:normal}textarea{overflow:auto;vertical-align:top}@media (prefers-reduced-motion:reduce){*{-webkit-animation-duration:NaNs!important;animation-duration:NaNs!important;-webkit-animation-iteration-count:1!important;animation-iteration-count:1!important;scroll-behavior:auto!important}}html{font-family:Sentinel SSm A,Sentinel SSm B,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:clamp(12px,calc(.7rem + .25vw),20px);font-weight:400;line-height:1.7}a{color:#0089c7}.page-title{font-size:clamp(1.2rem,calc(1rem + 3.5vw),4rem);text-transform:uppercase;text-shadow:0 3px 3px rgba(0,0,0,.5)}.breadcrumbs .breadcrumb_last{font-size:clamp(1.2rem,calc(1rem + 3.5vw),4rem);text-shadow:0 2px 2px rgba(0,0,0,.5)}.breadcrumbs .breadcrumb_last,h1,h3,h4{font-weight:800;margin:0 0 1.5rem;line-height:1.1}h3 a{color:inherit}.breadcrumbs .breadcrumb_last,h1{font-family:Gotham Narrow SSm A,Gotham Narrow SSm B,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:800;font-size:clamp(2rem,calc(2rem + 1.2vw),3rem);font-weight:700}h3{font-family:Gotham Narrow SSm A,Gotham Narrow SSm B,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-size:2rem;letter-spacing:-.03rem;font-weight:800}body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout) .article-content h3{margin-top:100px}body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout) .article-content h3 a{color:#0089c7}.aal_anchor{margin-left:-21px;margin-right:5px;position:relative;scroll-margin-top:100px}.aal_anchor:before{content:"";position:absolute;width:100px;height:100px;border-radius:50%;left:50%;top:50%;transform:translate(-50%,-50%)}.aal_anchor svg{position:relative}@-webkit-keyframes yellowflash-bg{0%{background:#ff0}to{background:0 0}}h4{font-family:Gotham Narrow SSm A,Gotham Narrow SSm B,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:800;font-weight:700;font-size:1.5rem;margin:0 0 .8rem}h4{line-height:1.05}.article-content li,.article-content p{max-width:700px}.article-content ul{margin:0 0 1.5rem 1.5rem}.article-content ul li>*{text-indent:0}.article-content li{margin:0 0 5px}strong{font-weight:700}blockquote{font-size:1.3rem;letter-spacing:-.02rem;margin:1.5rem 0;padding:0 0 0 3rem;position:relative;font-style:italic}.article-content blockquote>*{hanging-punctuation:first}.article-content blockquote>:first-child:before{content:"\0022";width:100px;opacity:.15;font-size:100px;line-height:.85;position:absolute;left:-1rem}@media (max-width:800px){.article-content blockquote>:first-child:before{font-size:90px;left:-1.2rem}}blockquote{max-width:900px}figure,p,pre{margin:0 0 1.5rem}pre{font-family:Operator Mono SSm A,Operator Mono SSm B,Source Code Pro,Menlo,Consolas,Monaco,monospace;clear:both;color:#fff;background:#1b1b1b;padding:0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-ms-word-break:normal;word-break:normal;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;line-height:28px;border-radius:8px;min-width:100px;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;overflow:hidden}pre[rel]:not([rel=""]):before{font-family:Gotham Narrow SSm A,Gotham Narrow SSm B,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:800;font-weight:700;font-size:.5rem;content:attr(rel);color:#fff;position:absolute;top:-.2rem;right:.4rem;padding:0;color:#ff7a18!important}pre code{scrollbar-color:#666 #201c29;background:0 0;white-space:pre;-webkit-overflow-scrolling:touch;overflow-x:scroll;display:block;max-width:100%;min-width:100px;font-size:16px;padding:15px 20px 12px 22px;line-height:1.75}pre code::-webkit-scrollbar{width:.5em;height:.5em}@media (max-width:800px){pre code{font-size:11px;padding:15px 20px 10px 14px}}code{font-size:inherit;font-family:Operator Mono SSm A,Operator Mono SSm B,Source Code Pro,Menlo,Consolas,Monaco,monospace}li:not(.comment):not([data-category])>code,p>code{overflow-wrap:break-word;word-wrap:break-word;-webkit-box-decoration-break:clone;box-decoration-break:clone;padding:.1rem .3rem .2rem;border-radius:.2rem;background:#ffeff0}small{font-size:75%}@keyframes yellowflash-bg{0%{background:#ff0}to{background:0 0}}.screen-reader-text{position:absolute!important;clip:rect(1px,1px,1px,1px);width:1px;height:1px;overflow:hidden}p:empty{display:none}.language-css{color:#f5d67b}input[type=text],textarea{font-family:Operator Mono SSm A,Operator Mono SSm B,Source Code Pro,Menlo,Consolas,Monaco,monospace;background:#eaeaea;border:1px solid #d4d4d4!important;padding:.5rem;border-radius:4px;border:0;width:100%}textarea{padding:1rem;display:block}html{--maxWidth:1600px;--gap:3rem;scrollbar-color:#666 #201c29;background:#262626;color:#fff;overflow-x:hidden}html::-webkit-scrollbar{width:16px;height:16px}@media (max-width:1200px){html{--gap:2rem}}@media (max-width:800px){html{--gap:1rem}}#top-of-site-pixel-anchor{position:absolute;width:1px;height:1px;top:500px;left:0}@media (max-width:800px){#top-of-site-pixel-anchor{top:46px}}.mega-header,.page-wrap{max-width:var(--maxWidth);margin:0 auto;padding:0 var(--gap)}main{position:relative;z-index:1}.articles-and-sidebar{display:grid;grid-template-columns:minmax(0,1fr) 300px;gap:var(--gap);margin:0 auto}.articles-and-sidebar>:not(.sidebar){align-self:start}@media (max-width:800px){.articles-and-sidebar{display:block;padding-top:0}}.sidebar{position:relative;z-index:1}@media (max-width:800px){.sidebar{display:none}}img{max-width:100%}.site-header{position:relative;z-index:2;display:flex;padding:0 var(--gap);margin:0 0 var(--gap)}.site-header:after{content:"";position:absolute;top:100%;left:0;width:100%;height:4px;background:linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%)}.site-header .logo{flex:0;position:relative;align-self:stretch}.site-header .logo,.site-header .logo>a{display:flex;align-items:center}.site-header .icon-logo-star{fill:#fff;width:25px;height:25px;margin:0 .5rem 0 0}@-webkit-keyframes spinMe{to{transform:rotate(2turn)}}@keyframes spinMe{to{transform:rotate(2turn)}}.site-header .icon-logo-text{fill:#fff;height:25px;width:170px;margin-right:var(--gap)}.site-header .header-middle-area{flex:1;width:100%}.site-header .main-nav>ul{display:flex;height:100%}.site-header .main-nav>ul>li>a{font-family:Gotham Narrow SSm A,Gotham Narrow SSm B,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:800;text-transform:uppercase;font-weight:500;font-size:.8rem;height:100%;color:#fff;padding:1.2rem 1rem;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;overflow:hidden}@media (max-width:1000px){.site-header{padding:20px 20px 0;flex-wrap:wrap}.site-header .header-middle-area{flex:0 0 100%}.site-header .main-nav{padding-top:10px;-webkit-margin-start:-10px;margin-inline-start:-10px}.site-header .main-nav>ul>li>a{padding:.6rem .8rem;border-top-right-radius:4px;border-top-left-radius:4px}.site-header .icon-logo-star{width:18px;height:18px}.site-header .icon-logo-text{height:15px;width:116px}}@media (max-width:620px){.site-header{padding-top:15px}.site-header .main-nav{width:calc(100% + var(--gap)*2);overflow:auto}}.search-and-account{position:fixed;z-index:15;top:.9rem;right:var(--gap)}.search-and-account svg{width:32px;height:32px}@media (max-width:620px){.search-and-account{top:.95rem}.search-and-account svg{width:28px;height:28px}}.search-and-account a{margin-left:.5rem}.search-and-account a svg{-webkit-filter:drop-shadow(0 2px 5px rgba(0,0,0,.3));filter:drop-shadow(0 2px 5px rgba(0,0,0,.3))}.top-of-site-link{visibility:hidden;opacity:0;position:fixed;bottom:1.2rem;right:1.5rem;z-index:15}.top-of-site-link svg{-webkit-filter:drop-shadow(0 2px 5px rgba(0,0,0,.3));filter:drop-shadow(0 2px 5px rgba(0,0,0,.3))}.article-sponsor{padding:1rem 1.5rem calc(1rem + 10px);margin-bottom:-10px;border-radius:8px;background:rgba(0,0,0,.2)}.article-sponsor p{margin:0}.article-sponsor a{color:#fff;font-weight:700;position:relative;display:inline-block;line-height:1.2}.article-sponsor a:before{content:"";position:absolute;top:100%;width:100%;left:0;height:3px;border-radius:2px;background:linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%)}.article-content{font-size:1.2rem;background:#fff;color:#000;overflow-wrap:break-word;border-radius:8px;padding:4rem}@media (max-width:800px){.article-content{padding:1.66rem}}.article-content a{text-decoration:underline;-webkit-text-decoration-color:#a2dffb;text-decoration-color:#a2dffb}.article-content img,.article-content video{max-width:100%;height:auto!important}figure>figcaption{font-size:.7rem;color:#767676;display:block;width:80%;padding-top:.5rem}iframe{max-width:100%}.mega-header{position:relative;z-index:1;overflow:hidden;padding:0 0 2rem}.mega-header .tags a{color:#ffdfc7}.mega-header .author-name,.mega-header .author-row{color:#fff}.breadcrumbs .breadcrumb_last{color:#fff;display:block;text-transform:none;white-space:normal}.author-row{-webkit-margin-before:auto;margin-block-start:auto;display:grid;grid-template-columns:40px 1fr;gap:.5rem;align-items:center;color:#565656;line-height:1.3;padding-top:.5rem}.author-row>div>*{white-space:nowrap}.avatar{width:40px;height:40px;border-radius:50%;margin-right:.5rem}.author-name{font-weight:700;color:#000}.in-article-card h3 .aal_anchor{display:none}.in-article-card .avatar{width:25px;height:25px!important;display:block}.tags{line-height:1;margin:0 0 .5rem}.tags a{font-family:Gotham Narrow SSm A,Gotham Narrow SSm B,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:800;text-transform:uppercase;color:#ff7a18;font-size:.66rem;-webkit-margin-end:.66rem;margin-inline-end:.66rem}.CommentForm .comment-wrap .author-avatar,.comment ul .comment-wrap .author-avatar,.commentlist .comment-wrap .author-avatar{margin:0;align-self:start;grid-area:auto}#commentform label{display:block}#commentform .comment-notes,#commentform .required{display:none}#commentform p{margin-bottom:.5rem}.breadcrumbs{position:relative;white-space:nowrap;text-transform:uppercase;font-family:Gotham Narrow SSm A,Gotham Narrow SSm B,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:800;font-weight:400}.breadcrumbs,.breadcrumbs a{color:#ffdfc7}.breadcrumb-separator{opacity:.5}@-webkit-keyframes ad_come_in{to{opacity:1}}@keyframes ad_come_in{to{opacity:1}}#all-modules{height:100%}#scroll-ad-position{width:1px;height:1px}#sticky-sidebar-stuff{position:-webkit-sticky;position:sticky;top:2.5rem;opacity:0;visibility:hidden}@media (max-width:620px){#sticky-sidebar-stuff{top:89px}}.fem-ad{background:#1f1f1f;color:#fff;border-radius:8px;position:relative}.fem-ad:before{content:"";background:linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%);position:absolute;top:-5px;left:-5px;width:calc(100% + 10px);height:calc(100% + 10px);z-index:-1;border-radius:12px}.fem-ad h4{font-size:1.2rem}.fem-ad .fem-learning-partner{font-size:.75rem;color:#fff;text-transform:uppercase;letter-spacing:.13rem;text-align:center;margin:0 0 .5rem}.fem-ad .fem-header-inner{background:rgba(0,0,0,.7);padding:1rem;border-radius:7px}.fem-ad .fem-title{text-align:center}.fem-ad .fem-logo{width:200px;display:block;margin:0 auto}.fem-ad .fem-message{background:#eaeaea;border-bottom-left-radius:7px;border-bottom-right-radius:7px;color:#000;padding:1.5rem;font-size:.85rem}.fem-ad .fem-message p{margin:0}.page-header{margin:0 0 var(--gap)}.single-video-wrapper{border-radius:8px;overflow:hidden}.download-video{background:rgba(255,122,24,.1);border-bottom-left-radius:8px;border-bottom-right-radius:8px;padding:1rem;text-align:center;max-width:100%;margin-inline:1rem}.download-video-non-member>a{opacity:.5}.single-almanac-content{display:grid;grid-template-columns:150px minmax(0,1fr) 285px;gap:1rem}.single-almanac-content .almanac-sidebar{grid-area:1/1/2/2;background:#111;border-radius:8px;padding:1rem}.single-almanac-content .article-content-wrap{grid-area:1/2/2/3}.single-almanac-content .sidebar{grid-area:1/3/2/4}@media (max-width:1000px){.single-almanac-content{grid-template-columns:125px minmax(0,1fr)}.single-almanac-content .sidebar{display:none}}@media (max-width:650px){.single-almanac-content{grid-template-columns:1fr;gap:1.5rem}.single-almanac-content .article-content-wrap{grid-area:1/1/2/2;min-width:0}.single-almanac-content .almanac-sidebar{grid-area:2/1/3/2}}.almanac-sidebar-list{font-size:.85rem;list-style:none}.almanac-sidebar-list>li{margin-bottom:2rem}.almanac-sidebar-list>li.page-item-13710>a{color:#f44336}.almanac-sidebar-list>li.page-item-13708>a{color:#b822ff}.almanac-sidebar-list>li>a{text-transform:uppercase;display:block}.almanac-sidebar-list>li>ul{list-style:none}.almanac-sidebar-list>li>ul>li>a{display:block;color:#fff}.almanac-sidebar-list>li>ul>li>a:before{content:">";font-size:12px;vertical-align:middle;color:grey;margin-right:.2rem;display:inline-block;width:10px;height:26px;position:relative;transform-origin:center center}.almanac-sidebar-list>li>ul>li>ul{display:none;font-size:10px}@media (max-width:650px){.almanac-sidebar-list{display:grid;grid-template-columns:1fr 1fr;padding:1rem;grid-gap:.5rem}.almanac-sidebar-list .children li{margin:0 0 .25rem}.almanac-sidebar-list .children a{background:#5e5e5e;display:block;padding:0 .25rem;border-radius:4px}.almanac-sidebar-list .children li ul{margin:0 0 1rem}.almanac-sidebar-list .children li li a{padding:.35rem 1rem}.almanac-sidebar-list .children .children a{background:0 0}}@media screen and (max-width:400px){@-ms-viewport{width:320px}}}</style><meta name='robots' content='index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1' />

<meta name="description" content="Let&#039;s say you wanted to use the post thumbnail feature of WordPress, but had a whole archive of posts that would take too much time to go through. For new" />
<link rel="canonical" href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Get The First Image From a Post" />
<meta property="og:description" content="Let&#039;s say you wanted to use the post thumbnail feature of WordPress, but had a whole archive of posts that would take too much time to go through. For new" />
<meta property="og:url" content="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/" />
<meta property="og:site_name" content="CSS-Tricks" />
<meta property="article:publisher" content="https://www.facebook.com/CSSTricks" />
<meta property="article:modified_time" content="2019-05-14T16:36:01+00:00" />
<meta name="twitter:site" content="@CSS" />

<link rel='dns-prefetch' href='http://stats.wp.com/' />
<link rel='dns-prefetch' href='http://c0.wp.com/' />
<link rel='dns-prefetch' href='http://i0.wp.com/' />
<link rel='dns-prefetch' href='http://i1.wp.com/' />
<link rel='dns-prefetch' href='http://i2.wp.com/' />
<link rel="alternate" type="application/rss+xml" title="CSS-Tricks &raquo; Get The First Image From a Post Comments Feed" href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/feed/" />
<link rel='stylesheet' id='css-tricks-style-css' href='https://css-tricks.com/wp-content/themes/CSS-Tricks-18/style.css?ver=cache_bust=1623863575646' type='text/css' media="not all" onload="this.media='all'" />
<link rel='stylesheet' id='wc-blocks-integration-css' href='https://css-tricks.com/wp-content/plugins/woocommerce-subscriptions/build/index.css?ver=3.1.3' type='text/css' media="not all" onload="this.media='all'" />
<style id='woocommerce-inline-inline-css' type='text/css'>
.woocommerce form .form-row .required { visibility: visible; }
</style>
<link rel="https://api.w.org/" href="https://css-tricks.com/wp-json/" /><link rel="alternate" type="application/json" href="https://css-tricks.com/wp-json/wp/v2/pages/16732" /><link rel='shortlink' href='https://css-tricks.com/?p=16732' />
<link rel="alternate" type="application/json+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fsnippets%2Fwordpress%2Fget-the-first-image-from-a-post%2F" />
<link rel="alternate" type="text/xml+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fsnippets%2Fwordpress%2Fget-the-first-image-from-a-post%2F&amp;format=xml" />


<meta property="og:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/16732">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/16732">
<meta name="twitter:card" content="summary_large_image">

<meta name="jetpack-boost-config-id" content="" />
<meta name="jetpack-boost-ready" content="true" />
<style type='text/css'>img#wpstats{display:none}</style>
<noscript><style>.woocommerce-product-gallery{ opacity: 1 !important; }</style></noscript>
<style type="text/css">
				/* If html does not have either class, do not show lazy loaded images. */
				html:not( .jetpack-lazy-images-js-enabled ):not( .js ) .jetpack-lazy-image {
					display: none;
				}
			</style>
</head>
<body class="page-template page-template-page-snippet page-template-page-snippet-php page page-id-16732 page-child parent-pageid-3229 theme-CSS-Tricks-18 woocommerce-no-js jps-theme-CSS-Tricks-18">
<div id="top-of-site-pixel-anchor"></div>
<header class="site-header" id="site-header">
<a id="skip-nav" class="skip-nav screen-reader-text" href="#maincontent">Skip to main content</a>
<div class="logo">
<a href="https://css-tricks.com/">
<div class="screen-reader-text">CSS-Tricks</div>
<svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
<path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z" />
</svg>
<svg class="icon-logo-text" width="214px" height="35px" viewBox="0 0 474.15 58.26">
<path d="M46 42.57a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.09c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.48 5.03 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.91-3.79-10.62-6.36-19.35-6.36-17 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.54 4.71 4.71 0 0 0-4.68-4.62zm36.86-17.95c-10.86-2.62-13.43-4.5-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.43 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.73 4.58 12.73 8.6v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.94 3.77 35.05 35.05 0 0 0 21.16 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.34-6.11-13.6-18.02-16.5zm49.88 0c-10.86-2.57-13.43-4.51-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.33v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.77 35.05 35.05 0 0 0 21.16 7.08c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.32-6.11-13.58-18.02-16.48zm45.62 3.22h-15.13a4.79 4.79 0 0 0 0 9.58h15.12a4.79 4.79 0 0 0 0-9.58zm45.64-26.84h-37.45a4.59 4.59 0 0 0 0 9.17h13.68v42.62a5 5 0 0 0 10 0v-42.65h13.77a4.59 4.59 0 0 0 0-9.14zm38.86 0h-20.15a4.91 4.91 0 0 0-5 5v46.79a4.95 4.95 0 0 0 9.89 0v-15.13h12.47l13.68 17.46a5.65 5.65 0 0 0 4.83 2.58 4.67 4.67 0 0 0 4.75-4.59 5.74 5.74 0 0 0-1.61-3.78l-10.78-13.6c7.56-2.33 12.79-7.81 12.79-16.82v-.16a17 17 0 0 0-4.66-12.15c-3.62-3.54-9.17-5.6-16.25-5.6zm10.86 18.51c0 5.71-4.51 9.41-11.58 9.41h-14.53v-18.92h14.39c7.32 0 11.67 3.3 11.67 9.33zm27-18.91a4.89 4.89 0 0 0-5 4.91v47.28a4.95 4.95 0 0 0 9.89 0v-47.32a4.88 4.88 0 0 0-4.98-4.91zm62.67 42a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.12c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.44 5.07 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.98-3.83-10.7-6.4-19.38-6.4-17.06 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.58 4.71 4.71 0 0 0-4.7-4.58zm41-16.82l17.54-16.9a4.81 4.81 0 0 0 1.77-3.7 4.53 4.53 0 0 0-4.7-4.62 5.2 5.2 0 0 0-4.1 1.85l-26.66 26.88v-23.82a4.95 4.95 0 0 0-9.9 0v47.32a4.95 4.95 0 0 0 9.9 0v-11.67l9.17-8.85 18.1 23.09a5 5 0 0 0 4.18 2.33 4.83 4.83 0 0 0 5-4.83 5.36 5.36 0 0 0-1.37-3.54zm51.8-1.13c-10.92-2.65-13.49-4.53-13.49-8.88v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.94-5.22c-11.15 0-19.2 6.68-19.2 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.76 35.05 35.05 0 0 0 21.12 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c.04-9.34-6.11-13.6-17.98-16.5z" />
</svg> </a>
</div>
<div class="header-middle-area">
<nav class="main-nav" id="main-nav">
<ul>
<li class="articles">
<a href="https://css-tricks.com/archives/">
<span>Articles</span>
</a>
</li>
<li class="videos">
<a href="https://css-tricks.com/video-screencasts/">
<span>Videos</span>
</a>
</li>
<li class="almanac">
<a href="https://css-tricks.com/almanac/">
<span>Almanac</span>
</a>
</li>
<li class="newsletter">
<a href="https://css-tricks.com/newsletters/">
<span>Newsletter</span>
</a>
</li>
<li class="guides">
<a href="https://css-tricks.com/guides/">
<span>Guides</span>
</a>
</li>
<li class="books">
<a href="https://css-tricks.com/books/">
<span>Books</span>
</a>
</li>
</ul>
</nav>
<div class="search-and-account">
<a href="https://www.google.com/search?q=site:css-tricks.com%20layout" class="jetpack-search-filter__link">
<span class="screen-reader-text">Search</span>
<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0726 10.4326C12.4801 10.4326 10.4 12.5451 10.4 15.1053C10.4 17.6978 12.5125 19.7779 15.0726 19.7779C17.6651 19.7779 19.7453 17.6654 19.7453 15.1053C19.744 12.544 17.664 10.4326 15.0726 10.4326Z" fill="white" />
<path d="M16.0327 0.447479C7.42401 0.447479 0.447693 7.4238 0.447693 16.0324C0.447693 24.6398 7.42401 31.6161 16.0314 31.6161C24.64 31.6161 31.6163 24.6398 31.6163 16.0324C31.6163 7.4238 24.64 0.447479 16.0327 0.447479ZM23.6163 24.0324C23.3926 24.2562 23.0401 24.385 22.6563 24.385C22.2726 24.385 21.9526 24.2575 21.6963 24.0324L18.7526 21.0887L18.4651 21.2487C17.4088 21.825 16.2576 22.145 15.0724 22.145C11.1998 22.145 8.06509 19.0087 8.06509 15.1376C8.06509 11.265 11.2013 8.13023 15.0724 8.13023C18.9451 8.13023 22.0798 11.2665 22.0798 15.1376C22.0798 16.5138 21.6961 17.8251 20.9273 18.9776L20.7348 19.2976L23.6473 22.2101C23.8711 22.4664 24.0311 22.7864 24.0311 23.1376C23.9998 23.4563 23.8723 23.7763 23.616 24.0326L23.6163 24.0324Z" fill="white" />
</svg>
</a>
<a href="https://css-tricks.com/product/membership/">
<span class="screen-reader-text">Account</span>
<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M17 1.7C11.5335 1.7 6.48243 4.61655 3.74917 9.35C1.0172 14.0835 1.0172 19.9165 3.74917 24.65C6.48246 29.3835 11.5335 32.3 17 32.3C20.4918 32.3133 23.8809 31.1193 26.5917 28.9199C29.9014 26.2557 31.9559 22.3365 32.2602 18.0984C32.5657 13.8603 31.0954 9.68748 28.2003 6.57682C25.3063 3.46636 21.249 1.69986 17.0003 1.69986L17 1.7ZM27.9956 24.411C27.2651 22.1412 25.014 20.2514 21.9925 19.2447C20.7069 20.6405 18.8967 21.4361 17 21.4361C15.1021 21.4347 13.292 20.6405 12.0074 19.2447C8.98463 20.2514 6.73335 22.1413 6.00439 24.411C4.20212 21.7388 3.43579 18.5008 3.8475 15.3041C4.25921 12.1073 5.82242 9.17082 8.24234 7.04174C10.6622 4.91276 13.7752 3.7387 16.9987 3.7387C20.2221 3.7387 23.3353 4.91276 25.7564 7.04041C28.1763 9.16939 29.7395 12.1057 30.1513 15.3027C30.563 18.4995 29.7966 21.7376 27.9957 24.411L27.9956 24.411Z" fill="white" />
<path d="M22.5049 13.6092C22.5049 16.9919 20.0399 19.736 17 19.736C13.9586 19.736 11.4937 16.9921 11.4937 13.6092C11.4937 10.2251 13.9587 7.48236 17 7.48236C20.0401 7.48236 22.5049 10.2249 22.5049 13.6092Z" fill="white" />
</svg>
</a>
</div>
</div>
</header>
<div class="page-wrap">
<main id="post-16732">
<article>
<header class="mega-header header-breadcrumbs">
<div class="breadcrumbs">
<span><span><span><a href="https://css-tricks.com/">Home</a> <span class="breadcrumb-separator">/</span> <span><a href="https://css-tricks.com/snippets/">Code Snippets</a> <span class="breadcrumb-separator">/</span> <span><a href="https://css-tricks.com/snippets/wordpress/">WordPress</a> <span class="breadcrumb-separator">/</span> <span class="breadcrumb_last" aria-current="page">Get The First Image From a Post</span></span></span></span></span></span> </div>
<h1 class="screen-reader-text">Get The First Image From a Post</h1>
<div class="author-row">
<a href="https://css-tricks.com/author/chriscoyier/" aria-label="Author page of Chris Coyier">
<img alt="Avatar of Chris Coyier" src="https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=80&amp;d=retro&amp;r=pg" srcset="https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=160&#038;d=retro&#038;r=pg 2x" class="avatar avatar-80 photo skip-lazy" height="80" width="80" loading="lazy"><noscript><img alt='Avatar of Chris Coyier' src='https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=80&amp;d=retro&amp;r=pg' srcset='https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=160&#038;d=retro&#038;r=pg 2x' class='avatar avatar-80 photo skip-lazy' height='80' width='80' loading='lazy'/></noscript> </a>
<div>
<a class="author-name" href="https://css-tricks.com/author/chriscoyier/">
Chris Coyier </a>
on
<time datetime="">
Apr 4, 2012 </time>
(Updated on <time datetime="2019-05-14">May 14, 2019</time>)
</div>
</div>
</header>
<div class="articles-and-sidebar">
<div class="article-content">
<p>Let&#8217;s say you wanted to use the <a href="https://codex.wordpress.org/Post_Thumbnails">post thumbnail feature</a> of WordPress, but had a whole archive of posts that would take too much time to go through. For new posts, you can be specific and use the feature as intended. For old posts, you just want to use the first image it finds in the content for the thumbnail, or a default if none present. </p>
<p>Add this to functions.php or make a <a href="http://wpcandy.com/teaches/how-to-create-a-functionality-plugin">functionality plugin</a>: </p>
<pre rel="PHP"><code>function catch_that_image() {
  global $post, $posts;
  $first_img = '';
  ob_start();
  ob_end_clean();
  $output = preg_match_all('/&lt;img.+?src=[\'"]([^\'"]+)[\'"].*?&gt;/i', $post-&gt;post_content, $matches);
  $first_img = $matches[1][0];

  if(empty($first_img)) {
    $first_img = "/path/to/default.png";
  }
  return $first_img;
}</code></pre>
<p>To use it, use this code in <a href="https://codex.wordpress.org/The_Loop">the loop</a>:</p>
<pre rel="PHP"><code>if ( get_the_post_thumbnail($post_id) != '' ) {

  echo '&lt;a href="'; the_permalink(); echo '" class="thumbnail-wrapper"&gt;';
   the_post_thumbnail();
  echo '&lt;/a&gt;';

} else {

 echo '&lt;a href="'; the_permalink(); echo '" class="thumbnail-wrapper"&gt;';
 echo '&lt;img src="';
 echo catch_that_image();
 echo '" alt="" /&gt;';
 echo '&lt;/a&gt;';

}</code></pre>
<p>I found that <a href="https://codex.wordpress.org/Function_Reference/has_post_thumbnail">has_post_thumbnail</a> wasn&#8217;t as reliable as the logic above.</p>
</div>
<div class="entry-unrelated sidebar">
<div id="all-modules">
<div id="scroll-ad-position"></div>
<div id="sticky-sidebar-stuff">
<div class="fem-conditional-message">
<div class="fem-ad fem-sidebar-ad">
<div class="fem-header">
<div class="fem-header-inner">
<div class="fem-learning-partner">
Our Learning Partner
</div>
<a href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"><img src="https://res.cloudinary.com/css-tricks/image/upload/f_auto,q_auto/v1578251803/FEM-sidebar-Generic_dipjef.png" alt="Frontend Masters logo" class="fem-logo" /></a>
<div class="fem-title">
Frontend Masters
</div>
</div>
</div>
<div class="fem-message">
<h4>Need front-end development training?</h4>
<p><a href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Frontend Masters</a> is the best place to get it. They have courses on all the most important front-end technologies, from <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">React</a> to <a href="https://frontendmasters.com/learn/css/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">CSS</a>, from <a href="https://frontendmasters.com/learn/vue/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Vue</a> to <a href="https://frontendmasters.com/learn/d3-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">D3</a>, and beyond with <a href="https://frontendmasters.com/learn/node-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Node.js</a> and <a href="https://frontendmasters.com/learn/fullstack/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Full Stack</a>.</p>
</div>
</div>
</div> </div>
</div>
</div>
</div>
</article>
</main>
<div class="related-ads-comments-wrap">
<div class="related-ads-comments">
<div class="end-of-article-ads">
<div class="bsap-doubles side-by-side">
<div id="bsap_1250418" class="bsarocks bsap_3469a2a501a9e18091036aa0c89f9dcb"></div>
</div>
<div class="fem-conditional-message">
<div class="fem-ad fem-footer-ad">
<div class="fem-header">
<div class="fem-header-inner">
<a href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"><img src="https://res.cloudinary.com/css-tricks/image/upload/f_auto,q_auto/v1578251803/FEM-footer-Generic_fgvhuc.png" alt="Frontend Masters logo" class="fem-logo-large" /></a>
</div>
</div>
<div class="fem-message">
<div>
<h4>Need front-end development training?</h4>
<p><a href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Frontend Masters</a> is the best place to get it. They have courses on all the most important front-end technologies, from <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">React</a> to <a href="https://frontendmasters.com/learn/css/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">CSS</a>, from <a href="https://frontendmasters.com/learn/vue/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Vue</a> to <a href="https://frontendmasters.com/learn/d3-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">D3</a>, and beyond with <a href="https://frontendmasters.com/learn/node-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Node.js</a> and <a href="https://frontendmasters.com/learn/fullstack/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Full Stack</a>.</p>
</div>
</div>
</div>
</div>
</div>
<section class="respond-area">
<h2 class="comments-title" id="comments">
<span>Comments</span>
</h2>
<ol class="commentlist" id="commentlist">
<li class="comment even thread-even depth-1 buried" id="li-comment-163077">
<div class="comment-wrap" id="comment-163077">
<div class="comment-author-wrap">
<div class="comment-author">Reece</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-163077"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-04-04T09:03:54-07:00">April 4, 2012</time></div>
</div>
<div class="comment-content">
<p>Thanks for this. Always on the lookout to add functionality to WP.</p>
<p>Best,<br />
Reece</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-163077' data-commentid="163077" data-postid="16732" data-belowelement="comment-163077" data-respondelement="respond" data-replyto="Reply to Reece" aria-label='Reply to Reece'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-165685">
<div class="comment-wrap" id="comment-165685">
<div class="comment-author-wrap">
<div class="comment-author">TomTank4</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-165685"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-04-17T07:19:36-07:00">April 17, 2012</time></div>
</div>
<div class="comment-content">
<p>Great function, I am trying to add youtube functionality to this but am a bit stuck. </p>
<p>I wanted it to grab the youtube thumbnail if it sees a youtube embed before it sees an image. Any ideas?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-165685' data-commentid="165685" data-postid="16732" data-belowelement="comment-165685" data-respondelement="respond" data-replyto="Reply to TomTank4" aria-label='Reply to TomTank4'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-166782">
<div class="comment-wrap" id="comment-166782">
<div class="comment-author-wrap">
<div class="comment-author">Robert Watcher</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-166782"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-04-23T05:09:41-07:00">April 23, 2012</time></div>
</div>
<div class="comment-content">
<p>I&#8217;m not familiar with how to make things work in WordPress &#8211; &#8211; &#8211; but I included similar functionality in my Journal which I recently rewrote (hand coded &#8211; not WordPress). It is based on my use of the iFrame Video Embed for HTML5 compatability in my <a href="http://robertwatcher.com/journal/" rel="nofollow">Journal</a> &#8211; so won&#8217;t work with object and embed code. Hopefully you can use it and adapt it to your WordPress application in a similar way as above with the first image.</p>
<p>This video check code, comes after I have checked to see if there is an image in the content from a post (as I loop through). If it finds an iframe, it uses preg_match to extract the &#8220;src&#8221; of the iframe &#8211; and if there is a match to &#8216;www.youtube.com&#8217; &#8211; I can create a url based on the video id that is extracted from the src url.</p>
<p>This is one of the pages that contains a couple of posts with Youtube video &#8211; where I got the Youtube images and display them &#8211; <a href="http://robertwatcher.com/journal/index.php?crnt=9" rel="nofollow">http://robertwatcher.com/journal/index.php?crnt=9</a></p>
<pre><code>
preg_match('|&lt;iframe [^&gt;]*(src="[^"]+")[^&gt;]*|', $postcontent, $matches);
$tmp_src = explode('/',$matches[1]);
$vid_id = rtrim($tmp_src[count($tmp_src)-1], '"' );
if($matches AND $tmp_src[2]=='www.youtube.com'){
	$youtube_img_url = 'http://img.youtube.com/vi/'.$vid_id.'/hqdefault.jpg';
	echo '&lt;img src="'.$youtube_img_url.'" alt="You Tube Video" /&gt;';
}
</code></pre>
<p>I have left out the extra if statements that check next for a Vimeo video url (which requries more complex code to extract) , as well as a default image if there is not a src url.</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-165820">
<div class="comment-wrap" id="comment-165820">
<div class="comment-author-wrap">
<div class="comment-author">Anon</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-165820"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-04-18T00:37:02-07:00">April 18, 2012</time></div>
</div>
<div class="comment-content">
<p>I have this in a page kind of like a small gallery but its limited due to:</p>
<p>Settings &gt;&gt; Reading &gt;&gt; Blog pages show at most</p>
<p>Is there a way around this to grab all images no matter what the limit is from settings?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-165820' data-commentid="165820" data-postid="16732" data-belowelement="comment-165820" data-respondelement="respond" data-replyto="Reply to Anon" aria-label='Reply to Anon'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-167281">
<div class="comment-wrap" id="comment-167281">
<div class="comment-author-wrap">
<div class="comment-author">Goob</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-167281"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-04-25T18:02:26-07:00">April 25, 2012</time></div>
</div>
<div class="comment-content">
<p>I&#8217;ve been using the functions.php version of the code for a while now, but only recently discovered that this doesn&#8217;t seem to work for pages. Any chances there&#8217;s a way to make it apply to them as well?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-167281' data-commentid="167281" data-postid="16732" data-belowelement="comment-167281" data-respondelement="respond" data-replyto="Reply to Goob" aria-label='Reply to Goob'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-168737">
<div class="comment-wrap" id="comment-168737">
<div class="comment-author-wrap">
<div class="comment-author">zhen yi</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-168737"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-05-04T06:53:47-07:00">May 4, 2012</time></div>
</div>
<div class="comment-content">
<p>Hi, i would like to ask what if i want to get the second image instead of the first one? Helps are much appreciated thanks</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-168737' data-commentid="168737" data-postid="16732" data-belowelement="comment-168737" data-respondelement="respond" data-replyto="Reply to zhen yi" aria-label='Reply to zhen yi'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-193723">
<div class="comment-wrap" id="comment-193723">
<div class="comment-author-wrap">
<div class="comment-author">Shiham</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-193723"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-09-27T01:35:20-07:00">September 27, 2012</time></div>
</div>
<div class="comment-content">
<p>just change this</p>
<p>$matches[1][0];</p>
<p>to</p>
<p>$matches[1][1];</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-170115">
<div class="comment-wrap" id="comment-170115">
<div class="comment-author-wrap">
<div class="comment-author">Paul O'Flaherty</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-170115"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-05-11T14:21:40-07:00">May 11, 2012</time></div>
</div>
<div class="comment-content">
<p>That&#8217;s a great piece of code, thanks for sharing.</p>
<p>I have a question though &#8211; if you were doing this from an attachment page (attachment.php) what would you change in the function to make it output correctly?</p>
<p>Thanks.</p>
<p>Paul.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-170115' data-commentid="170115" data-postid="16732" data-belowelement="comment-170115" data-respondelement="respond" data-replyto="Reply to Paul O&#039;Flaherty" aria-label='Reply to Paul O&#039;Flaherty'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-173269">
<div class="comment-wrap" id="comment-173269">
<div class="comment-author-wrap">
<div class="comment-author">Carlos Goncalves</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-173269"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-05-29T06:09:59-07:00">May 29, 2012</time></div>
</div>
<div class="comment-content">
<p>How Can I change the image size?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-173269' data-commentid="173269" data-postid="16732" data-belowelement="comment-173269" data-respondelement="respond" data-replyto="Reply to Carlos Goncalves" aria-label='Reply to Carlos Goncalves'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="li-comment-185302">
<div class="comment-wrap" id="comment-185302">
<div class="comment-author-wrap">
<div class="comment-author">Aaron</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-185302"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-08-08T04:36:02-07:00">August 8, 2012</time></div>
</div>
<div class="comment-content">
<p>You should use some css:</p>
<p>.thumbnail-wrapper img {width:300px;}</p>
<p>If you want it to resize with the page use something like:</p>
<p>.thumbnail-wrapper img {width:60%;}</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-197001">
<div class="comment-wrap" id="comment-197001">
<div class="comment-author-wrap">
<div class="comment-author">george</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-197001"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-10-12T11:58:00-07:00">October 12, 2012</time></div>
</div>
<div class="comment-content">
<p>Does anybody know how to get the first occurance of firstbigimage_big.jpg from:</p>
<p><a href="https://i.imgur.com/Zo5hE.jpg" rel="nofollow">Imgur</a></p>
<p>thanks</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-197001' data-commentid="197001" data-postid="16732" data-belowelement="comment-197001" data-respondelement="respond" data-replyto="Reply to george" aria-label='Reply to george'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1 buried" id="li-comment-202954">
<div class="comment-wrap" id="comment-202954">
<div class="comment-author-wrap">
<div class="comment-author">Suwandi Halim</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-202954"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-10-31T03:11:01-07:00">October 31, 2012</time></div>
</div>
<div class="comment-content">
<p>Thanks. Help my day.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-202954' data-commentid="202954" data-postid="16732" data-belowelement="comment-202954" data-respondelement="respond" data-replyto="Reply to Suwandi Halim" aria-label='Reply to Suwandi Halim'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-232425">
<div class="comment-wrap" id="comment-232425">
<div class="comment-author-wrap">
<div class="comment-author">Steve</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-232425"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2012-12-12T01:11:55-08:00">December 12, 2012</time></div>
</div>
<div class="comment-content">
<p>Great tutorial. I would also like to know how to leverage this code to offer a dynamically sized image. It seems folks are using timthumb for this, I&#8217;m curious if there is a way to do it with core WP functions.</p>
<p>It&#8217;s mentioned above that CSS can be used, but that&#8217;s not a great approach if you need to resize an image more than a few pixels. The goal is to deliver the image in a new size similar to how get_the_post_thumbnail($post-&gt;ID, array(80,80)); works. Thanks!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-232425' data-commentid="232425" data-postid="16732" data-belowelement="comment-232425" data-respondelement="respond" data-replyto="Reply to Steve" aria-label='Reply to Steve'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="li-comment-1033473">
<div class="comment-wrap" id="comment-1033473">
<div class="comment-author-wrap">
<div class="comment-author">Dave</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1033473"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-01-03T11:33:20-08:00">January 3, 2014</time></div>
</div>
<div class="comment-content">
<p>I&#8217;d also love to know how to incorporate the built-in WP thumbnail sizes. Right now the code above pulls the image in it&#8217;s original dimensions, but I&#8217;d like it to <strong>crop</strong> a thumbnail using the dimensions I have specified in my functions.php.</p>
<p>Any ideas?</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
<li class="comment even depth-2" id="li-comment-1582186">
<div class="comment-wrap" id="comment-1582186">
<div class="comment-author-wrap">
<div class="comment-author">Nick Ciske</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1582186"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-06-05T13:58:40-07:00">June 5, 2014</time></div>
</div>
<div class="comment-content">
<p>Dave,</p>
<p>You&#8217;d need to lookup the attachment ID using the URL then use that to get the image size you want:</p>
<p><a href="http://frankiejarrett.com/get-an-attachment-id-by-url-in-wordpress/" rel="nofollow ugc">http://frankiejarrett.com/get-an-attachment-id-by-url-in-wordpress/</a></p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
<li class="comment odd alt depth-2" id="li-comment-1586393">
<div class="comment-wrap" id="comment-1586393">
<div class="comment-author-wrap">
<div class="comment-author">David</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1586393"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-11-02T23:39:44-08:00">November 2, 2014</time></div>
</div>
<div class="comment-content">
<p>Did you ever find out how to do this? Its something I am struggling with .</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
<li class="comment even depth-2" id="li-comment-1607549">
<div class="comment-wrap" id="comment-1607549">
<div class="comment-author-wrap">
<div class="comment-author">Hoa Si</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1607549"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2017-03-19T04:13:15-07:00">March 19, 2017</time></div>
</div>
<div class="comment-content">
<p>Here is the code I use to resize the first images:</p>
<pre><code>/**
 * Get the first image in a post. Strip Version. Retrieve the first image from each post and resize.
 *
 * @param string $size get the first image size.
 * @link https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/
 * see
 * Usage: Include in functions.php
 * &lt;?php echo get_first_image('thumbnail'); ?&gt; in the page template.
 */
function get_first_image( $size = 'thumbnail' ) {
    global $post, $posts;
    $first_img = '';
    preg_match_all( '/&lt;img.+src=[\'"]([^\'"]+)[\'"].*&gt;/i', do_shortcode( $post-&gt;post_content, 'gallery' ), $matches );
      $first_img = isset( $matches[1][0] ) ? $matches[1][0] : null;

    if ( empty( $first_img ) ) {
            return get_template_directory_uri() . '/assets/images/empty.png'; // path to default image.
    }

    // Now we have the $first_img but we want the thumbnail of that image.
     $explode = explode( '.', $first_img );
     $count = count( $explode );
     $size = '-624x312'; // Our panel ratio (2:1) 312x156 for lighther page, 624x312 for retina; use add_image_size() and Force Regenerate Thumbnails plugin when changing sizes.
     $explode[ $count -2 ] = $explode[ $count -2 ] . '' . $size;
     $thumb_img = implode( '.', $explode );
     return $thumb_img;
}
    add_filter( 'get_first_image', 'thumbnail' );

</code></pre>
<p><a href="https://gist.github.com/SilentComics/0a7ea47942eb759dbb48eac2b7be1bbc" rel="nofollow">GitHubGist  get-first-image.php</a></p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-289143">
<div class="comment-wrap" id="comment-289143">
<div class="comment-author-wrap">
<div class="comment-author">Tori</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-289143"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-02-21T14:23:49-08:00">February 21, 2013</time></div>
</div>
<div class="comment-content">
<p>Thank you so much! I don&#8217;t know why after all this time, I just don&#8217;t check your page first when it comes to WordPress.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-289143' data-commentid="289143" data-postid="16732" data-belowelement="comment-289143" data-respondelement="respond" data-replyto="Reply to Tori" aria-label='Reply to Tori'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-289149">
<div class="comment-wrap" id="comment-289149">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-289149"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-02-21T14:38:27-08:00">February 21, 2013</time></div>
</div>
<div class="comment-content">
<p>I&#8217;d love to know how to use this logic in a child theme. I&#8217;ve hacked my child theme&#8217;s content.php so far to enable excerpts in the loop, but I&#8217;d really like the excerpt to show the first image in the post as well. Not got into making plugins yet, so I was hoping there might be a way, either by modifying my child theme&#8217;s content.php and/or its functions.php (<em>crosses fingers</em>) ;)</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-289149' data-commentid="289149" data-postid="16732" data-belowelement="comment-289149" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-289151">
<div class="comment-wrap" id="comment-289151">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-289151"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-02-21T14:47:58-08:00">February 21, 2013</time></div>
</div>
<div class="comment-content">
<p>OMG I did it! Thanks TONS for this code!!!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-289151' data-commentid="289151" data-postid="16732" data-belowelement="comment-289151" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-289154">
<div class="comment-wrap" id="comment-289154">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-289154"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-02-21T14:52:06-08:00">February 21, 2013</time></div>
</div>
<div class="comment-content">
<p>This code is gold! It picks up the image if it&#8217;s a featured image or not. Brilliant! Thank you!!!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-289154' data-commentid="289154" data-postid="16732" data-belowelement="comment-289154" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-296295">
<div class="comment-wrap" id="comment-296295">
<div class="comment-author-wrap">
<div class="comment-author">Steph</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-296295"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-04T13:29:04-08:00">March 4, 2013</time></div>
</div>
<div class="comment-content">
<p>This is a great snippet, thanks for posting it.</p>
<p>Just curious if anyone has successfully altered the function to return no IMG tag if no image is found instead of a placeholder? I&#8217;ve been tinkering with it but no joy, my PHP is rusty sadly.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-296295' data-commentid="296295" data-postid="16732" data-belowelement="comment-296295" data-respondelement="respond" data-replyto="Reply to Steph" aria-label='Reply to Steph'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-1593459">
<div class="comment-wrap" id="comment-1593459">
<div class="comment-author-wrap">
<div class="comment-author">Gareth</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1593459"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-03-27T07:22:31-07:00">March 27, 2015</time></div>
</div>
<div class="comment-content">
<p>Remove these two lines from the function:</p>
<p>if(empty($first_img)) {<br />
$first_img = &#8220;/path/to/default.png&#8221;;<br />
}</p>
<p>and then&#8230;</p>
<p>&lt;?php<br />
if ( $image = catch_that_image() )<br />
echo &#039;&#8217;;<br />
?&gt;</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-298514">
<div class="comment-wrap" id="comment-298514">
<div class="comment-author-wrap">
<div class="comment-author">flo</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-298514"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-07T08:09:54-08:00">March 7, 2013</time></div>
</div>
<div class="comment-content">
<p>great! what would be the code in order to show the LATEST image attached to a post. best, flo</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-298514' data-commentid="298514" data-postid="16732" data-belowelement="comment-298514" data-respondelement="respond" data-replyto="Reply to flo" aria-label='Reply to flo'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-299100">
<div class="comment-wrap" id="comment-299100">
<div class="comment-author-wrap">
<div class="comment-author">Barry</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-299100"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-08T10:01:52-08:00">March 8, 2013</time></div>
</div>
<div class="comment-content">
<p>For some reason this always gets the last image in a post and not the first. Used as is with a few posts with about 2 images in each.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-299100' data-commentid="299100" data-postid="16732" data-belowelement="comment-299100" data-respondelement="respond" data-replyto="Reply to Barry" aria-label='Reply to Barry'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment odd alt depth-2" id="li-comment-1585203">
<div class="comment-wrap" id="comment-1585203">
<div class="comment-author-wrap">
<div class="comment-author">Michelle</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1585203"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-09-11T00:30:13-07:00">September 11, 2014</time></div>
</div>
<div class="comment-content">
<p>To get the first image instead of the last, replace /i with /U in the regular expression</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-299172">
<div class="comment-wrap" id="comment-299172">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-299172"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-08T12:57:09-08:00">March 8, 2013</time></div>
</div>
<div class="comment-content">
<p>@Barry &#8211; That&#8217;s strange &#8211; it&#8217;s taking the first image for me (i.e., the first image that appears in the post &#8211; the one nearest the top).</p>
<p>I&#8217;m inserting the code inside a duplicated content.php in a child theme, directly after:</p>
<pre><code>&lt;div class="entry-summary"&gt;
</code></pre>
<p>&#8230; in its own div.</p>
<p>Seems to work for me.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-299172' data-commentid="299172" data-postid="16732" data-belowelement="comment-299172" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-302068">
<div class="comment-wrap" id="comment-302068">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-302068"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-12T14:24:52-07:00">March 12, 2013</time></div>
</div>
<div class="comment-content">
<p>Just one problem &#8211; it returns the first image for listings in the loop, but not for category listings</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-302068' data-commentid="302068" data-postid="16732" data-belowelement="comment-302068" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-302069">
<div class="comment-wrap" id="comment-302069">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-302069"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-12T14:27:11-07:00">March 12, 2013</time></div>
</div>
<div class="comment-content">
<p>sorry &#8211; I meant, not for category listings where the first image is a featured image (I know I could get the first non-featured image, but I wondered if it could be tweaked to get the first featured image for category listings?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-302069' data-commentid="302069" data-postid="16732" data-belowelement="comment-302069" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-302075">
<div class="comment-wrap" id="comment-302075">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-302075"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-12T14:37:21-07:00">March 12, 2013</time></div>
</div>
<div class="comment-content">
<p>Ah &#8211; I worked it out &#8211; just to add:</p>
<p>|| is_category()</p>
<p>&#8230; to the conditional.</p>
<p>Duh!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-302075' data-commentid="302075" data-postid="16732" data-belowelement="comment-302075" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-304562">
<div class="comment-wrap" id="comment-304562">
<div class="comment-author-wrap">
<div class="comment-author">Sai</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-304562"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-16T21:06:13-07:00">March 16, 2013</time></div>
</div>
<div class="comment-content">
<p>Is there anyway we can display an image for Only First Post?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-304562' data-commentid="304562" data-postid="16732" data-belowelement="comment-304562" data-respondelement="respond" data-replyto="Reply to Sai" aria-label='Reply to Sai'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-321361">
<div class="comment-wrap" id="comment-321361">
<div class="comment-author-wrap">
<div class="comment-author">nev</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-321361"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-03-27T03:04:45-07:00">March 27, 2013</time></div>
</div>
<div class="comment-content">
<p>There&#8217;s a problem with the default image path when viewing category listings with pretty permalinks turned on &#8211; you get a broken image link because something like &#8220;images/default.jpg&#8221; is appended to the end of the permalink (e.g., &#8220;example.com/category/images/default.jpg&#8221;).]</p>
<p>Trying to think of a path to use that would cover all bases for that situation.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-321361' data-commentid="321361" data-postid="16732" data-belowelement="comment-321361" data-respondelement="respond" data-replyto="Reply to nev" aria-label='Reply to nev'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-1595176">
<div class="comment-wrap" id="comment-1595176">
<div class="comment-author-wrap">
<div class="comment-author">The Dro</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1595176"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-06-10T19:02:19-07:00">June 10, 2015</time></div>
</div>
<div class="comment-content">
<p>add a / before images. This way you&#8217;re doing a direct path from the root.</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-438600">
<div class="comment-wrap" id="comment-438600">
<div class="comment-author-wrap">
<div class="comment-author">Warrentier</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-438600"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-05-12T07:53:17-07:00">May 12, 2013</time></div>
</div>
<div class="comment-content">
<p>I tried the code; it did return the image &#8230;</p>
<p>p.s. I wrote my posts using windows live writer 2012 and embed Facebook photo link in live writer)</p>
<p>But I couldn&#8217;t get the returned image in thumbnail size&#8230; Also, the image appears on top of the posts on both the index and individual post.</p>
<p>That makes two images (one thumbnail and a duplicate one inside the post)..<br />
. I&#8217;d like to get rid of the thumbnail when it&#8217;s in single post while only showing the thumbnail with float left on index page.</p>
<p>What can I do?</p>
<p>I am using my own child theme from twenty twelve &#8230;</p>
<p>Many thanks in advance&#8230;</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-438600' data-commentid="438600" data-postid="16732" data-belowelement="comment-438600" data-respondelement="respond" data-replyto="Reply to Warrentier" aria-label='Reply to Warrentier'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-438769">
<div class="comment-wrap" id="comment-438769">
<div class="comment-author-wrap">
<div class="comment-author">Dan</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-438769"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-05-12T17:38:30-07:00">May 12, 2013</time></div>
</div>
<div class="comment-content">
<p>Thanks! Works like a charm :)</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-438769' data-commentid="438769" data-postid="16732" data-belowelement="comment-438769" data-respondelement="respond" data-replyto="Reply to Dan" aria-label='Reply to Dan'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-447689">
<div class="comment-wrap" id="comment-447689">
<div class="comment-author-wrap">
<div class="comment-author">Jordan Singleton</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-447689"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-05-24T15:05:57-07:00">May 24, 2013</time></div>
</div>
<div class="comment-content">
<p>This is how I handled it without regular expressions. I just put it in the template (in the loop of an archive page), but it wouldn&#8217;t be too hard to pull it into a function that could then be called in the template.</p>
<pre><code>&lt;?php // Get thumbnail image

    if (has_post_thumbnail()) { 
        the_post_thumbnail('portfolio-thumbnail');
    } else {
        $gallery_arguments = array(
        'post_type' =&gt; 'attachment',
        'post_mime_type' =&gt; 'image',
        'post_parent' =&gt; $post-&gt;ID,
        'numberposts' =&gt; 1);

        $gallery_images = get_children($gallery_arguments);
        if ($gallery_images) {
            foreach ($gallery_images as $post) {
            $image_attributes = wp_get_attachment_image_src($post-&gt;ID,'thumbnail');
            ?&gt;
                &lt;img src="&lt;?php echo $image_attributes[0]; ?&gt;"&gt;
        &lt;?php } }
            wp_reset_postdata();
    };
?&gt;
</code></pre>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-447689' data-commentid="447689" data-postid="16732" data-belowelement="comment-447689" data-respondelement="respond" data-replyto="Reply to Jordan Singleton" aria-label='Reply to Jordan Singleton'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-454894">
<div class="comment-wrap" id="comment-454894">
<div class="comment-author-wrap">
<div class="comment-author">Mittens</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-454894"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-06-04T09:15:13-07:00">June 4, 2013</time></div>
</div>
<div class="comment-content">
<p>I actually got to this page because I was doing something similar to what you have.</p>
<p>I really liked that way, however get&#095;children will only work if said image is <strong>only</strong> used in the current post. Or at least that&#8217;s where it was used first.<br />
That&#8217;s because in the current WP version, post&#095;parent has to be unique (an attachment can&#8217;t have multiple parents).</p>
<p>Solutions to this can however be obtained by hacking around with plugins that duplicate attachment entries in the database for each new post (see <a href="http://wordpress-hackers.1065353.n5.nabble.com/Attaching-photos-to-multiple-posts-td709.html" rel="nofollow">here</a>).</p>
<p>Are you using any of those solutions?</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-476614">
<div class="comment-wrap" id="comment-476614">
<div class="comment-author-wrap">
<div class="comment-author">Archie Makuwa</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-476614"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-07-02T02:25:42-07:00">July 2, 2013</time></div>
</div>
<div class="comment-content">
<p>Hi guys,</p>
<p>I am using a foundations theme and have followed the exact steps above. It works on the localhost (links to images in the right localhost path). The problem comes in on the live, the images path is that from the localhost:<br />
<a href="http://localhost/MySite/wp-content/uploads/2013/06/corrupt.jpg" rel="nofollow ugc">http://localhost/MySite/wp-content/uploads/2013/06/corrupt.jpg</a></p>
<p>So basically it breaks. How to I turn the localhost url into a more dynamic one?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-476614' data-commentid="476614" data-postid="16732" data-belowelement="comment-476614" data-respondelement="respond" data-replyto="Reply to Archie Makuwa" aria-label='Reply to Archie Makuwa'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1 buried" id="li-comment-569908">
<div class="comment-wrap" id="comment-569908">
<div class="comment-author-wrap">
<div class="comment-author">Dan Gaz</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-569908"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-10-02T04:24:29-07:00">October 2, 2013</time></div>
</div>
<div class="comment-content">
<p>Perfectly Working! :) Many ThanX</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-569908' data-commentid="569908" data-postid="16732" data-belowelement="comment-569908" data-respondelement="respond" data-replyto="Reply to Dan Gaz" aria-label='Reply to Dan Gaz'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-590803">
<div class="comment-wrap" id="comment-590803">
<div class="comment-author-wrap">
<div class="comment-author">Salem</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-590803"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-10-14T11:31:58-07:00">October 14, 2013</time></div>
</div>
<div class="comment-content">
<p>I&#8217;m currently give up with the_post_thumbnail(); function at all and moving to use first_img instead from duplicate my work making thumbnail and inside post image ..</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-590803' data-commentid="590803" data-postid="16732" data-belowelement="comment-590803" data-respondelement="respond" data-replyto="Reply to Salem" aria-label='Reply to Salem'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-621859">
<div class="comment-wrap" id="comment-621859">
<div class="comment-author-wrap">
<div class="comment-author">Wendy</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-621859"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-10-31T11:06:46-07:00">October 31, 2013</time></div>
</div>
<div class="comment-content">
<p>I&#8217;ve been using this function for a while, now noticing that I&#8217;m getting a php notice in my error log, PHP Notice: Undefined offset: 0. for this line: <code>$first_img = $matches [1] [0];</code> This post here: <a href="https://stackoverflow.com/questions/9399509/getting-rid-of-php-notice-undefined-offset" rel="nofollow ugc">http://stackoverflow.com/questions/9399509/getting-rid-of-php-notice-undefined-offset</a> tells me I need to use isset() to check if something is in there first. Has anyone else experienced this? I&#8217;m only noticing this notice now, wondering what may have changed.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-621859' data-commentid="621859" data-postid="16732" data-belowelement="comment-621859" data-respondelement="respond" data-replyto="Reply to Wendy" aria-label='Reply to Wendy'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-762780">
<div class="comment-wrap" id="comment-762780">
<div class="comment-author-wrap">
<div class="comment-author">DUKE</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-762780"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-12-05T05:37:32-08:00">December 5, 2013</time></div>
</div>
<div class="comment-content">
<p>i have a problem the default img not show &amp; it show me the error:</p>
<p>Notice: Undefined offset: 0 in /vagrant/wp-content/themes/advocacy/functions.php on line 51 <a href="http://127.0.0.1:8080/wp-content/themes/advocacy/assert/img/ipa.no.list.img.jpg" rel="nofollow ugc">http://127.0.0.1:8080/wp-content/themes/advocacy/assert/img/ipa.no.list.img.jpg</a>&#8221;</p>
<p>line 51: $first_img = $matches[1][0];</p>
<p>can someone help me?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-762780' data-commentid="762780" data-postid="16732" data-belowelement="comment-762780" data-respondelement="respond" data-replyto="Reply to DUKE" aria-label='Reply to DUKE'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-762950">
<div class="comment-wrap" id="comment-762950">
<div class="comment-author-wrap">
<div class="comment-author">DUKE</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-762950"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-12-05T06:14:01-08:00">December 5, 2013</time></div>
</div>
<div class="comment-content">
<p>I found a solution that works for me:<br />
REPLACE:</p>
<p>$output = preg_match_all(&#8216;/&lt;img.+src=<a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/[^/'"]+" rel="nofollow">\'&#8221;</a>[\'&#8221;].*&gt;/i&#8217;, $post-&gt;post_content, $matches);<br />
$first_img = $matches[1][0];</p>
<p>with:</p>
<p>if( $output = preg_match_all(&#8216;/&lt;img.+src=<a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/[^/'"]+" rel="nofollow">\'&#8221;</a>[\'&#8221;].*&gt;/i&#8217;, $post-&gt;post_content, $matches) )<br />
{<br />
$first_img = $matches[1][0];<br />
}</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-824814">
<div class="comment-wrap" id="comment-824814">
<div class="comment-author-wrap">
<div class="comment-author">AbhiM</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-824814"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2013-12-13T07:10:19-08:00">December 13, 2013</time></div>
</div>
<div class="comment-content">
<p>i am trying this.. but instead of getting image. i am getting only the link&#8230; can any one help me on this</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-824814' data-commentid="824814" data-postid="16732" data-belowelement="comment-824814" data-respondelement="respond" data-replyto="Reply to AbhiM" aria-label='Reply to AbhiM'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1062602">
<div class="comment-wrap" id="comment-1062602">
<div class="comment-author-wrap">
<div class="comment-author">Jones</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1062602"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-01-06T21:06:26-08:00">January 6, 2014</time></div>
</div>
<div class="comment-content">
<p>This code looks very similar to an <a href="https://stackoverflow.com/questions/7264020/wordpress-snag-first-image-from-a-gallery" rel="nofollow">answer provided on StackOverflow</a>.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1062602' data-commentid="1062602" data-postid="16732" data-belowelement="comment-1062602" data-respondelement="respond" data-replyto="Reply to Jones" aria-label='Reply to Jones'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1113433">
<div class="comment-wrap" id="comment-1113433">
<div class="comment-author-wrap">
<div class="comment-author">Carol Ann</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1113433"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-01-25T02:52:08-08:00">January 25, 2014</time></div>
</div>
<div class="comment-content">
<p>Hello,</p>
<p>I&#8217;m not a programmer, but think I have stumbled upon your post looking for the right thing and was hoping you could help me integrate your code into the following code in my theme?</p>
<p>Thanks in advance :)</p>
<pre><code>if ( has_post_thumbnail() )  ?&gt;

    &lt;div class="entry-image" style="&lt;?php echo $max_height; ?&gt;"&gt;

        &lt;?php 

        if(!of_get_option('post_image_lightbox')){ ?&gt;

            &lt;a href="&lt;?php the_permalink(); ?&gt;" title="&lt;?php the_title(); ?&gt;" rel="bookmark"&gt;

                &lt;?php the_post_thumbnail( $featured_image_size ); ?&gt;

            &lt;/a&gt;&lt;?php 

        }else{

            $src = wp_get_attachment_image_src( get_post_thumbnail_id($post-&gt;ID), 'large', false, '' ); ?&gt;

            &lt;a href="&lt;?php echo $src[0]; ?&gt;" class="lightbox" title="&lt;?php the_title(); ?&gt;" rel="bookmark"&gt;

                &lt;?php the_post_thumbnail( $featured_image_size ); ?&gt;


            &lt;/a&gt;&lt;?php 

        } ?&gt;

    &lt;/div&gt;&lt;?php 

    }
</code></pre>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1113433' data-commentid="1113433" data-postid="16732" data-belowelement="comment-1113433" data-respondelement="respond" data-replyto="Reply to Carol Ann" aria-label='Reply to Carol Ann'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1121908">
<div class="comment-wrap" id="comment-1121908">
<div class="comment-author-wrap">
<div class="comment-author">Mike</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1121908"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-01-29T09:46:24-08:00">January 29, 2014</time></div>
</div>
<div class="comment-content">
<p>Is there a way to bypass the featured image and take the image that is listed first in the content? I&#8217;m using a child theme of twentythirteen and for some reason it will not crop my images when reducing it to thumbnail size. It just squeezes it into 100&#215;100. So I&#8217;m forced to use a 100&#215;100 image for my featured image (because I need a thumbnail displayed on my home page. I want to display the full size image on my page that displays my posts.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1121908' data-commentid="1121908" data-postid="16732" data-belowelement="comment-1121908" data-respondelement="respond" data-replyto="Reply to Mike" aria-label='Reply to Mike'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1 buried" id="li-comment-1156971">
<div class="comment-wrap" id="comment-1156971">
<div class="comment-author-wrap">
<div class="comment-author">eklotan</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1156971"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-02-14T12:41:25-08:00">February 14, 2014</time></div>
</div>
<div class="comment-content">
<p>thanks a lot. It works. great helpful.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1156971' data-commentid="1156971" data-postid="16732" data-belowelement="comment-1156971" data-respondelement="respond" data-replyto="Reply to eklotan" aria-label='Reply to eklotan'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1259787">
<div class="comment-wrap" id="comment-1259787">
<div class="comment-author-wrap">
<div class="comment-author">shahroz</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1259787"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-03-06T10:08:54-08:00">March 6, 2014</time></div>
</div>
<div class="comment-content">
<p>Hello sir please tell me how to use the second part of your code i mean how to add that code in a loop,sir i am a newbie so please help me thanks</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1259787' data-commentid="1259787" data-postid="16732" data-belowelement="comment-1259787" data-respondelement="respond" data-replyto="Reply to shahroz" aria-label='Reply to shahroz'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1580533">
<div class="comment-wrap" id="comment-1580533">
<div class="comment-author-wrap">
<div class="comment-author">Nathan</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1580533"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-04-29T21:13:59-07:00">April 29, 2014</time></div>
</div>
<div class="comment-content">
<p>This is great! Great fallback when no thumbnail is set. Thanks!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1580533' data-commentid="1580533" data-postid="16732" data-belowelement="comment-1580533" data-respondelement="respond" data-replyto="Reply to Nathan" aria-label='Reply to Nathan'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1580832">
<div class="comment-wrap" id="comment-1580832">
<div class="comment-author-wrap">
<div class="comment-author">Nikolas</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1580832"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-05-06T15:17:34-07:00">May 6, 2014</time></div>
</div>
<div class="comment-content">
<p>Hi there.<br />
Thank you for your code. I&#8217;ve used it to display 4-5 random posts along with their first image.<br />
The code works fine but I would like to get the images dynamically resized. Using CSS is not an option since the images on my website are quite big and therefore loading 4-5 full size images below each post would make the site slow.</p>
<p>So, is there a dynamic way to resize the image?</p>
<p>Thank you in advance for your help :)</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1580832' data-commentid="1580832" data-postid="16732" data-belowelement="comment-1580832" data-respondelement="respond" data-replyto="Reply to Nikolas" aria-label='Reply to Nikolas'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1581019">
<div class="comment-wrap" id="comment-1581019">
<div class="comment-author-wrap">
<div class="comment-author">Madhu</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1581019"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-05-10T07:39:47-07:00">May 10, 2014</time></div>
</div>
<div class="comment-content">
<p>Not working in custom post types .any one please provide a solution to this</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1581019' data-commentid="1581019" data-postid="16732" data-belowelement="comment-1581019" data-respondelement="respond" data-replyto="Reply to Madhu" aria-label='Reply to Madhu'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1581634">
<div class="comment-wrap" id="comment-1581634">
<div class="comment-author-wrap">
<div class="comment-author">Vicento</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1581634"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-05-24T10:36:06-07:00">May 24, 2014</time></div>
</div>
<div class="comment-content">
<p>hey guys,<br />
I was wondering , what would it be needed to make it retrieve more than just the first one. maybe the first 4 images&#8230;. ?</p>
<p>I think the array must be modified but i don&#8217;t understand it much&#8230;<br />
thanksss</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1581634' data-commentid="1581634" data-postid="16732" data-belowelement="comment-1581634" data-respondelement="respond" data-replyto="Reply to Vicento" aria-label='Reply to Vicento'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1582048">
<div class="comment-wrap" id="comment-1582048">
<div class="comment-author-wrap">
<div class="comment-author">Kevin Hower</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1582048"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-06-03T15:51:42-07:00">June 3, 2014</time></div>
</div>
<div class="comment-content">
<p>First, thanks for this code! Second, I had the same undefined offset problem as some others had. So, what I did was leave the output line alone but change what came after that to :</p>
<pre><code>$first_img = $matches[1][0];

  if(empty($first_img)) {
    $first_img = "/path/to/default.png";
  }
  return $first_img;
</code></pre>
<p>in the function and then in my template i put this:</p>
<pre><code>            &amp;lt;a href=&amp;quot;" &amp;gt;
              &amp;lt;img src=&amp;quot;" alt="" /&amp;gt;
            &lt;/a&gt;
</code></pre>
<p>I need to add some styling, but I&#8217;m still learning so I was more concerned with function for now than the style part. It also fixes the issue of having a default image show when there&#8217;s nothing to show, which was bugging me.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1582048' data-commentid="1582048" data-postid="16732" data-belowelement="comment-1582048" data-respondelement="respond" data-replyto="Reply to Kevin Hower" aria-label='Reply to Kevin Hower'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1582049">
<div class="comment-wrap" id="comment-1582049">
<div class="comment-author-wrap">
<div class="comment-author">Kevin Hower</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1582049"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-06-03T15:58:52-07:00">June 3, 2014</time></div>
</div>
<div class="comment-content">
<p>Well, crud, this just isn&#8217;t my day apparently. I thought I had pasted my own code but apparenty I pasted the original .</p>
<p>THIS is actually what I did in the function:</p>
<p>if (!empty($matches[1][0]) ) {<br />
$first_img = $matches[1][0];<br />
} else {<br />
$first_img = &#8220;&#8221;;<br />
}<br />
return $first_img;</p>
<p>Sorry for any confusion.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1582049' data-commentid="1582049" data-postid="16732" data-belowelement="comment-1582049" data-respondelement="respond" data-replyto="Reply to Kevin Hower" aria-label='Reply to Kevin Hower'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1582091">
<div class="comment-wrap" id="comment-1582091">
<div class="comment-author-wrap">
<div class="comment-author">Scott Fennell</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1582091"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-06-04T08:33:59-07:00">June 4, 2014</time></div>
</div>
<div class="comment-content">
<p>What&#8217;s the purpose of the $posts variable and output buffering? I tried it without either one and it worked fine. Here it is bundled up with an img tag and an alt attr:</p>
<pre><code>/**
</code></pre>
<p>* Return an HTML img tag for the first image in a post content. Used to draw<br />
* the content for posts of the &#8220;image&#8221; format.<br />
*<br />
* @return string An HTML img tag for the first image in a post content.<br />
*/<br />
function icicle_get_first_image() {</p>
<pre><code>// Expose information about the current post.
global $post;

// We'll trap to see if this stays empty later in the function.
$src = '';

// Grab all img src's in the post content
$output = preg_match_all( '//i', $post-&amp;gt;post_content, $matches );

// Grab the first img src returned by our regex.
if( ! isset ( $matches[1][0] ) ) { return false; }
$src = $matches[1][0];

// Sanitize for output
$src = esc_url( $src );

// Make sure there's still something worth outputting after sanitization.
if( empty( $src ) ) { return false; }

// Grab and sanitize the post title as an alt.
$alt = esc_attr( $post-&amp;gt;post_title );

$out = "";
return $out;
</code></pre>
<p>}</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1582091' data-commentid="1582091" data-postid="16732" data-belowelement="comment-1582091" data-respondelement="respond" data-replyto="Reply to Scott Fennell" aria-label='Reply to Scott Fennell'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1582331">
<div class="comment-wrap" id="comment-1582331">
<div class="comment-author-wrap">
<div class="comment-author">Fabrcio</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1582331"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-06-09T11:22:31-07:00">June 9, 2014</time></div>
</div>
<div class="comment-content">
<p>Hello, the code worked perfectly, however, I wonder how do I automatically generate a smaller image size, because it is loading the original image.</p>
<p>I tried to do something like:</p>
<p>add_image_size (&#8216;thumb-medium&#8217;, 160, 140, true, array (&#8216;center&#8217;, &#8216;top&#8217;));</p>
<p>More unsuccessfully!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1582331' data-commentid="1582331" data-postid="16732" data-belowelement="comment-1582331" data-respondelement="respond" data-replyto="Reply to Fabrcio" aria-label='Reply to Fabrcio'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1582546">
<div class="comment-wrap" id="comment-1582546">
<div class="comment-author-wrap">
<div class="comment-author">Andy</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1582546"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-06-12T07:42:31-07:00">June 12, 2014</time></div>
</div>
<div class="comment-content">
<p>Hello, I want to show excerpt with first 300 characters of the post, how can I do it?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1582546' data-commentid="1582546" data-postid="16732" data-belowelement="comment-1582546" data-respondelement="respond" data-replyto="Reply to Andy" aria-label='Reply to Andy'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-1595177">
<div class="comment-wrap" id="comment-1595177">
<div class="comment-author-wrap">
<div class="comment-author">The Dro</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1595177"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-06-10T19:22:50-07:00">June 10, 2015</time></div>
</div>
<div class="comment-content">
<p>By using the Excerpt function</p>
<p><a href="https://codex.wordpress.org/Function_Reference/the_excerpt" rel="nofollow ugc">https://codex.wordpress.org/Function_Reference/the_excerpt</a></p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-even depth-1 buried" id="li-comment-1584592">
<div class="comment-wrap" id="comment-1584592">
<div class="comment-author-wrap">
<div class="comment-author">komar</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1584592"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-08-20T23:18:00-07:00">August 20, 2014</time></div>
</div>
<div class="comment-content">
<p>Thanks for this. work for me.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1584592' data-commentid="1584592" data-postid="16732" data-belowelement="comment-1584592" data-respondelement="respond" data-replyto="Reply to komar" aria-label='Reply to komar'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1585862">
<div class="comment-wrap" id="comment-1585862">
<div class="comment-author-wrap">
<div class="comment-author">okita</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1585862"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-10-12T06:18:38-07:00">October 12, 2014</time></div>
</div>
<div class="comment-content">
<p>I tried this and it worked, but I have a problem with the fact that sometimes the first image turned out to be a smiley because it is also started with tag. Is there any way to exclude smilies from being selected as the first image?</p>
<p>Tried to read about preg_match and regex but it&#8217;s way beyond my comprehension since I&#8217;m not a programmer myself.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1585862' data-commentid="1585862" data-postid="16732" data-belowelement="comment-1585862" data-respondelement="respond" data-replyto="Reply to okita" aria-label='Reply to okita'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1 buried" id="li-comment-1586384">
<div class="comment-wrap" id="comment-1586384">
<div class="comment-author-wrap">
<div class="comment-author">hesham</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1586384"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-11-02T14:28:58-08:00">November 2, 2014</time></div>
</div>
<div class="comment-content">
<p>Very helpful and works like a charm</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1586384' data-commentid="1586384" data-postid="16732" data-belowelement="comment-1586384" data-respondelement="respond" data-replyto="Reply to hesham" aria-label='Reply to hesham'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1587316">
<div class="comment-wrap" id="comment-1587316">
<div class="comment-author-wrap">
<div class="comment-author">Helen</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1587316"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2014-12-05T15:58:26-08:00">December 5, 2014</time></div>
</div>
<div class="comment-content">
<p>Thanks so much for this tutorial and the one on Functionality plugin! I made my first plugin with the help of your tutorial and am so happy :)</p>
<p>You and your site are the best!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1587316' data-commentid="1587316" data-postid="16732" data-belowelement="comment-1587316" data-respondelement="respond" data-replyto="Reply to Helen" aria-label='Reply to Helen'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-1592084">
<div class="comment-wrap" id="comment-1592084">
<div class="comment-author-wrap">
<div class="comment-author">Naveen</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1592084"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-01-23T04:25:06-08:00">January 23, 2015</time></div>
</div>
<div class="comment-content">
<p>That is an awesome hack. One quick question, how to get the thumbnail of the non-featured image displayed using catch_that_image()?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1592084' data-commentid="1592084" data-postid="16732" data-belowelement="comment-1592084" data-respondelement="respond" data-replyto="Reply to Naveen" aria-label='Reply to Naveen'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-odd thread-alt depth-1" id="li-comment-1592533">
<div class="comment-wrap" id="comment-1592533">
<div class="comment-author-wrap">
<div class="comment-author">darknote</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1592533"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-02-12T05:34:43-08:00">February 12, 2015</time></div>
</div>
<div class="comment-content">
<p>Hi,<br />
How do I make all thumbnails are aligned to the left?<br />
Thank you</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1592533' data-commentid="1592533" data-postid="16732" data-belowelement="comment-1592533" data-respondelement="respond" data-replyto="Reply to darknote" aria-label='Reply to darknote'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-even depth-1" id="li-comment-1593198">
<div class="comment-wrap" id="comment-1593198">
<div class="comment-author-wrap">
<div class="comment-author">Richard</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1593198"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-03-14T11:46:43-07:00">March 14, 2015</time></div>
</div>
<div class="comment-content">
<p>First, thanks for the tip on the function! But, like someone above, I got &#8220;Undefined offset&#8221;. After many hours of trial and error I stumbled on this code:</p>
<pre><code>function catch_that_image() {
global $post, $posts;
$first_img = '';
ob_start();
ob_end_clean();
if(preg_match_all('/&lt;img.+src=[\'"]([^\'"]+)[\'"].*&gt;/i', $post-&gt;post_content, $matches)){
$first_img = $matches [1] [0];
return $first_img;
}
else {
$first_img = get_template_directory_uri()."/images/default.jpg";
return $first_img;
}
}
</code></pre>
<p>This worked perfectly! Code from: <a href="http://www.devnetwork.net/viewtopic.php?f=1&amp;t=136123" rel="nofollow ugc">http://www.devnetwork.net/viewtopic.php?f=1&#038;t=136123</a> Now, onto the next mission. Get this to only show the thumbnail of the caught image. God, I really need to learn php! ;)</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1593198' data-commentid="1593198" data-postid="16732" data-belowelement="comment-1593198" data-respondelement="respond" data-replyto="Reply to Richard" aria-label='Reply to Richard'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-1593207">
<div class="comment-wrap" id="comment-1593207">
<div class="comment-author-wrap">
<div class="comment-author">Richard</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1593207"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-03-15T08:45:38-07:00">March 15, 2015</time></div>
</div>
<div class="comment-content">
<p>Almost a day later, after muuuch trial and errors and help from a lot of forum posts, I have come up with this:</p>
<pre><code>//Find first image in post
function catch_that_image() {
global $post, $posts, $wpdb;
$first_img = '';
ob_start();
ob_end_clean();
if(preg_match_all('/&lt;img.+src=[\'"]([^\'"]+)[\'"].*&gt;/i', $post-&gt;post_content, $matches)){
$first_img = $matches [1] [0];
// Get the upload directory paths
$upload_dir_paths = wp_upload_dir();
// If this is the URL of an auto-generated thumbnail, get the URL of the original image
$attachment_url = preg_replace( '/-\d+x\d+(?=\.(jpg|jpeg|png|gif)$)/i', '', $first_img );
// Remove the upload path base directory from the attachment URL
$attachment_url = str_replace( $upload_dir_paths['baseurl'] . '/', '', $attachment_url );
 // Run a custom database query to get the attachment ID from the modified attachment URL
$attachment_id = $wpdb-&gt;get_var( $wpdb-&gt;prepare( "SELECT wposts.ID FROM $wpdb-&gt;posts wposts, $wpdb-&gt;postmeta wpostmeta WHERE wposts.ID = wpostmeta.post_id AND wpostmeta.meta_key = '_wp_attached_file' AND wpostmeta.meta_value = '%s' AND wposts.post_type = 'attachment'", $attachment_url ) );
$thumb_url = wp_get_attachment_image_src($attachment_id,'thumbnail', true);
//Get thumbnail metadata
$metadata = wp_get_attachment_metadata($attachment_id);
$height =  $metadata['sizes']['thumbnail']['height'];
$width =  $metadata['sizes']['thumbnail']['width'];
$alt_text = get_post_meta($attachment_id, '_wp_attachment_image_alt', true);
$title_text = get_the_title($attachment_id);
//$caption_text = get_post($attachment_id)-&gt;post_excerpt;
// Build the &lt;img&gt; string
$Thumb_image = '&lt;a href="' . get_permalink() . '"&gt;' .
'&lt;img src="' . $thumb_url[0] . '" width= "'. $width .'" height="'. $height .'" alt="'. $alt_text .'" title="'. $title_text .'" /&gt;' .
'&lt;/a&gt;';
// Echo the thumb image
return $Thumb_image;
}
//If no image found, return a default image
else {
$first_img = get_template_directory_uri() . '/img/Default.png';
return '&lt;img src="' . $first_img . '" alt="Alt text" title="Title text" /&gt;';
}
}
</code></pre>
<p>It will find the first image, then find the corresponding thumbnail and add width, height, alt and title to the output. You can also add the caption. Uncomment the row &#8220;//$caption_text&#8221; and add the caption in in the image string.<br />
To use it:</p>
<pre><code>&lt;?php echo catch_that_image(); ?&gt;
</code></pre>
<p>Hopefully this will save some time for someone else!</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1596396">
<div class="comment-wrap" id="comment-1596396">
<div class="comment-author-wrap">
<div class="comment-author">Surinder Kumar</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1596396"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-08-13T04:48:21-07:00">August 13, 2015</time></div>
</div>
<div class="comment-content">
<p>Thanks for this.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1596396' data-commentid="1596396" data-postid="16732" data-belowelement="comment-1596396" data-respondelement="respond" data-replyto="Reply to Surinder Kumar" aria-label='Reply to Surinder Kumar'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1597321">
<div class="comment-wrap" id="comment-1597321">
<div class="comment-author-wrap">
<div class="comment-author">Fred</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1597321"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-10-01T09:39:14-07:00">October 1, 2015</time></div>
</div>
<div class="comment-content">
<p>Thanks a lot, very usefull when working with content already in place that does not have featured images!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1597321' data-commentid="1597321" data-postid="16732" data-belowelement="comment-1597321" data-respondelement="respond" data-replyto="Reply to Fred" aria-label='Reply to Fred'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1597550">
<div class="comment-wrap" id="comment-1597550">
<div class="comment-author-wrap">
<div class="comment-author">Shreyasi</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1597550"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2015-10-20T04:47:55-07:00">October 20, 2015</time></div>
</div>
<div class="comment-content">
<p>Thank you so much. Great post. Helped me a lot.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1597550' data-commentid="1597550" data-postid="16732" data-belowelement="comment-1597550" data-respondelement="respond" data-replyto="Reply to Shreyasi" aria-label='Reply to Shreyasi'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1599032">
<div class="comment-wrap" id="comment-1599032">
<div class="comment-author-wrap">
<div class="comment-author">jberg1</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1599032"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-01-12T23:47:23-08:00">January 12, 2016</time></div>
</div>
<div class="comment-content">
<p>I was having problems with this code outputting the last image in the post, instead of the first. Not exactly sure why. But replacing the &#8220;preg_match_all&#8221; line with this, cured it.</p>
<p><code>if(preg_match_all('/&lt; *img[^&gt;]*src *= *["\']?([^"\']*)/', $post-&gt;post_content, $matches)){</code></p>
<p>Nice Code! Thanks.<br />
And thanks Richard for the version that delivers a sized thumbnail.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1599032' data-commentid="1599032" data-postid="16732" data-belowelement="comment-1599032" data-respondelement="respond" data-replyto="Reply to jberg1" aria-label='Reply to jberg1'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1599109">
<div class="comment-wrap" id="comment-1599109">
<div class="comment-author-wrap">
<div class="comment-author">Dreamer</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1599109"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-01-16T06:52:51-08:00">January 16, 2016</time></div>
</div>
<div class="comment-content">
<p>Does not work</p>
<pre><code>&lt;link href="http://site.com/wp-content/uploads/2014/01/image.png"&gt;
</code></pre>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1599109' data-commentid="1599109" data-postid="16732" data-belowelement="comment-1599109" data-respondelement="respond" data-replyto="Reply to Dreamer" aria-label='Reply to Dreamer'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1 buried" id="li-comment-1599171">
<div class="comment-wrap" id="comment-1599171">
<div class="comment-author-wrap">
<div class="comment-author">Lee</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1599171"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-01-18T15:16:39-08:00">January 18, 2016</time></div>
</div>
<div class="comment-content">
<p>Thanks for the function.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1599171' data-commentid="1599171" data-postid="16732" data-belowelement="comment-1599171" data-respondelement="respond" data-replyto="Reply to Lee" aria-label='Reply to Lee'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1599457">
<div class="comment-wrap" id="comment-1599457">
<div class="comment-author-wrap">
<div class="comment-author">Imran Bughio</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1599457"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-02-05T00:55:39-08:00">February 5, 2016</time></div>
</div>
<div class="comment-content">
<p>How can this be used to render custom image size?</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1599457' data-commentid="1599457" data-postid="16732" data-belowelement="comment-1599457" data-respondelement="respond" data-replyto="Reply to Imran Bughio" aria-label='Reply to Imran Bughio'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1599512">
<div class="comment-wrap" id="comment-1599512">
<div class="comment-author-wrap">
<div class="comment-author">sama web solutions</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1599512"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-02-09T06:19:22-08:00">February 9, 2016</time></div>
</div>
<div class="comment-content">
<p>Great functionality plugin :D</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1599512' data-commentid="1599512" data-postid="16732" data-belowelement="comment-1599512" data-respondelement="respond" data-replyto="Reply to sama web solutions" aria-label='Reply to sama web solutions'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1599786">
<div class="comment-wrap" id="comment-1599786">
<div class="comment-author-wrap">
<div class="comment-author">Michael Thompson</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1599786"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-02-22T16:38:26-08:00">February 22, 2016</time></div>
</div>
<div class="comment-content">
<p>I would strongly suggest wrapping <code>$post-&gt;post_content</code> in <code>do_shortcode()</code> so that you also grab images from galleries or other shortcodes that put images in content.</p>
<p>Doing that, the output line looks like this:</p>
<pre><code>$output = preg_match_all('/&lt;img.+src=[\'"]([^\'"]+)[\'"].*&gt;/i', do_shortcode($post-&gt;post_content), $matches);
</code></pre>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1599786' data-commentid="1599786" data-postid="16732" data-belowelement="comment-1599786" data-respondelement="respond" data-replyto="Reply to Michael Thompson" aria-label='Reply to Michael Thompson'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1601627">
<div class="comment-wrap" id="comment-1601627">
<div class="comment-author-wrap">
<div class="comment-author">Alaeddine</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1601627"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-05-19T03:09:55-07:00">May 19, 2016</time></div>
</div>
<div class="comment-content">
<p>Awesome! Thanks</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1601627' data-commentid="1601627" data-postid="16732" data-belowelement="comment-1601627" data-respondelement="respond" data-replyto="Reply to Alaeddine" aria-label='Reply to Alaeddine'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment byuser comment-author-webdevz odd alt thread-odd thread-alt depth-1" id="li-comment-1601632">
<div class="comment-wrap" id="comment-1601632">
<div class="comment-author-wrap">
<div class="comment-author">WebDevz</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1601632"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-05-19T07:14:27-07:00">May 19, 2016</time></div>
</div>
<div class="comment-content">
<p>Exactly what I was looking for and it works great! Thank you!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1601632' data-commentid="1601632" data-postid="16732" data-belowelement="comment-1601632" data-respondelement="respond" data-replyto="Reply to WebDevz" aria-label='Reply to WebDevz'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment even thread-even depth-1 buried" id="li-comment-1602850">
<div class="comment-wrap" id="comment-1602850">
<div class="comment-author-wrap">
<div class="comment-author">Chris</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1602850"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2016-07-15T06:24:06-07:00">July 15, 2016</time></div>
</div>
<div class="comment-content">
<p>Worked great!!!!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1602850' data-commentid="1602850" data-postid="16732" data-belowelement="comment-1602850" data-respondelement="respond" data-replyto="Reply to Chris" aria-label='Reply to Chris'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1661857">
<div class="comment-wrap" id="comment-1661857">
<div class="comment-author-wrap">
<div class="comment-author">Ezekiel</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1661857"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-02-03T16:34:20-08:00">February 3, 2019</time></div>
</div>
<div class="comment-content">
<p>What if I want to use the post thumbnail, because my articles always have post thumbnails. So what if I want to use the post thumbnail instead of the first image.</p>
<p>The has_post_thumbnail function isn&#8217;t giving me what I want.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1661857' data-commentid="1661857" data-postid="16732" data-belowelement="comment-1661857" data-respondelement="respond" data-replyto="Reply to Ezekiel" aria-label='Reply to Ezekiel'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment byuser comment-author-geoffgraham even depth-2" id="li-comment-1662013">
<div class="comment-wrap" id="comment-1662013">
<div class="comment-author-wrap">
<div class="comment-author">Geoff Graham</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1662013"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-02-04T08:36:08-08:00">February 4, 2019</time></div>
</div>
<div class="comment-content">
<p>Hey! <code>has_post_thumbnail()</code> checks for the post thumbnail and is great for writing conditions that require it. <code>the_post_thumbnail()</code> should return the image for you: <a href="https://developer.wordpress.org/reference/functions/the_post_thumbnail/" rel="nofollow ugc">https://developer.wordpress.org/reference/functions/the_post_thumbnail/</a></p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
<li class="comment odd alt depth-2" id="li-comment-1662076">
<div class="comment-wrap" id="comment-1662076">
<div class="comment-author-wrap">
<div class="comment-author">Ezekiel</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1662076"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-02-04T15:55:37-08:00">February 4, 2019</time></div>
</div>
<div class="comment-content">
<p>Hey Graham, thanks for the response. The has_post_thumbnail() works, but doesn&#8217;t force the images to have thesame height and width since the images are not the same, so I used the catch_that_image function, and added this code to my exerpt</p>
<p>&lt;img src=&#039;&#8217;width=&#8217;50&#8217;height=&#8217;50&#8217; alt=&#8221;/&gt;<br />
&lt;a href=&quot;&#8221;&gt;<b></b></p>
<p>and it worked fine but uses the first image instead of post thumbnail. So is there a way I can use this code and add the has_post_thumbnail function to it?</p>
<p>I tried it this way</p>
<p>&lt;img src=&#039;&#8217;width=&#8217;50&#8217;height=&#8217;50&#8217; alt=&#8221;/&gt;<br />
&lt;a href=&quot;&#8221;&gt;<b></b></p>
<p>but it didn&#8217;t work. Please advice.</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
<li class="comment byuser comment-author-geoffgraham even depth-2" id="li-comment-1662090">
<div class="comment-wrap" id="comment-1662090">
<div class="comment-author-wrap">
<div class="comment-author">Geoff Graham</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1662090"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-02-04T17:30:46-08:00">February 4, 2019</time></div>
</div>
<div class="comment-content">
<p>Without knowing all the context, <code>has_post_thumbnail</code> is great for checking, but you may need to use <code>the_post_thumbnail()</code> with a parameter that calls the exact thumbnail size you are looking for &#8212; and you may need to create that custom thumbnail size in a function. For example <code>echo the_post_thumbnail( 'my-custom-size' )</code></p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
<li class="comment odd alt depth-2" id="li-comment-1662448">
<div class="comment-wrap" id="comment-1662448">
<div class="comment-author-wrap">
<div class="comment-author">Ezekiel</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1662448"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-02-06T05:30:55-08:00">February 6, 2019</time></div>
</div>
<div class="comment-content">
<p>Thanks a lot. Fixed it at last</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment even thread-even depth-1" id="li-comment-1661865">
<div class="comment-wrap" id="comment-1661865">
<div class="comment-author-wrap">
<div class="comment-author">Ezekiel</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1661865"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-02-03T18:00:24-08:00">February 3, 2019</time></div>
</div>
<div class="comment-content">
<p>Please I really need help on this.<br />
Here is my function code</p>
<p>function catch_that_image() {<br />
global $post, $posts;<br />
$first_img = &#8221;;<br />
ob_start();<br />
ob_end_clean();<br />
$output = preg_match_all(&#8216;/&lt;img.+src=<a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/[^/'"]+" rel="nofollow">\'&#8221;</a>[\'&#8221;].*&gt;/i&#8217;, $post-&gt;post_content, $matches);<br />
$first_img = $matches [1] [0];</p>
<p>if(empty($first_img)){<br />
$first_img = &#8220;../img/bg.png&#8221;;<br />
}<br />
return $first_img;<br />
}</p>
<p>And here is my loop</p>
<p>if (<strong>FILE</strong> == $_SERVER[&#8216;SCRIPT_FILENAME&#8217;]) { die(); }<br />
if (CFCT_DEBUG) { cfct_banner(<strong>FILE</strong>); }</p>
<p>if (have_posts()) {<br />
echo &#8216;</p>
<p>&lt;</p>
<p>ul class=&#8221;disclosure table group&#8221;&gt;&#8217;;<br />
while (have_posts()) {<br />
the_post();<br />
?&gt;</p>
<pre><code>&lt;li&gt;
</code></pre>
<p>What I was trying to do is to get the post thumbnail as featured image that displays on the homepage.</p>
<p>The has_post_thumbnail only picks the first image from a post, and some post only contains featured images</p>
<p>Please I need help on this</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1661865' data-commentid="1661865" data-postid="16732" data-belowelement="comment-1661865" data-respondelement="respond" data-replyto="Reply to Ezekiel" aria-label='Reply to Ezekiel'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1 featured" id="li-comment-1706589">
<div class="comment-wrap" id="comment-1706589">
<div class="comment-author-wrap">
<div class="comment-author">Ross Wintle</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1706589"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-05-14T08:19:31-07:00">May 14, 2019</time></div>
</div>
<div class="comment-content">
<p>I know this is ancient but it still comes up in Google.</p>
<p>Can we fix the RegEx so it&#8217;s less hungry, otherwise it gets a lot more than it should and potentially grabs the wrong image.</p>
<p>Just needs a couple of question marks added:</p>
<pre><code>/&lt;img.+?src=[\'"]([^\'"]+)[\'"].*?&gt;/i
</code></pre>
<p>Thanks</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1706589' data-commentid="1706589" data-postid="16732" data-belowelement="comment-1706589" data-respondelement="respond" data-replyto="Reply to Ross Wintle" aria-label='Reply to Ross Wintle'>Reply</a> </div>
</div>
</div>
<ul class="children">
<li class="comment even depth-2" id="li-comment-1754541">
<div class="comment-wrap" id="comment-1754541">
<div class="comment-author-wrap">
<div class="comment-author">Jass</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1754541"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2020-02-19T18:28:13-08:00">February 19, 2020</time></div>
</div>
<div class="comment-content">
<p>I thought that <code>{Pattern}+?</code> or <code>{Pattern}*?</code> will match the same thing as <code>{Pattern}</code>, so <code>.+?</code> or <code>.*?</code> is equivalent to <code>.</code>. This won&#8217;t match <code>&lt;img&gt;</code> elements like:<br />
&#8211; <code>&lt;img &lt;!-- Note that there are 4 spaces before this comment --&gt;src="/image.png"&gt;</code><br />
&#8211; <code>&lt;img<br />
&lt;!-- Note that there are a line break (in this case &lt;cr&gt;&lt;lf&gt;) and 7 spaces before this comment --&gt;src="/image2.png"&gt;</code><br />
Also, without the <code>g</code> flag the regex will only match the first token (or the first image in this case).<br />
The correct regex (in PHP) should be <code>/&lt;img[\s\S]+src=[\'"]([^\'"]+)[\'"][\s\S]*/i</code>g</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
<li class="comment odd alt depth-2" id="li-comment-1754542">
<div class="comment-wrap" id="comment-1754542">
<div class="comment-author-wrap">
<div class="comment-author">Jass</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1754542"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2020-02-19T18:31:59-08:00">February 19, 2020</time></div>
</div>
<div class="comment-content">
<p>Oops! It should be <code>'/&lt;img[\s\S]+src=[\'"]([^\'"]+)[\'"][\s\S]*\/?&gt;/i'</code> (missing quotes and <code>\/?&gt;</code> at the end of the element)</p>
</div>
<div class="comment-actions">
<div class="reply">
</div>
</div>
</div>
</li>
</ul>
</li>
<li class="comment byuser comment-author-mickyflow even thread-even depth-1" id="li-comment-1710537">
<div class="comment-wrap" id="comment-1710537">
<div class="comment-author-wrap">
<div class="comment-author">Mickyflow</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1710537"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-05-23T23:39:21-07:00">May 23, 2019</time></div>
</div>
<div class="comment-content">
<p>Would this snippets work on HTML5 websites? Example: blogspot sites.</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1710537' data-commentid="1710537" data-postid="16732" data-belowelement="comment-1710537" data-respondelement="respond" data-replyto="Reply to Mickyflow" aria-label='Reply to Mickyflow'>Reply</a> </div>
</div>
</div>
</li>
<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1757592">
<div class="comment-wrap" id="comment-1757592">
<div class="comment-author-wrap">
<div class="comment-author">Emily</div> <div class="comment-time"><a href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#comment-1757592"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2020-06-09T13:40:47-07:00">June 9, 2020</time></div>
</div>
<div class="comment-content">
<p>Thanks for this snippet &#8211; I did have an issue where the fallback default image got an error, &#8220;undefined offset&#8221;. The change I made in functions.php:</p>
<p>Instead of:</p>
<p><code>$first_img = $matches[1][0];</code></p>
<p>I used:</p>
<p><code>$first_img = isset( $matches[1][0] ) ? $matches[1][0] : null;</code></p>
<p>That did the trick (although I am very newbie and this may be incorrect). Hope this saves someone hours on Stack Overflow!</p>
</div>
<div class="comment-actions">
<div class="reply">
<a rel='nofollow' class='comment-reply-link' href='#comment-1757592' data-commentid="1757592" data-postid="16732" data-belowelement="comment-1757592" data-respondelement="respond" data-replyto="Reply to Emily" aria-label='Reply to Emily'>Reply</a> </div>
</div>
</div>
</li>
</ol>
<div class="respond">
<div class="comment-form-form-area">
<div id="respond" class="comment-respond">
<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://css-tricks.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p><p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required='required' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200" /></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes" /> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<input type="hidden" name="_mc4wp_subscribe_wp-comment-form" value="0" /><p class=" mc4wp-checkbox mc4wp-checkbox-wp-comment-form"><label><input type="checkbox" name="_mc4wp_subscribe_wp-comment-form" value="1" checked="checked" /><span>Get the CSS-Tricks newsletter</span></label></p><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment" /> <input type='hidden' name='comment_post_ID' value='16732' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="899b9753db" /></p> <p class="antispam-group antispam-group-q" style="clear: both;">
<label>Copy and paste this code: <strong class="antspmpro-input-a">micuno</strong> <span class="required">*</span></label>
<input type="hidden" name="antspmpro-a" class="antispam-control antispam-control-a" value="micuno" />
<input type="text" name="antspmpro-q-luwele" class="antispam-control antispam-control-q" value="4.1" />
</p>
<p class="antispam-group antispam-group-e" style="display: none;">
<label>Leave this field empty</label>
<input type="text" name="antspmpro-e-email-url-website-luwele" class="antispam-control antispam-control-e" value="" />
</p>
<input type="hidden" id="ak_js" name="ak_js" value="194" /><textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100" style="display: none !important;"></textarea></form> </div>
</div>
</div>
</section> </div>
</div>
</div>
<footer class="site-footer">
<svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
<path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z" />
</svg>
<div class="footer-inside">
<div class="footer-message-and-form">
<p class="colophon">
CSS-Tricks is created by <a href="https://chriscoyier.net/">Chris</a> and a <a href="https://css-tricks.com/about">team</a> of swell&nbsp;people.
</p>
<div class="footer-form-wrap">
<form action="https://chriscoyier.us2.list-manage.com/subscribe/post?u=155f5a9ccc4e24c318130cace&amp;id=197f127a68" method="post" id="mc-embedded-subscribe-form">
<h4>Keep up to date on web dev</h4>
<p>with our hand-crafted weekly newsletter</p>
<div class="footer-form">
<label for="mce-EMAIL" class="screen-reader">Email Address</label>
<input type="email" name="EMAIL" class="required email mailchimp-email-input" id="mce-EMAIL" placeholder="smart@cookie.com" required="">
<input type="submit" value="Subscribe" name="Subscribe" id="mc-embedded-subscribe" class="button subscribe-button">
</div>
</form>
</div> </div>
<div class="link-grid">
<div>
<div>
<h5>
Tech
</h5>
<ul>
<li><a href="https://wordpress.org/">WordPress</a> <span>(CMS)</span></li>
<li><a href="https://css-tricks.com/jetpack/">Jetpack</a> <span>(Search, Backup)</span></li>
<li><a href="https://woocommerce.com/?aff=8638">WooCommerce</a> <span>(eCommerce)</span></li>
<li><a href="https://localwp.com/">Local</a> <span>(Development)</span></li>
</ul>
</div>
<div>
<h5>Hosting</h5>
<ul>
<li><a href="https://share.getf.ly/k96n2f">Flywheel</a></li>
</ul>
</div>
</div>
<div>
<div>
<h5>Family</h5>
<ul>
<li><a href="https://codepen.io/">CodePen</a></li>
<li><a href="https://shoptalkshow.com/">ShopTalk Show</a></li>
</ul>
</div>
<div>
<h5>Minisites</h5>
<ul>
<li><a href="https://serverless.css-tricks.com/">The Power of Serverless</a></li>
<li><a href="https://conferences.css-tricks.com/">Upcoming Conferences</a></li>
<li><a href="https://coding-fonts.css-tricks.com/">Coding Fonts</a></li>
</ul>
</div>
</div>
<div>
<div>
<h5>Contact</h5>
<ul>
<li><a href="https://css-tricks.com/cdn-cgi/l/email-protection#ec98898d81ac8f9f9fc1989e858f879fc28f8381">Email</a></li>
<li><a href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78">Sponsorship Info</a></li>
<li><a href="https://css-tricks.com/guest-posting/">Guest Writing</a></li>
</ul>
</div>
<div>
<h5>Buy</h5>
<ul>
<li><a href="https://css-tricks.com/shop/">Posters & Swag</a></li>
<li><a href="https://css-tricks.com/product/mvp-supporter/">Membership</a></li>
</ul>
</div>
</div>
<div>
<div>
<h5>Follow</h5>
<ul>
<li><a href="https://twitter.com/css">Twitter</a></li>
<li><a href="https://www.instagram.com/real_css_tricks/">Instagram</a></li>
<li><a href="https://www.youtube.com/user/realcsstricks">YouTube</a></li>
<li><a href="https://codepen.io/team/css-tricks">CodePen</a></li>
<li><a href="https://github.com/CSS-Tricks">GitHub</a></li>
<li><a href="https://podcasts.apple.com/us/podcast/css-tricks-screencasts/id273881728">iTunes</a></li>
<li><a href="https://css-tricks.com/feed/">RSS</a></li>
</ul>
</div>
</div>
</div>
</div>
<a href="#top-of-site" class="top-of-site-link" data-visible="false">
<span class="screen-reader-text">Back to Top</span>
<svg width="32" height="32" viewBox="0 0 100 100">
<path fill="white" d="m50 0c-13.262 0-25.98 5.2695-35.355 14.645s-14.645 22.094-14.645 35.355 5.2695 25.98 14.645 35.355 22.094 14.645 35.355 14.645 25.98-5.2695 35.355-14.645 14.645-22.094 14.645-35.355-5.2695-25.98-14.645-35.355-22.094-14.645-35.355-14.645zm20.832 62.5-20.832-22.457-20.625 22.457c-1.207 0.74219-2.7656 0.57812-3.7891-0.39844-1.0273-0.98047-1.2695-2.5273-0.58594-3.7695l22.918-25c0.60156-0.61328 1.4297-0.96094 2.2891-0.96094 0.86328 0 1.6914 0.34766 2.293 0.96094l22.918 25c0.88672 1.2891 0.6875 3.0352-0.47266 4.0898-1.1562 1.0508-2.9141 1.0859-4.1133 0.078125z" />
</svg>
</a>
</footer>
<div class="jetpack-instant-search__widget-area" style="display: none">
<div id="media_image-3" class="widget widget_media_image"><a href="https://jetpack.com/upgrade/search/?aff=8638"><img width="600" height="444" src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?fit=600%2C444&amp;ssl=1" class="image wp-image-321694  attachment-full size-full jetpack-lazy-image" alt="" loading="lazy" style="max-width: 100%; height: auto;" data-lazy-srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?w=600&amp;ssl=1 600w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?resize=300%2C222&amp;ssl=1 300w" data-lazy-sizes="(min-width: 735px) 864px, 96vw" data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?fit=600%2C444&amp;ssl=1&amp;is-pending-load=1" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" /></a></div><div id="jetpack-search-filters-5" class="widget jetpack-filters widget_search"> <div id="jetpack-search-filters-5-wrapper" class="jetpack-instant-search-wrapper">
</div></div> </div>

<svg width="0" height="0" class="screen-reader">
<defs>
<linearGradient id="orange-to-pink" x1="0" x2="1" y1="0" y2="1">
<stop offset="0%" stop-color="#ff7a18" />
<stop offset="40%" stop-color="#af002d" />
<stop offset="100%" stop-color="#319197" />
</linearGradient>
<filter id="duotone_orange_pink">
<feColorMatrix type="matrix" result="grayscale" values="1 0 0 0 0
                  1 0 0 0 0
                  1 0 0 0 0
                  0 0 0 1 0">
</feColorMatrix>
<feComponentTransfer color-interpolation-filters="sRGB" result="duotone">
<feFuncR type="table" tableValues="0.7411764706 0.9882352941"></feFuncR>
<feFuncG type="table" tableValues="0.0431372549 0.7333333333"></feFuncG>
<feFuncB type="table" tableValues="0.568627451 0.05098039216"></feFuncB>
<feFuncA type="table" tableValues="0 1"></feFuncA>
</feComponentTransfer>
</filter>
</defs>
</svg>
<script data-cfasync="false" src="https://css-tricks.com/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>window._wca = window._wca || [];</script><script type="application/ld+json" class="yoast-schema-graph">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://css-tricks.com/#organization","name":"CSS-Tricks","url":"https://css-tricks.com/","sameAs":["https://www.facebook.com/CSSTricks","https://www.instagram.com/real_css_tricks/","https://www.youtube.com/channel/UCADyUOnhyEoQqrw_RrsGleA","https://twitter.com/CSS"],"logo":{"@type":"ImageObject","@id":"https://css-tricks.com/#logo","inLanguage":"en-US","url":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/06/akqRGyta_400x400.jpg?fit=%2C&ssl=1","contentUrl":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/06/akqRGyta_400x400.jpg?fit=%2C&ssl=1","caption":"CSS-Tricks"},"image":{"@id":"https://css-tricks.com/#logo"}},{"@type":"WebSite","@id":"https://css-tricks.com/#website","url":"https://css-tricks.com/","name":"CSS-Tricks","description":"Tips, Tricks, and Techniques on using Cascading Style Sheets.","publisher":{"@id":"https://css-tricks.com/#organization"},"potentialAction":[{"@type":"SearchAction","target":"https://css-tricks.com/?s={search_term_string}","query-input":"required name=search_term_string"}],"inLanguage":"en-US"},{"@type":"WebPage","@id":"https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#webpage","url":"https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/","name":"Get The First Image From a Post | CSS-Tricks","isPartOf":{"@id":"https://css-tricks.com/#website"},"datePublished":"2012-04-04T14:32:33+00:00","dateModified":"2019-05-14T16:36:01+00:00","description":"Let's say you wanted to use the post thumbnail feature of WordPress, but had a whole archive of posts that would take too much time to go through. For new","breadcrumb":{"@id":"https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#breadcrumb"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/"]}]},{"@type":"BreadcrumbList","@id":"https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://css-tricks.com/"},{"@type":"ListItem","position":2,"name":"Code Snippets","item":"https://css-tricks.com/snippets/"},{"@type":"ListItem","position":3,"name":"WordPress","item":"https://css-tricks.com/snippets/wordpress/"},{"@type":"ListItem","position":4,"name":"Get The First Image From a Post"}]}]}</script><script defer src='https://stats.wp.com/s-202126.js' id='woocommerce-analytics-js'></script><script>
				document.documentElement.classList.add(
					'jetpack-lazy-images-js-enabled'
				);
			</script><script>
  var articleYear = 2012;
  var articleAuthor = "3";
  var articleType = "snippet";
</script><script>
  var articleYear = 2012;
</script><script>window.addEventListener("load",function(){document.querySelectorAll("link").forEach(function(e){"not all"===e.media&&(e.media="all")});var e=document.getElementById("jetpack-boost-critical-css");e&&(e.media="not all")});</script><script type="text/javascript">
		(function () {
			var c = document.body.className;
			c = c.replace(/woocommerce-no-js/, 'woocommerce-js');
			document.body.className = c;
		})();
	</script><script src='https://c0.wp.com/p/jetpack/9.8.1/_inc/build/photon/photon.min.js' id='jetpack-photon-js'></script><script src='https://css-tricks.com/wp-content/themes/CSS-Tricks-18/js/min/jquery-3.5.1.min.js' id='jquery-js'></script><script type='text/javascript' id='antispampro-script-js-extra'>
/* <![CDATA[ */
var antispampro_vars = {"code":"micuno","input_name_suffix":"luwele"};
/* ]]> */
</script><script src='https://css-tricks.com/wp-content/plugins/anti-spam-pro/js/anti-spam-pro-4.1.js' id='antispampro-script-js'></script><script type='text/javascript' id='jetpack-live-comment-markdown-js-extra'>
/* <![CDATA[ */
var markdownify = {"ajax_url":"\/wp-admin\/admin-ajax.php","nonce":"553f264452"};
/* ]]> */
</script><script src='https://css-tricks.com/wp-content/plugins/jetpack-markdown-live-preview-comments/js/markdownify.js?ver=1' id='jetpack-live-comment-markdown-js'></script><script id='jetpack-instant-search-ie11-js-before'>
var JetpackInstantSearchIe11PolyfillPath=decodeURIComponent("https://css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/https%3A%2F%2Fcss-tricks.com%2Fwp-content%2Fplugins%2Fjetpack%2F_inc%2Fbuild%2Finstant-search%2Fjp-search-ie11-polyfill-payload.bundle.js");
</script><script src='https://c0.wp.com/p/jetpack/9.8.1/_inc/build/instant-search/jp-search-ie11-polyfill-loader.bundle.js' id='jetpack-instant-search-ie11-js'></script><script src='https://c0.wp.com/c/5.7.2/wp-includes/js/dist/vendor/wp-polyfill.min.js' id='wp-polyfill-js'></script><script id='wp-polyfill-js-after'>
( 'fetch' in window ) || document.write( '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-fetch.min.js?ver=3.0.0"></scr' + 'ipt>' );( document.contains ) || document.write( '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-node-contains.min.js?ver=3.42.0"></scr' + 'ipt>' );( window.DOMRect ) || document.write( '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-dom-rect.min.js?ver=3.42.0"></scr' + 'ipt>' );( window.URL && window.URL.prototype && window.URLSearchParams ) || document.write( '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-url.min.js?ver=3.6.4"></scr' + 'ipt>' );( window.FormData && window.FormData.prototype.keys ) || document.write( '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-formdata.min.js?ver=3.0.12"></scr' + 'ipt>' );( Element.prototype.matches && Element.prototype.closest ) || document.write( '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-element-closest.min.js?ver=2.0.2"></scr' + 'ipt>' );( 'objectFit' in document.documentElement.style ) || document.write( '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-object-fit.min.js?ver=2.3.4"></scr' + 'ipt>' );
</script><script src='https://c0.wp.com/c/5.7.2/wp-includes/js/dist/hooks.min.js' id='wp-hooks-js'></script><script src='https://c0.wp.com/c/5.7.2/wp-includes/js/dist/i18n.min.js' id='wp-i18n-js'></script><script id='wp-i18n-js-after'>
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
</script><script id='jetpack-instant-search-js-translations'>
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "jetpack", { "locale_data": { "messages": { "": {} } } } );
</script><script id='jetpack-instant-search-js-before'>
var JetpackInstantSearchOptions=JSON.parse(decodeURIComponent("%7B%22overlayOptions%22%3A%7B%22colorTheme%22%3A%22dark%22%2C%22enableInfScroll%22%3Afalse%2C%22enableSort%22%3Atrue%2C%22highlightColor%22%3A%22%23f4af38%22%2C%22overlayTrigger%22%3A%22results%22%2C%22resultFormat%22%3A%22expanded%22%2C%22showPoweredBy%22%3Atrue%7D%2C%22homeUrl%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%22%2C%22locale%22%3A%22en-US%22%2C%22postsPerPage%22%3A11%2C%22siteId%22%3A45537868%2C%22postTypes%22%3A%7B%22post%22%3A%7B%22singular_name%22%3A%22Post%22%2C%22name%22%3A%22Posts%22%7D%2C%22page%22%3A%7B%22singular_name%22%3A%22Page%22%2C%22name%22%3A%22Pages%22%7D%2C%22attachment%22%3A%7B%22singular_name%22%3A%22Media%22%2C%22name%22%3A%22Media%22%7D%2C%22product%22%3A%7B%22singular_name%22%3A%22Product%22%2C%22name%22%3A%22Products%22%7D%2C%22screenshot%22%3A%7B%22singular_name%22%3A%22Screenshot%22%2C%22name%22%3A%22Screenshots%22%7D%2C%22guides%22%3A%7B%22singular_name%22%3A%22Guide%22%2C%22name%22%3A%22Guides%22%7D%2C%22newsletters%22%3A%7B%22singular_name%22%3A%22Newsletter%22%2C%22name%22%3A%22Newsletters%22%7D%2C%22chapters%22%3A%7B%22singular_name%22%3A%22Chapter%22%2C%22name%22%3A%22Chapters%22%7D%7D%2C%22webpackPublicPath%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-content%5C%2Fplugins%5C%2Fjetpack%5C%2F_inc%5C%2Fbuild%5C%2Finstant-search%5C%2F%22%2C%22isPhotonEnabled%22%3Atrue%2C%22apiRoot%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-json%5C%2F%22%2C%22apiNonce%22%3A%227d67f8056c%22%2C%22isPrivateSite%22%3Afalse%2C%22isWpcom%22%3Afalse%2C%22defaultSort%22%3A%22relevance%22%2C%22excludedPostTypes%22%3A%5B%22attachment%22%2C%22screenshot%22%5D%2C%22hasOverlayWidgets%22%3Atrue%2C%22widgets%22%3A%5B%7B%22filters%22%3A%5B%7B%22name%22%3A%22Post%20Types%22%2C%22type%22%3A%22post_type%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22post_type_1%22%7D%2C%7B%22name%22%3A%22Year%22%2C%22type%22%3A%22date_histogram%22%2C%22count%22%3A1%2C%22field%22%3A%22post_date%22%2C%22interval%22%3A%22year%22%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22date_histogram_2%22%7D%2C%7B%22name%22%3A%22Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22post_tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22taxonomy_3%22%7D%5D%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%7D%5D%2C%22widgetsOutsideOverlay%22%3A%5B%7B%22filters%22%3A%5B%7B%22name%22%3A%22Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22post_tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-3%22%2C%22filter_id%22%3A%22taxonomy_0%22%7D%5D%2C%22widget_id%22%3A%22jetpack-search-filters-3%22%7D%5D%2C%22hasNonSearchWidgets%22%3Atrue%2C%22adminQueryFilter%22%3A%7B%22bool%22%3A%7B%22should%22%3A%5B%7B%22term%22%3A%7B%22post_type%22%3A%22post%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22page%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22newsletters%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22chapters%22%7D%7D%5D%7D%7D%7D"));
</script><script src='https://c0.wp.com/p/jetpack/9.8.1/_inc/build/instant-search/jp-search-main.bundle.js' id='jetpack-instant-search-js'></script><script src='http://stats.wp.com/w.js?ver=202126' id='jp-tracks-js'></script><script src='https://css-tricks.com/wp-content/themes/CSS-Tricks-18/js/min/comment-reply.min.js?ver=1.1' id='my-comment-reply-js'></script><script src='https://css-tricks.com/wp-content/plugins/jetpack-boost/vendor/automattic/jetpack-lazy-images/src/js/intersectionobserver-polyfill.min.js?ver=1.1.2' id='jetpack-lazy-images-polyfill-intersectionobserver-js'></script><script type='text/javascript' id='jetpack-lazy-images-js-extra'>
/* <![CDATA[ */
var jetpackLazyImagesL10n = {"loading_warning":"Images are still loading. Please cancel your print and try again."};
/* ]]> */
</script><script src='https://css-tricks.com/wp-content/plugins/jetpack-boost/vendor/automattic/jetpack-lazy-images/src/js/lazy-images.min.js?ver=1.1.2' id='jetpack-lazy-images-js'></script><script async="async" src='https://css-tricks.com/wp-content/plugins/akismet/_inc/form.js?ver=4.1.9' id='akismet-form-js'></script><script type="text/javascript">
jQuery(function($) { 

			$( '.add_to_cart_button:not(.product_type_variable, .product_type_grouped)' ).on( 'click', function() {
				gtag( 'event', 'add_to_cart', { 'event_category': 'ecommerce', 'event_label': ($(this).data('product_sku')) ? ($(this).data('product_sku')) : ('#' + $(this).data('product_id')), 'items': [ {'id': ($(this).data('product_sku')) ? ($(this).data('product_sku')) : ('#' + $(this).data('product_id')),'quantity': $(this).data('quantity')} ] } );
			});
		
 });
</script><script src='https://stats.wp.com/e-202126.js' defer></script><script>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:9.8.1',blog:'45537868',post:'16732',tz:'-7',srv:'css-tricks.com'} ]);
	_stq.push([ 'clickTrackerInit', '45537868', '16732' ]);
</script><script>
    window.activeMember = false;
  </script><script src="https://css-tricks.com/wp-content/themes/CSS-Tricks-18/js/min/global-concat.min.js?cache_bust=1620081515705"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-68528-29', 'auto');

  if (typeof articleYear !== "undefined") {
    ga('set', 'dimension1', articleYear);
  }
  if (typeof articleAuthor !== "undefined") {
    ga('set', 'dimension2', articleAuthor);
  }
  if (typeof articleType !== "undefined") {
    ga('set', 'dimension3', articleType);
  }

  ga('send', 'pageview');
</script><script async src="https://static.codepen.io/assets/embed/ei.js"></script><script src="http://instant.page/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script><script defer src="https://static.cloudflareinsights.com/beacon.min.js" data-cf-beacon='{"rayId":"666db75cfa93e6ac","token":"2863ac31b15c48f5b94bd8b0c38aba94","version":"2021.6.0","si":10}'></script>
</body>

<!-- Mirrored from css-tricks.com/snippets/wordpress/get-the-first-image-from-a-post/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Jun 2021 08:22:37 GMT -->
</html>