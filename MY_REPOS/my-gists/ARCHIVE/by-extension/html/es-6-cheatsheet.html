<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>es-6-cheatsheet</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<h1 id="es6-cheatsheet">es6-cheatsheet</h1>
<p>A cheatsheet containing ES2015 [ES6] tips, tricks, best practices and code snippet examples for your day to day workflow. Contributions are welcome!</p>
<h2 id="table-of-contents">Table of Contents</h2>
<ul>
<li><a href="#var-versus-let--const">var versus let / const</a></li>
<li><a href="#replacing-iifes-with-blocks">Replacing IIFEs with Blocks</a></li>
<li><a href="#arrow-functions">Arrow Functions</a></li>
<li><a href="#strings">Strings</a></li>
<li><a href="#destructuring">Destructuring</a></li>
<li><a href="#modules">Modules</a></li>
<li><a href="#parameters">Parameters</a></li>
<li><a href="#classes">Classes</a></li>
<li><a href="#symbols">Symbols</a></li>
<li><a href="#maps">Maps</a></li>
<li><a href="#weakmaps">WeakMaps</a></li>
<li><a href="#promises">Promises</a></li>
<li><a href="#generators">Generators</a></li>
<li><a href="#async-await">Async Await</a></li>
<li><a href="#getter-and-setter-functions">Getter/Setter functions</a></li>
<li><a href="#license">License</a></li>
</ul>
<h2 id="var-versus-let-const">var versus let / const</h2>
<blockquote>
<p>Besides <code>var</code>, we now have access to two new identifiers for storing values —<code>let</code> and <code>const</code>. Unlike <code>var</code>, <code>let</code> and <code>const</code> statements are not hoisted to the top of their enclosing scope.</p>
</blockquote>
<p>An example of using <code>var</code>:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">var</span> snack <span class="op">=</span> <span class="st">&#39;Meow Mix&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">function</span> <span class="at">getFood</span>(food) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="cf">if</span> (food) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">        <span class="kw">var</span> snack <span class="op">=</span> <span class="st">&#39;Friskies&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">        <span class="cf">return</span> snack<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="cf">return</span> snack<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="at">getFood</span>(<span class="kw">false</span>)<span class="op">;</span> <span class="co">// undefined</span></a></code></pre></div>
<p>However, observe what happens when we replace <code>var</code> using <code>let</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">let</span> snack <span class="op">=</span> <span class="st">&#39;Meow Mix&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">function</span> <span class="at">getFood</span>(food) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">    <span class="cf">if</span> (food) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">        <span class="kw">let</span> snack <span class="op">=</span> <span class="st">&#39;Friskies&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="cf">return</span> snack<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb2-8" title="8">    <span class="cf">return</span> snack<span class="op">;</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-10" title="10"></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="at">getFood</span>(<span class="kw">false</span>)<span class="op">;</span> <span class="co">// &#39;Meow Mix&#39;</span></a></code></pre></div>
<p>This change in behavior highlights that we need to be careful when refactoring legacy code which uses <code>var</code>. Blindly replacing instances of <code>var</code> with <code>let</code> may lead to unexpected behavior.</p>
<blockquote>
<p><strong>Note</strong>: <code>let</code> and <code>const</code> are block scoped. Therefore, referencing block-scoped identifiers before they are defined will produce a <code>ReferenceError</code>.</p>
</blockquote>
<div class="sourceCode" id="cb3"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="va">console</span>.<span class="at">log</span>(x)<span class="op">;</span> <span class="co">// ReferenceError: x is not defined</span></a>
<a class="sourceLine" id="cb3-2" title="2"></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="kw">let</span> x <span class="op">=</span> <span class="st">&#39;hi&#39;</span><span class="op">;</span></a></code></pre></div>
<blockquote>
<p><strong>Best Practice</strong>: Leave <code>var</code> declarations inside of legacy code to denote that it needs to be carefully refactored. When working on a new codebase, use <code>let</code> for variables that will change their value over time, and <code>const</code> for variables which cannot be reassigned.</p>
</blockquote>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="replacing-iifes-with-blocks">Replacing IIFEs with Blocks</h2>
<blockquote>
<p>A common use of <strong>Immediately Invoked Function Expressions</strong> is to enclose values within its scope. In ES6, we now have the ability to create block-based scopes and therefore are not limited purely to function-based scope.</p>
</blockquote>
<div class="sourceCode" id="cb4"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1">(<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">    <span class="kw">var</span> food <span class="op">=</span> <span class="st">&#39;Meow Mix&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="op">}</span>())<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="va">console</span>.<span class="at">log</span>(food)<span class="op">;</span> <span class="co">// Reference Error</span></a></code></pre></div>
<p>Using ES6 Blocks:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">    <span class="kw">let</span> food <span class="op">=</span> <span class="st">&#39;Meow Mix&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="op">};</span></a>
<a class="sourceLine" id="cb5-4" title="4"></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="va">console</span>.<span class="at">log</span>(food)<span class="op">;</span> <span class="co">// Reference Error</span></a></code></pre></div>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="arrow-functions">Arrow Functions</h2>
<p>Often times we have nested functions in which we would like to preserve the context of <code>this</code> from its lexical scope. An example is shown below:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-2" title="2">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb6-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb6-4" title="4"></a>
<a class="sourceLine" id="cb6-5" title="5"><span class="va">Person</span>.<span class="va">prototype</span>.<span class="at">prefixName</span> <span class="op">=</span> <span class="kw">function</span> (arr) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-6" title="6">    <span class="cf">return</span> <span class="va">arr</span>.<span class="at">map</span>(<span class="kw">function</span> (character) <span class="op">{</span></a>
<a class="sourceLine" id="cb6-7" title="7">        <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span> <span class="op">+</span> character<span class="op">;</span> <span class="co">// Cannot read property &#39;name&#39; of undefined</span></a>
<a class="sourceLine" id="cb6-8" title="8">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-9" title="9"><span class="op">};</span></a></code></pre></div>
<p>One common solution to this problem is to store the context of <code>this</code> using a variable:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb7-4" title="4"></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="va">Person</span>.<span class="va">prototype</span>.<span class="at">prefixName</span> <span class="op">=</span> <span class="kw">function</span> (arr) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-6" title="6">    <span class="kw">var</span> that <span class="op">=</span> <span class="kw">this</span><span class="op">;</span> <span class="co">// Store the context of this</span></a>
<a class="sourceLine" id="cb7-7" title="7">    <span class="cf">return</span> <span class="va">arr</span>.<span class="at">map</span>(<span class="kw">function</span> (character) <span class="op">{</span></a>
<a class="sourceLine" id="cb7-8" title="8">        <span class="cf">return</span> <span class="va">that</span>.<span class="at">name</span> <span class="op">+</span> character<span class="op">;</span></a>
<a class="sourceLine" id="cb7-9" title="9">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="op">};</span></a></code></pre></div>
<p>We can also pass in the proper context of <code>this</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-2" title="2">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb8-4" title="4"></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="va">Person</span>.<span class="va">prototype</span>.<span class="at">prefixName</span> <span class="op">=</span> <span class="kw">function</span> (arr) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-6" title="6">    <span class="cf">return</span> <span class="va">arr</span>.<span class="at">map</span>(<span class="kw">function</span> (character) <span class="op">{</span></a>
<a class="sourceLine" id="cb8-7" title="7">        <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span> <span class="op">+</span> character<span class="op">;</span></a>
<a class="sourceLine" id="cb8-8" title="8">    <span class="op">},</span> <span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="op">};</span></a></code></pre></div>
<p>As well as bind the context:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-2" title="2">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb9-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb9-4" title="4"></a>
<a class="sourceLine" id="cb9-5" title="5"><span class="va">Person</span>.<span class="va">prototype</span>.<span class="at">prefixName</span> <span class="op">=</span> <span class="kw">function</span> (arr) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-6" title="6">    <span class="cf">return</span> <span class="va">arr</span>.<span class="at">map</span>(<span class="kw">function</span> (character) <span class="op">{</span></a>
<a class="sourceLine" id="cb9-7" title="7">        <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span> <span class="op">+</span> character<span class="op">;</span></a>
<a class="sourceLine" id="cb9-8" title="8">    <span class="op">}</span>.<span class="at">bind</span>(<span class="kw">this</span>))<span class="op">;</span></a>
<a class="sourceLine" id="cb9-9" title="9"><span class="op">};</span></a></code></pre></div>
<p>Using <strong>Arrow Functions</strong>, the lexical value of <code>this</code> isn’t shadowed and we can re-write the above as shown:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-2" title="2">    <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb10-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb10-4" title="4"></a>
<a class="sourceLine" id="cb10-5" title="5"><span class="va">Person</span>.<span class="va">prototype</span>.<span class="at">prefixName</span> <span class="op">=</span> <span class="kw">function</span> (arr) <span class="op">{</span></a>
<a class="sourceLine" id="cb10-6" title="6">    <span class="cf">return</span> <span class="va">arr</span>.<span class="at">map</span>(character <span class="kw">=&gt;</span> <span class="kw">this</span>.<span class="at">name</span> <span class="op">+</span> character)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-7" title="7"><span class="op">};</span></a></code></pre></div>
<blockquote>
<p><strong>Best Practice</strong>: Use <strong>Arrow Functions</strong> whenever you need to preserve the lexical value of <code>this</code>.</p>
</blockquote>
<p>Arrow Functions are also more concise when used in function expressions which simply return a value:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">var</span> squares <span class="op">=</span> <span class="va">arr</span>.<span class="at">map</span>(<span class="kw">function</span> (x) <span class="op">{</span> <span class="cf">return</span> x <span class="op">*</span> x <span class="op">}</span>)<span class="op">;</span> <span class="co">// Function Expression</span></a></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="kw">const</span> arr <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="kw">const</span> squares <span class="op">=</span> <span class="va">arr</span>.<span class="at">map</span>(x <span class="kw">=&gt;</span> x <span class="op">*</span> x)<span class="op">;</span> <span class="co">// Arrow Function for terser implementation</span></a></code></pre></div>
<blockquote>
<p><strong>Best Practice</strong>: Use <strong>Arrow Functions</strong> in place of function expressions when possible.</p>
</blockquote>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="strings">Strings</h2>
<p>With ES6, the standard library has grown immensely. Along with these changes are new methods which can be used on strings, such as <code>.includes()</code> and <code>.repeat()</code>.</p>
<h3 id="includes">.includes( )</h3>
<div class="sourceCode" id="cb13"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">var</span> string <span class="op">=</span> <span class="st">&#39;food&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-2" title="2"><span class="kw">var</span> substring <span class="op">=</span> <span class="st">&#39;foo&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-3" title="3"></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="va">string</span>.<span class="at">indexOf</span>(substring) <span class="op">&gt;</span> <span class="dv">-1</span>)<span class="op">;</span></a></code></pre></div>
<p>Instead of checking for a return value <code>&gt; -1</code> to denote string containment, we can simply use <code>.includes()</code> which will return a boolean:</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> string <span class="op">=</span> <span class="st">&#39;food&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-2" title="2"><span class="kw">const</span> substring <span class="op">=</span> <span class="st">&#39;foo&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-3" title="3"></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="va">string</span>.<span class="at">includes</span>(substring))<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<h3 id="repeat">.repeat( )</h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">function</span> <span class="at">repeat</span>(string<span class="op">,</span> count) <span class="op">{</span></a>
<a class="sourceLine" id="cb15-2" title="2">    <span class="kw">var</span> strings <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb15-3" title="3">    <span class="cf">while</span>(<span class="va">strings</span>.<span class="at">length</span> <span class="op">&lt;</span> count) <span class="op">{</span></a>
<a class="sourceLine" id="cb15-4" title="4">        <span class="va">strings</span>.<span class="at">push</span>(string)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb15-6" title="6">    <span class="cf">return</span> <span class="va">strings</span>.<span class="at">join</span>(<span class="st">&#39;&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>In ES6, we now have access to a terser implementation:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="co">// String.repeat(numberOfRepetitions)</span></a>
<a class="sourceLine" id="cb16-2" title="2"><span class="st">&#39;meow&#39;</span>.<span class="at">repeat</span>(<span class="dv">3</span>)<span class="op">;</span> <span class="co">// &#39;meowmeowmeow&#39;</span></a></code></pre></div>
<h3 id="template-literals">Template Literals</h3>
<p>Using <strong>Template Literals</strong>, we can now construct strings that have special characters in them without needing to escape them explicitly.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">var</span> text <span class="op">=</span> <span class="st">&quot;This string contains </span><span class="sc">\&quot;</span><span class="st">double quotes</span><span class="sc">\&quot;</span><span class="st"> which are escaped.&quot;</span><span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="kw">let</span> text <span class="op">=</span> <span class="vs">`This string contains &quot;double quotes&quot; which don&#39;t need to be escaped anymore.`</span><span class="op">;</span></a></code></pre></div>
<p><strong>Template Literals</strong> also support interpolation, which makes the task of concatenating strings and values:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">var</span> name <span class="op">=</span> <span class="st">&#39;Tiger&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb19-2" title="2"><span class="kw">var</span> age <span class="op">=</span> <span class="dv">13</span><span class="op">;</span></a>
<a class="sourceLine" id="cb19-3" title="3"></a>
<a class="sourceLine" id="cb19-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;My cat is named &#39;</span> <span class="op">+</span> name <span class="op">+</span> <span class="st">&#39; and is &#39;</span> <span class="op">+</span> age <span class="op">+</span> <span class="st">&#39; years old.&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p>Much simpler:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">const</span> name <span class="op">=</span> <span class="st">&#39;Tiger&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-2" title="2"><span class="kw">const</span> age <span class="op">=</span> <span class="dv">13</span><span class="op">;</span></a>
<a class="sourceLine" id="cb20-3" title="3"></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="vs">`My cat is named </span><span class="sc">${</span>name<span class="sc">}</span><span class="vs"> and is </span><span class="sc">${</span>age<span class="sc">}</span><span class="vs"> years old.`</span>)<span class="op">;</span></a></code></pre></div>
<p>In ES5, we handled new lines as follows:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">var</span> text <span class="op">=</span> (</a>
<a class="sourceLine" id="cb21-2" title="2">    <span class="st">&#39;cat</span><span class="sc">\n</span><span class="st">&#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb21-3" title="3">    <span class="st">&#39;dog</span><span class="sc">\n</span><span class="st">&#39;</span> <span class="op">+</span></a>
<a class="sourceLine" id="cb21-4" title="4">    <span class="st">&#39;nickelodeon&#39;</span></a>
<a class="sourceLine" id="cb21-5" title="5">)<span class="op">;</span></a></code></pre></div>
<p>Or:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb22-1" title="1"><span class="kw">var</span> text <span class="op">=</span> [</a>
<a class="sourceLine" id="cb22-2" title="2">    <span class="st">&#39;cat&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb22-3" title="3">    <span class="st">&#39;dog&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb22-4" title="4">    <span class="st">&#39;nickelodeon&#39;</span></a>
<a class="sourceLine" id="cb22-5" title="5">].<span class="at">join</span>(<span class="st">&#39;</span><span class="sc">\n</span><span class="st">&#39;</span>)<span class="op">;</span></a></code></pre></div>
<p><strong>Template Literals</strong> will preserve new lines for us without having to explicitly place them in:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">let</span> text <span class="op">=</span> ( <span class="vs">`cat</span></a>
<a class="sourceLine" id="cb23-2" title="2"><span class="vs">dog</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="vs">nickelodeon`</span></a>
<a class="sourceLine" id="cb23-4" title="4">)<span class="op">;</span></a></code></pre></div>
<p><strong>Template Literals</strong> can accept expressions, as well:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb24-1" title="1"><span class="kw">let</span> today <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="kw">let</span> text <span class="op">=</span> <span class="vs">`The time and date is </span><span class="sc">${</span><span class="va">today</span>.<span class="at">toLocaleString</span>()<span class="sc">}</span><span class="vs">`</span><span class="op">;</span></a></code></pre></div>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="destructuring">Destructuring</h2>
<p>Destructuring allows us to extract values from arrays and objects (even deeply nested) and store them in variables with a more convenient syntax.</p>
<h3 id="destructuring-arrays">Destructuring Arrays</h3>
<div class="sourceCode" id="cb25"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">var</span> arr <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb25-2" title="2"><span class="kw">var</span> a <span class="op">=</span> arr[<span class="dv">0</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb25-3" title="3"><span class="kw">var</span> b <span class="op">=</span> arr[<span class="dv">1</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb25-4" title="4"><span class="kw">var</span> c <span class="op">=</span> arr[<span class="dv">2</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb25-5" title="5"><span class="kw">var</span> d <span class="op">=</span> arr[<span class="dv">3</span>]<span class="op">;</span></a></code></pre></div>
<div class="sourceCode" id="cb26"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb26-1" title="1"><span class="kw">let</span> [a<span class="op">,</span> b<span class="op">,</span> c<span class="op">,</span> d] <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb26-2" title="2"></a>
<a class="sourceLine" id="cb26-3" title="3"><span class="va">console</span>.<span class="at">log</span>(a)<span class="op">;</span> <span class="co">// 1</span></a>
<a class="sourceLine" id="cb26-4" title="4"><span class="va">console</span>.<span class="at">log</span>(b)<span class="op">;</span> <span class="co">// 2</span></a></code></pre></div>
<h3 id="destructuring-objects">Destructuring Objects</h3>
<div class="sourceCode" id="cb27"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">var</span> luke <span class="op">=</span> <span class="op">{</span> <span class="dt">occupation</span><span class="op">:</span> <span class="st">&#39;jedi&#39;</span><span class="op">,</span> <span class="dt">father</span><span class="op">:</span> <span class="st">&#39;anakin&#39;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="kw">var</span> occupation <span class="op">=</span> <span class="va">luke</span>.<span class="at">occupation</span><span class="op">;</span> <span class="co">// &#39;jedi&#39;</span></a>
<a class="sourceLine" id="cb27-3" title="3"><span class="kw">var</span> father <span class="op">=</span> <span class="va">luke</span>.<span class="at">father</span><span class="op">;</span> <span class="co">// &#39;anakin&#39;</span></a></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">let</span> luke <span class="op">=</span> <span class="op">{</span> <span class="dt">occupation</span><span class="op">:</span> <span class="st">&#39;jedi&#39;</span><span class="op">,</span> <span class="dt">father</span><span class="op">:</span> <span class="st">&#39;anakin&#39;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb28-2" title="2"><span class="kw">let</span> <span class="op">{</span>occupation<span class="op">,</span> father<span class="op">}</span> <span class="op">=</span> luke<span class="op">;</span></a>
<a class="sourceLine" id="cb28-3" title="3"></a>
<a class="sourceLine" id="cb28-4" title="4"><span class="va">console</span>.<span class="at">log</span>(occupation)<span class="op">;</span> <span class="co">// &#39;jedi&#39;</span></a>
<a class="sourceLine" id="cb28-5" title="5"><span class="va">console</span>.<span class="at">log</span>(father)<span class="op">;</span> <span class="co">// &#39;anakin&#39;</span></a></code></pre></div>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="modules">Modules</h2>
<p>Prior to ES6, we used libraries such as <a href="http://browserify.org/">Browserify</a> to create modules on the client-side, and <a href="https://nodejs.org/api/modules.html#modules_module_require_id">require</a> in <strong>Node.js</strong>. With ES6, we can now directly use modules of all types (AMD and CommonJS).</p>
<h3 id="exporting-in-commonjs">Exporting in CommonJS</h3>
<div class="sourceCode" id="cb29"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" title="1"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb29-2" title="2"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="op">{</span> <span class="dt">foo</span><span class="op">:</span> <span class="st">&#39;bar&#39;</span> <span class="op">};</span></a>
<a class="sourceLine" id="cb29-3" title="3"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> [<span class="st">&#39;foo&#39;</span><span class="op">,</span> <span class="st">&#39;bar&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb29-4" title="4"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="kw">function</span> <span class="at">bar</span> () <span class="op">{};</span></a></code></pre></div>
<h3 id="exporting-in-es6">Exporting in ES6</h3>
<p>With ES6, we have various flavors of exporting. We can perform <strong>Named Exports</strong>:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"><span class="im">export</span> <span class="kw">let</span> name <span class="op">=</span> <span class="st">&#39;David&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb30-2" title="2"><span class="im">export</span> <span class="kw">let</span> age  <span class="op">=</span> <span class="dv">25</span><span class="op">;</span>​​</a></code></pre></div>
<p>As well as <strong>exporting a list</strong> of objects:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">function</span> <span class="at">sumTwo</span>(a<span class="op">,</span> b) <span class="op">{</span></a>
<a class="sourceLine" id="cb31-2" title="2">    <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb31-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb31-4" title="4"></a>
<a class="sourceLine" id="cb31-5" title="5"><span class="kw">function</span> <span class="at">sumThree</span>(a<span class="op">,</span> b<span class="op">,</span> c) <span class="op">{</span></a>
<a class="sourceLine" id="cb31-6" title="6">    <span class="cf">return</span> a <span class="op">+</span> b <span class="op">+</span> c<span class="op">;</span></a>
<a class="sourceLine" id="cb31-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb31-8" title="8"></a>
<a class="sourceLine" id="cb31-9" title="9"><span class="im">export</span> <span class="op">{</span> sumTwo<span class="op">,</span> sumThree <span class="op">};</span></a></code></pre></div>
<p>We can also export functions, objects and values (etc.) simply by using the <code>export</code> keyword:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"><span class="im">export</span> <span class="kw">function</span> <span class="at">sumTwo</span>(a<span class="op">,</span> b) <span class="op">{</span></a>
<a class="sourceLine" id="cb32-2" title="2">    <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb32-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb32-4" title="4"></a>
<a class="sourceLine" id="cb32-5" title="5"><span class="im">export</span> <span class="kw">function</span> <span class="at">sumThree</span>(a<span class="op">,</span> b<span class="op">,</span> c) <span class="op">{</span></a>
<a class="sourceLine" id="cb32-6" title="6">    <span class="cf">return</span> a <span class="op">+</span> b <span class="op">+</span> c<span class="op">;</span></a>
<a class="sourceLine" id="cb32-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>And lastly, we can <strong>export default bindings</strong>:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">function</span> <span class="at">sumTwo</span>(a<span class="op">,</span> b) <span class="op">{</span></a>
<a class="sourceLine" id="cb33-2" title="2">    <span class="cf">return</span> a <span class="op">+</span> b<span class="op">;</span></a>
<a class="sourceLine" id="cb33-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb33-4" title="4"></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="kw">function</span> <span class="at">sumThree</span>(a<span class="op">,</span> b<span class="op">,</span> c) <span class="op">{</span></a>
<a class="sourceLine" id="cb33-6" title="6">    <span class="cf">return</span> a <span class="op">+</span> b <span class="op">+</span> c<span class="op">;</span></a>
<a class="sourceLine" id="cb33-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb33-8" title="8"></a>
<a class="sourceLine" id="cb33-9" title="9"><span class="kw">let</span> api <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb33-10" title="10">    sumTwo<span class="op">,</span></a>
<a class="sourceLine" id="cb33-11" title="11">    sumThree</a>
<a class="sourceLine" id="cb33-12" title="12"><span class="op">};</span></a>
<a class="sourceLine" id="cb33-13" title="13"></a>
<a class="sourceLine" id="cb33-14" title="14"><span class="im">export</span> <span class="im">default</span> api<span class="op">;</span></a>
<a class="sourceLine" id="cb33-15" title="15"></a>
<a class="sourceLine" id="cb33-16" title="16"><span class="co">/* Which is the same as</span></a>
<a class="sourceLine" id="cb33-17" title="17"><span class="co"> * export { api as default };</span></a>
<a class="sourceLine" id="cb33-18" title="18"><span class="co"> */</span></a></code></pre></div>
<blockquote>
<p><strong>Best Practices</strong>: Always use the <code>export default</code> method at <strong>the end</strong> of the module. It makes it clear what is being exported, and saves time by having to figure out what name a value was exported as. More so, the common practice in CommonJS modules is to export a single value or object. By sticking to this paradigm, we make our code easily readable and allow ourselves to interpolate between CommonJS and ES6 modules.</p>
</blockquote>
<h3 id="importing-in-es6">Importing in ES6</h3>
<p>ES6 provides us with various flavors of importing. We can import an entire file:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" title="1"><span class="im">import</span> <span class="st">&#39;underscore&#39;</span><span class="op">;</span></a></code></pre></div>
<blockquote>
<p>It is important to note that simply <strong>importing an entire file will execute all code at the top level of that file</strong>.</p>
</blockquote>
<p>Similar to Python, we have named imports:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" title="1"><span class="im">import</span> <span class="op">{</span> sumTwo<span class="op">,</span> sumThree <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;math/addition&#39;</span><span class="op">;</span></a></code></pre></div>
<p>We can also rename the named imports:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb36-1" title="1"><span class="im">import</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb36-2" title="2">    sumTwo <span class="im">as</span> addTwoNumbers<span class="op">,</span></a>
<a class="sourceLine" id="cb36-3" title="3">    sumThree <span class="im">as</span> sumThreeNumbers</a>
<a class="sourceLine" id="cb36-4" title="4"><span class="op">}</span> <span class="im">from</span> <span class="st">&#39;math/addition&#39;</span><span class="op">;</span></a></code></pre></div>
<p>In addition, we can <strong>import all the things</strong> (also called namespace import):</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb37-1" title="1"><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> util <span class="im">from</span> <span class="st">&#39;math/addition&#39;</span><span class="op">;</span></a></code></pre></div>
<p>Lastly, we can import a list of values from a module:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb38-1" title="1"><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> additionUtil <span class="im">from</span> <span class="st">&#39;math/addition&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb38-2" title="2"><span class="kw">const</span> <span class="op">{</span> sumTwo<span class="op">,</span> sumThree <span class="op">}</span> <span class="op">=</span> additionUtil<span class="op">;</span></a></code></pre></div>
<p>Importing from the default binding like this:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb39-1" title="1"><span class="im">import</span> api <span class="im">from</span> <span class="st">&#39;math/addition&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb39-2" title="2"><span class="co">// Same as: import { default as api } from &#39;math/addition&#39;;</span></a></code></pre></div>
<p>While it is better to keep the exports simple, but we can sometimes mix default import and mixed import if needed. When we are exporting like this:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb40-1" title="1"><span class="co">// foos.js</span></a>
<a class="sourceLine" id="cb40-2" title="2"><span class="im">export</span> <span class="op">{</span> foo <span class="im">as</span> <span class="im">default</span><span class="op">,</span> foo1<span class="op">,</span> foo2 <span class="op">};</span></a></code></pre></div>
<p>We can import them like the following:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb41-1" title="1"><span class="im">import</span> foo<span class="op">,</span> <span class="op">{</span> foo1<span class="op">,</span> foo2 <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;foos&#39;</span><span class="op">;</span></a></code></pre></div>
<p>When importing a module exported using commonjs syntax (such as React) we can do:</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb42-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb42-2" title="2"><span class="kw">const</span> <span class="op">{</span> Component<span class="op">,</span> PropTypes <span class="op">}</span> <span class="op">=</span> React<span class="op">;</span></a></code></pre></div>
<p>This can also be simplified further, using:</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb43-1" title="1"><span class="im">import</span> React<span class="op">,</span> <span class="op">{</span> Component<span class="op">,</span> PropTypes <span class="op">}</span> <span class="im">from</span> <span class="st">&#39;react&#39;</span><span class="op">;</span></a></code></pre></div>
<blockquote>
<p><strong>Note</strong>: Values that are exported are <strong>bindings</strong>, not references. Therefore, changing the binding of a variable in one module will affect the value within the exported module. Avoid changing the public interface of these exported values.</p>
</blockquote>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="parameters">Parameters</h2>
<p>In ES5, we had varying ways to handle functions which needed <strong>default values</strong>, <strong>indefinite arguments</strong>, and <strong>named parameters</strong>. With ES6, we can accomplish all of this and more using more concise syntax.</p>
<h3 id="default-parameters">Default Parameters</h3>
<div class="sourceCode" id="cb44"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb44-1" title="1"><span class="kw">function</span> <span class="at">addTwoNumbers</span>(x<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb44-2" title="2">    x <span class="op">=</span> x <span class="op">||</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-3" title="3">    y <span class="op">=</span> y <span class="op">||</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-4" title="4">    <span class="cf">return</span> x <span class="op">+</span> y<span class="op">;</span></a>
<a class="sourceLine" id="cb44-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>In ES6, we can simply supply default values for parameters in a function:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">function</span> <span class="at">addTwoNumbers</span>(x<span class="op">=</span><span class="dv">0</span><span class="op">,</span> y<span class="op">=</span><span class="dv">0</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb45-2" title="2">    <span class="cf">return</span> x <span class="op">+</span> y<span class="op">;</span></a>
<a class="sourceLine" id="cb45-3" title="3"><span class="op">}</span></a></code></pre></div>
<div class="sourceCode" id="cb46"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb46-1" title="1"><span class="at">addTwoNumbers</span>(<span class="dv">2</span><span class="op">,</span> <span class="dv">4</span>)<span class="op">;</span> <span class="co">// 6</span></a>
<a class="sourceLine" id="cb46-2" title="2"><span class="at">addTwoNumbers</span>(<span class="dv">2</span>)<span class="op">;</span> <span class="co">// 2</span></a>
<a class="sourceLine" id="cb46-3" title="3"><span class="at">addTwoNumbers</span>()<span class="op">;</span> <span class="co">// 0</span></a></code></pre></div>
<h3 id="rest-parameters">Rest Parameters</h3>
<p>In ES5, we handled an indefinite number of arguments like so:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb47-1" title="1"><span class="kw">function</span> <span class="at">logArguments</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb47-2" title="2">    <span class="cf">for</span> (<span class="kw">var</span> i<span class="op">=</span><span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="kw">arguments</span>.<span class="at">length</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb47-3" title="3">        <span class="va">console</span>.<span class="at">log</span>(<span class="kw">arguments</span>[i])<span class="op">;</span></a>
<a class="sourceLine" id="cb47-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>Using the <strong>rest</strong> operator, we can pass in an indefinite amount of arguments:</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb48-1" title="1"><span class="kw">function</span> <span class="at">logArguments</span>(...<span class="at">args</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb48-2" title="2">    <span class="cf">for</span> (<span class="kw">let</span> arg <span class="kw">of</span> args) <span class="op">{</span></a>
<a class="sourceLine" id="cb48-3" title="3">        <span class="va">console</span>.<span class="at">log</span>(arg)<span class="op">;</span></a>
<a class="sourceLine" id="cb48-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb48-5" title="5"><span class="op">}</span></a></code></pre></div>
<h3 id="named-parameters">Named Parameters</h3>
<p>One of the patterns in ES5 to handle named parameters was to use the <strong>options object</strong> pattern, adopted from jQuery.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb49-1" title="1"><span class="kw">function</span> <span class="at">initializeCanvas</span>(options) <span class="op">{</span></a>
<a class="sourceLine" id="cb49-2" title="2">    <span class="kw">var</span> height <span class="op">=</span> <span class="va">options</span>.<span class="at">height</span> <span class="op">||</span> <span class="dv">600</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-3" title="3">    <span class="kw">var</span> width  <span class="op">=</span> <span class="va">options</span>.<span class="at">width</span>  <span class="op">||</span> <span class="dv">400</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-4" title="4">    <span class="kw">var</span> lineStroke <span class="op">=</span> <span class="va">options</span>.<span class="at">lineStroke</span> <span class="op">||</span> <span class="st">&#39;black&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>We can achieve the same functionality using destructuring as a formal parameter to a function:</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb50-1" title="1"><span class="kw">function</span> <span class="at">initializeCanvas</span>(</a>
<a class="sourceLine" id="cb50-2" title="2">    <span class="op">{</span> height<span class="op">=</span><span class="dv">600</span><span class="op">,</span> width<span class="op">=</span><span class="dv">400</span><span class="op">,</span> lineStroke<span class="op">=</span><span class="st">&#39;black&#39;</span><span class="op">}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb50-3" title="3">        <span class="co">// Use variables height, width, lineStroke here</span></a>
<a class="sourceLine" id="cb50-4" title="4">    <span class="op">}</span></a></code></pre></div>
<p>If we want to make the entire value optional, we can do so by destructuring an empty object:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb51-1" title="1"><span class="kw">function</span> <span class="at">initializeCanvas</span>(</a>
<a class="sourceLine" id="cb51-2" title="2">    <span class="op">{</span> height<span class="op">=</span><span class="dv">600</span><span class="op">,</span> width<span class="op">=</span><span class="dv">400</span><span class="op">,</span> lineStroke<span class="op">=</span><span class="st">&#39;black&#39;</span><span class="op">}</span> <span class="op">=</span> <span class="op">{}</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb51-3" title="3">        <span class="co">// ...</span></a>
<a class="sourceLine" id="cb51-4" title="4">    <span class="op">}</span></a></code></pre></div>
<h3 id="spread-operator">Spread Operator</h3>
<p>In ES5, we could find the max of values in an array by using the <code>apply</code> method on <code>Math.max</code> like this:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb52-1" title="1"><span class="va">Math</span>.<span class="va">max</span>.<span class="at">apply</span>(<span class="kw">null</span><span class="op">,</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">9001</span><span class="op">,</span> <span class="dv">-32</span>])<span class="op">;</span> <span class="co">// 9001</span></a></code></pre></div>
<p>In ES6, we can now use the spread operator to pass an array of values to be used as parameters to a function:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb53-1" title="1"><span class="va">Math</span>.<span class="at">max</span>(...[<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">100</span><span class="op">,</span> <span class="dv">9001</span><span class="op">,</span> <span class="dv">-32</span>])<span class="op">;</span> <span class="co">// 9001</span></a></code></pre></div>
<p>We can concat array literals easily with this intuitive syntax:</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb54-1" title="1"><span class="kw">let</span> cities <span class="op">=</span> [<span class="st">&#39;San Francisco&#39;</span><span class="op">,</span> <span class="st">&#39;Los Angeles&#39;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb54-2" title="2"><span class="kw">let</span> places <span class="op">=</span> [<span class="st">&#39;Miami&#39;</span><span class="op">,</span> ...<span class="at">cities</span><span class="op">,</span> <span class="st">&#39;Chicago&#39;</span>]<span class="op">;</span> <span class="co">// [&#39;Miami&#39;, &#39;San Francisco&#39;, &#39;Los Angeles&#39;, &#39;Chicago&#39;]</span></a></code></pre></div>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="classes">Classes</h2>
<p>Prior to ES6, we implemented Classes by creating a constructor function and adding properties by extending the prototype:</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(name<span class="op">,</span> age<span class="op">,</span> gender) <span class="op">{</span></a>
<a class="sourceLine" id="cb55-2" title="2">    <span class="kw">this</span>.<span class="at">name</span>   <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb55-3" title="3">    <span class="kw">this</span>.<span class="at">age</span>    <span class="op">=</span> age<span class="op">;</span></a>
<a class="sourceLine" id="cb55-4" title="4">    <span class="kw">this</span>.<span class="at">gender</span> <span class="op">=</span> gender<span class="op">;</span></a>
<a class="sourceLine" id="cb55-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb55-6" title="6"></a>
<a class="sourceLine" id="cb55-7" title="7"><span class="va">Person</span>.<span class="va">prototype</span>.<span class="at">incrementAge</span> <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb55-8" title="8">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">age</span> <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb55-9" title="9"><span class="op">};</span></a></code></pre></div>
<p>And created extended classes by the following:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb56-1" title="1"><span class="kw">function</span> <span class="at">Personal</span>(name<span class="op">,</span> age<span class="op">,</span> gender<span class="op">,</span> occupation<span class="op">,</span> hobby) <span class="op">{</span></a>
<a class="sourceLine" id="cb56-2" title="2">    <span class="va">Person</span>.<span class="at">call</span>(<span class="kw">this</span><span class="op">,</span> name<span class="op">,</span> age<span class="op">,</span> gender)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-3" title="3">    <span class="kw">this</span>.<span class="at">occupation</span> <span class="op">=</span> occupation<span class="op">;</span></a>
<a class="sourceLine" id="cb56-4" title="4">    <span class="kw">this</span>.<span class="at">hobby</span> <span class="op">=</span> hobby<span class="op">;</span></a>
<a class="sourceLine" id="cb56-5" title="5"><span class="op">}</span></a>
<a class="sourceLine" id="cb56-6" title="6"></a>
<a class="sourceLine" id="cb56-7" title="7"><span class="va">Personal</span>.<span class="at">prototype</span> <span class="op">=</span> <span class="va">Object</span>.<span class="at">create</span>(<span class="va">Person</span>.<span class="at">prototype</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-8" title="8"><span class="va">Personal</span>.<span class="va">prototype</span>.<span class="at">constructor</span> <span class="op">=</span> Personal<span class="op">;</span></a>
<a class="sourceLine" id="cb56-9" title="9"><span class="va">Personal</span>.<span class="va">prototype</span>.<span class="at">incrementAge</span> <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb56-10" title="10">    <span class="va">Person</span>.<span class="va">prototype</span>.<span class="va">incrementAge</span>.<span class="at">call</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-11" title="11">    <span class="kw">this</span>.<span class="at">age</span> <span class="op">+=</span> <span class="dv">20</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-12" title="12">    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">age</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb56-13" title="13"><span class="op">};</span></a></code></pre></div>
<p>ES6 provides much needed syntactic sugar for doing this under the hood. We can create Classes directly:</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb57-1" title="1"><span class="kw">class</span> Person <span class="op">{</span></a>
<a class="sourceLine" id="cb57-2" title="2">    <span class="at">constructor</span>(name<span class="op">,</span> age<span class="op">,</span> gender) <span class="op">{</span></a>
<a class="sourceLine" id="cb57-3" title="3">        <span class="kw">this</span>.<span class="at">name</span>   <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb57-4" title="4">        <span class="kw">this</span>.<span class="at">age</span>    <span class="op">=</span> age<span class="op">;</span></a>
<a class="sourceLine" id="cb57-5" title="5">        <span class="kw">this</span>.<span class="at">gender</span> <span class="op">=</span> gender<span class="op">;</span></a>
<a class="sourceLine" id="cb57-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb57-7" title="7"></a>
<a class="sourceLine" id="cb57-8" title="8">    <span class="at">incrementAge</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb57-9" title="9">      <span class="kw">this</span>.<span class="at">age</span> <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb57-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb57-11" title="11"><span class="op">}</span></a></code></pre></div>
<p>And extend them using the <code>extends</code> keyword:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb58-1" title="1"><span class="kw">class</span> Personal <span class="kw">extends</span> Person <span class="op">{</span></a>
<a class="sourceLine" id="cb58-2" title="2">    <span class="at">constructor</span>(name<span class="op">,</span> age<span class="op">,</span> gender<span class="op">,</span> occupation<span class="op">,</span> hobby) <span class="op">{</span></a>
<a class="sourceLine" id="cb58-3" title="3">        <span class="kw">super</span>(name<span class="op">,</span> age<span class="op">,</span> gender)<span class="op">;</span></a>
<a class="sourceLine" id="cb58-4" title="4">        <span class="kw">this</span>.<span class="at">occupation</span> <span class="op">=</span> occupation<span class="op">;</span></a>
<a class="sourceLine" id="cb58-5" title="5">        <span class="kw">this</span>.<span class="at">hobby</span> <span class="op">=</span> hobby<span class="op">;</span></a>
<a class="sourceLine" id="cb58-6" title="6">    <span class="op">}</span></a>
<a class="sourceLine" id="cb58-7" title="7"></a>
<a class="sourceLine" id="cb58-8" title="8">    <span class="at">incrementAge</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb58-9" title="9">        <span class="kw">super</span>.<span class="at">incrementAge</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb58-10" title="10">        <span class="kw">this</span>.<span class="at">age</span> <span class="op">+=</span> <span class="dv">20</span><span class="op">;</span></a>
<a class="sourceLine" id="cb58-11" title="11">        <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>.<span class="at">age</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb58-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb58-13" title="13"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p><strong>Best Practice</strong>: While the syntax for creating classes in ES6 obscures how implementation and prototypes work under the hood, it is a good feature for beginners and allows us to write cleaner code.</p>
</blockquote>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="symbols">Symbols</h2>
<p>Symbols have existed prior to ES6, but now we have a public interface to using them directly. Symbols are immutable and unique and can be used as keys in any hash.</p>
<h3 id="symbol">Symbol( )</h3>
<p>Calling <code>Symbol()</code> or <code>Symbol(description)</code> will create a unique symbol that cannot be looked up globally. A Use case for <code>Symbol()</code> is to patch objects or namespaces from third parties with your own logic, but be confident that you won’t collide with updates to that library. For example, if you wanted to add a method <code>refreshComponent</code> to the <code>React.Component</code> class, and be certain that you didn’t trample a method they add in a later update:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb59-1" title="1"><span class="kw">const</span> refreshComponent <span class="op">=</span> <span class="at">Symbol</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb59-2" title="2"></a>
<a class="sourceLine" id="cb59-3" title="3"><span class="va">React</span>.<span class="va">Component</span>.<span class="at">prototype</span>[refreshComponent] <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-4" title="4">    <span class="co">// do something</span></a>
<a class="sourceLine" id="cb59-5" title="5"><span class="op">}</span></a></code></pre></div>
<h3 id="symbol.forkey">Symbol.for(key)</h3>
<p><code>Symbol.for(key)</code> will create a Symbol that is still immutable and unique, but can be looked up globally. Two identical calls to <code>Symbol.for(key)</code> will return the same Symbol instance. NOTE: This is not true for <code>Symbol(description)</code>:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb60-1" title="1"><span class="at">Symbol</span>(<span class="st">&#39;foo&#39;</span>) <span class="op">===</span> <span class="at">Symbol</span>(<span class="st">&#39;foo&#39;</span>) <span class="co">// false</span></a>
<a class="sourceLine" id="cb60-2" title="2"><span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&#39;foo&#39;</span>) <span class="op">===</span> <span class="at">Symbol</span>(<span class="st">&#39;foo&#39;</span>) <span class="co">// false</span></a>
<a class="sourceLine" id="cb60-3" title="3"><span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&#39;foo&#39;</span>) <span class="op">===</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&#39;foo&#39;</span>) <span class="co">// true</span></a></code></pre></div>
<p>A common use case for Symbols, and in particular with <code>Symbol.for(key)</code> is for interoperability. This can be achieved by having your code look for a Symbol member on object arguments from third parties that contain some known interface. For example:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb61-1" title="1"><span class="kw">function</span> <span class="at">reader</span>(obj) <span class="op">{</span></a>
<a class="sourceLine" id="cb61-2" title="2">    <span class="kw">const</span> specialRead <span class="op">=</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&#39;specialRead&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb61-3" title="3">    <span class="cf">if</span> (obj[specialRead]) <span class="op">{</span></a>
<a class="sourceLine" id="cb61-4" title="4">        <span class="kw">const</span> reader <span class="op">=</span> obj[specialRead]()<span class="op">;</span></a>
<a class="sourceLine" id="cb61-5" title="5">        <span class="co">// do something with reader</span></a>
<a class="sourceLine" id="cb61-6" title="6">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb61-7" title="7">        <span class="cf">throw</span> <span class="kw">new</span> <span class="at">TypeError</span>(<span class="st">&#39;object cannot be read&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb61-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb61-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>And then in another library:</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb62-1" title="1"><span class="kw">const</span> specialRead <span class="op">=</span> <span class="va">Symbol</span>.<span class="at">for</span>(<span class="st">&#39;specialRead&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-2" title="2"></a>
<a class="sourceLine" id="cb62-3" title="3"><span class="kw">class</span> SomeReadableType <span class="op">{</span></a>
<a class="sourceLine" id="cb62-4" title="4">    [specialRead]() <span class="op">{</span></a>
<a class="sourceLine" id="cb62-5" title="5">        <span class="kw">const</span> reader <span class="op">=</span> <span class="at">createSomeReaderFrom</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-6" title="6">        <span class="cf">return</span> reader<span class="op">;</span></a>
<a class="sourceLine" id="cb62-7" title="7">    <span class="op">}</span></a>
<a class="sourceLine" id="cb62-8" title="8"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p>A notable example of Symbol use for interoperability is <code>Symbol.iterator</code> which exists on all iterable types in ES6: Arrays, strings, generators, etc. When called as a method it returns an object with an Iterator interface.</p>
</blockquote>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="maps">Maps</h2>
<p><strong>Maps</strong> is a much needed data structure in JavaScript. Prior to ES6, we created <strong>hash</strong> maps through objects:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb63-1" title="1"><span class="kw">var</span> map <span class="op">=</span> <span class="kw">new</span> <span class="at">Object</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb63-2" title="2">map[key1] <span class="op">=</span> <span class="st">&#39;value1&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb63-3" title="3">map[key2] <span class="op">=</span> <span class="st">&#39;value2&#39;</span><span class="op">;</span></a></code></pre></div>
<p>However, this does not protect us from accidentally overriding functions with specific property names:</p>
<div class="sourceCode" id="cb64"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb64-1" title="1"><span class="op">&gt;</span> <span class="at">getOwnProperty</span>(<span class="op">{</span> <span class="dt">hasOwnProperty</span><span class="op">:</span> <span class="st">&#39;Hah, overwritten&#39;</span><span class="op">},</span> <span class="st">&#39;Pwned&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="op">&gt;</span> TypeError<span class="op">:</span> Property <span class="st">&#39;hasOwnProperty&#39;</span> is not a <span class="kw">function</span></a></code></pre></div>
<p>Actual <strong>Maps</strong> allow us to <code>set</code>, <code>get</code> and <code>search</code> for values (and much more).</p>
<div class="sourceCode" id="cb65"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb65-1" title="1"><span class="kw">let</span> map <span class="op">=</span> <span class="kw">new</span> <span class="at">Map</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb65-2" title="2"><span class="op">&gt;</span> <span class="va">map</span>.<span class="at">set</span>(<span class="st">&#39;name&#39;</span><span class="op">,</span> <span class="st">&#39;david&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb65-3" title="3"><span class="op">&gt;</span> <span class="va">map</span>.<span class="at">get</span>(<span class="st">&#39;name&#39;</span>)<span class="op">;</span> <span class="co">// david</span></a>
<a class="sourceLine" id="cb65-4" title="4"><span class="op">&gt;</span> <span class="va">map</span>.<span class="at">has</span>(<span class="st">&#39;name&#39;</span>)<span class="op">;</span> <span class="co">// true</span></a></code></pre></div>
<p>The most amazing part of Maps is that we are no longer limited to just using strings. We can now use any type as a key, and it will not be type-cast to a string.</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb66-1" title="1"><span class="kw">let</span> map <span class="op">=</span> <span class="kw">new</span> <span class="at">Map</span>([</a>
<a class="sourceLine" id="cb66-2" title="2">    [<span class="st">&#39;name&#39;</span><span class="op">,</span> <span class="st">&#39;david&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb66-3" title="3">    [<span class="kw">true</span><span class="op">,</span> <span class="st">&#39;false&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb66-4" title="4">    [<span class="dv">1</span><span class="op">,</span> <span class="st">&#39;one&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb66-5" title="5">    [<span class="op">{},</span> <span class="st">&#39;object&#39;</span>]<span class="op">,</span></a>
<a class="sourceLine" id="cb66-6" title="6">    [<span class="kw">function</span> () <span class="op">{},</span> <span class="st">&#39;function&#39;</span>]</a>
<a class="sourceLine" id="cb66-7" title="7">])<span class="op">;</span></a>
<a class="sourceLine" id="cb66-8" title="8"></a>
<a class="sourceLine" id="cb66-9" title="9"><span class="cf">for</span> (<span class="kw">let</span> key <span class="kw">of</span> <span class="va">map</span>.<span class="at">keys</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb66-10" title="10">    <span class="va">console</span>.<span class="at">log</span>(<span class="kw">typeof</span> key)<span class="op">;</span></a>
<a class="sourceLine" id="cb66-11" title="11">    <span class="co">// &gt; string, boolean, number, object, function</span></a>
<a class="sourceLine" id="cb66-12" title="12"><span class="op">}</span></a></code></pre></div>
<blockquote>
<p><strong>Note</strong>: Using non-primitive values such as functions or objects won’t work when testing equality using methods such as <code>map.get()</code>. As such, stick to primitive values such as Strings, Booleans and Numbers.</p>
</blockquote>
<p>We can also iterate over maps using <code>.entries()</code>:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb67-1" title="1"><span class="cf">for</span> (<span class="kw">let</span> [key<span class="op">,</span> value] <span class="kw">of</span> <span class="va">map</span>.<span class="at">entries</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb67-2" title="2">    <span class="va">console</span>.<span class="at">log</span>(key<span class="op">,</span> value)<span class="op">;</span></a>
<a class="sourceLine" id="cb67-3" title="3"><span class="op">}</span></a></code></pre></div>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="weakmaps">WeakMaps</h2>
<p>In order to store private data versions &lt; ES6, we had various ways of doing this. One such method was using naming conventions:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb68-1" title="1"><span class="kw">class</span> Person <span class="op">{</span></a>
<a class="sourceLine" id="cb68-2" title="2">    <span class="at">constructor</span>(age) <span class="op">{</span></a>
<a class="sourceLine" id="cb68-3" title="3">        <span class="kw">this</span>.<span class="at">_age</span> <span class="op">=</span> age<span class="op">;</span></a>
<a class="sourceLine" id="cb68-4" title="4">    <span class="op">}</span></a>
<a class="sourceLine" id="cb68-5" title="5"></a>
<a class="sourceLine" id="cb68-6" title="6">    <span class="at">_incrementAge</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb68-7" title="7">        <span class="kw">this</span>.<span class="at">_age</span> <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb68-8" title="8">    <span class="op">}</span></a>
<a class="sourceLine" id="cb68-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>But naming conventions can cause confusion in a codebase and are not always going to be upheld. Instead, we can use WeakMaps to store our values:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb69-1" title="1"><span class="kw">let</span> _age <span class="op">=</span> <span class="kw">new</span> <span class="at">WeakMap</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb69-2" title="2"><span class="kw">class</span> Person <span class="op">{</span></a>
<a class="sourceLine" id="cb69-3" title="3">    <span class="at">constructor</span>(age) <span class="op">{</span></a>
<a class="sourceLine" id="cb69-4" title="4">        <span class="va">_age</span>.<span class="at">set</span>(<span class="kw">this</span><span class="op">,</span> age)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb69-6" title="6"></a>
<a class="sourceLine" id="cb69-7" title="7">    <span class="at">incrementAge</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb69-8" title="8">        <span class="kw">let</span> age <span class="op">=</span> <span class="va">_age</span>.<span class="at">get</span>(<span class="kw">this</span>) <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb69-9" title="9">        <span class="va">_age</span>.<span class="at">set</span>(<span class="kw">this</span><span class="op">,</span> age)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-10" title="10">        <span class="cf">if</span> (age <span class="op">&gt;</span> <span class="dv">50</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb69-11" title="11">            <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Midlife crisis&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb69-12" title="12">        <span class="op">}</span></a>
<a class="sourceLine" id="cb69-13" title="13">    <span class="op">}</span></a>
<a class="sourceLine" id="cb69-14" title="14"><span class="op">}</span></a></code></pre></div>
<p>The cool thing about using WeakMaps to store our private data is that their keys do not give away the property names, which can be seen by using <code>Reflect.ownKeys()</code>:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb70-1" title="1"><span class="op">&gt;</span> <span class="kw">const</span> person <span class="op">=</span> <span class="kw">new</span> <span class="at">Person</span>(<span class="dv">50</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb70-2" title="2"><span class="op">&gt;</span> <span class="va">person</span>.<span class="at">incrementAge</span>()<span class="op">;</span> <span class="co">// &#39;Midlife crisis&#39;</span></a>
<a class="sourceLine" id="cb70-3" title="3"><span class="op">&gt;</span> <span class="va">Reflect</span>.<span class="at">ownKeys</span>(person)<span class="op">;</span> <span class="co">// []</span></a></code></pre></div>
<p>A more practical example of using WeakMaps is to store data which is associated to a DOM element without having to pollute the DOM itself:</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb71-1" title="1"><span class="kw">let</span> map <span class="op">=</span> <span class="kw">new</span> <span class="at">WeakMap</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb71-2" title="2"><span class="kw">let</span> el  <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;someElement&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-3" title="3"></a>
<a class="sourceLine" id="cb71-4" title="4"><span class="co">// Store a weak reference to the element with a key</span></a>
<a class="sourceLine" id="cb71-5" title="5"><span class="va">map</span>.<span class="at">set</span>(el<span class="op">,</span> <span class="st">&#39;reference&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-6" title="6"></a>
<a class="sourceLine" id="cb71-7" title="7"><span class="co">// Access the value of the element</span></a>
<a class="sourceLine" id="cb71-8" title="8"><span class="kw">let</span> value <span class="op">=</span> <span class="va">map</span>.<span class="at">get</span>(el)<span class="op">;</span> <span class="co">// &#39;reference&#39;</span></a>
<a class="sourceLine" id="cb71-9" title="9"></a>
<a class="sourceLine" id="cb71-10" title="10"><span class="co">// Remove the reference</span></a>
<a class="sourceLine" id="cb71-11" title="11"><span class="va">el</span>.<span class="va">parentNode</span>.<span class="at">removeChild</span>(el)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-12" title="12">el <span class="op">=</span> <span class="kw">null</span><span class="op">;</span></a>
<a class="sourceLine" id="cb71-13" title="13"></a>
<a class="sourceLine" id="cb71-14" title="14"><span class="co">// map is empty, since the element is destroyed</span></a></code></pre></div>
<p>As shown above, once the object is destroyed by the garbage collector, the WeakMap will automatically remove the key-value pair which was identified by that object.</p>
<blockquote>
<p><strong>Note</strong>: To further illustrate the usefulness of this example, consider how jQuery stores a cache of objects corresponding to DOM elements which have references. Using WeakMaps, jQuery can automatically free up any memory that was associated with a particular DOM element once it has been removed from the document. In general, WeakMaps are very useful for any library that wraps DOM elements.</p>
</blockquote>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="promises">Promises</h2>
<p>Promises allow us to turn our horizontal code (callback hell):</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb72-1" title="1"><span class="at">func1</span>(<span class="kw">function</span> (value1) <span class="op">{</span></a>
<a class="sourceLine" id="cb72-2" title="2">    <span class="at">func2</span>(value1<span class="op">,</span> <span class="kw">function</span> (value2) <span class="op">{</span></a>
<a class="sourceLine" id="cb72-3" title="3">        <span class="at">func3</span>(value2<span class="op">,</span> <span class="kw">function</span> (value3) <span class="op">{</span></a>
<a class="sourceLine" id="cb72-4" title="4">            <span class="at">func4</span>(value3<span class="op">,</span> <span class="kw">function</span> (value4) <span class="op">{</span></a>
<a class="sourceLine" id="cb72-5" title="5">                <span class="at">func5</span>(value4<span class="op">,</span> <span class="kw">function</span> (value5) <span class="op">{</span></a>
<a class="sourceLine" id="cb72-6" title="6">                    <span class="co">// Do something with value 5</span></a>
<a class="sourceLine" id="cb72-7" title="7">                <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-8" title="8">            <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-9" title="9">        <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-10" title="10">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-11" title="11"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Into vertical code:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb73-1" title="1"><span class="at">func1</span>(value1)</a>
<a class="sourceLine" id="cb73-2" title="2">    .<span class="at">then</span>(func2)</a>
<a class="sourceLine" id="cb73-3" title="3">    .<span class="at">then</span>(func3)</a>
<a class="sourceLine" id="cb73-4" title="4">    .<span class="at">then</span>(func4)</a>
<a class="sourceLine" id="cb73-5" title="5">    .<span class="at">then</span>(func5<span class="op">,</span> value5 <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb73-6" title="6">        <span class="co">// Do something with value 5</span></a>
<a class="sourceLine" id="cb73-7" title="7">    <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Prior to ES6, we used <a href="https://github.com/petkaantonov/bluebird">bluebird</a> or <a href="https://github.com/kriskowal/q">Q</a>. Now we have Promises natively:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb74-1" title="1"><span class="kw">new</span> <span class="at">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span></a>
<a class="sourceLine" id="cb74-2" title="2">    <span class="at">reject</span>(<span class="kw">new</span> <span class="at">Error</span>(<span class="st">&#39;Failed to fulfill Promise&#39;</span>)))</a>
<a class="sourceLine" id="cb74-3" title="3">        .<span class="at">catch</span>(reason <span class="kw">=&gt;</span> <span class="va">console</span>.<span class="at">log</span>(reason))<span class="op">;</span></a></code></pre></div>
<p>Where we have two handlers, <strong>resolve</strong> (a function called when the Promise is <strong>fulfilled</strong>) and <strong>reject</strong> (a function called when the Promise is <strong>rejected</strong>).</p>
<blockquote>
<p><strong>Benefits of Promises</strong>: Error Handling using a bunch of nested callbacks can get chaotic. Using Promises, we have a clear path to bubbling errors up and handling them appropriately. Moreover, the value of a Promise after it has been resolved/rejected is immutable - it will never change.</p>
</blockquote>
<p>Here is a practical example of using Promises:</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb75-1" title="1"><span class="kw">var</span> request <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;request&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-2" title="2"></a>
<a class="sourceLine" id="cb75-3" title="3"><span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb75-4" title="4">  <span class="va">request</span>.<span class="at">get</span>(url<span class="op">,</span> (error<span class="op">,</span> response<span class="op">,</span> body) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb75-5" title="5">    <span class="cf">if</span> (body) <span class="op">{</span></a>
<a class="sourceLine" id="cb75-6" title="6">        <span class="at">resolve</span>(<span class="va">JSON</span>.<span class="at">parse</span>(body))<span class="op">;</span></a>
<a class="sourceLine" id="cb75-7" title="7">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb75-8" title="8">        <span class="at">resolve</span>(<span class="op">{}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-9" title="9">      <span class="op">}</span></a>
<a class="sourceLine" id="cb75-10" title="10">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb75-11" title="11"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>We can also <strong>parallelize</strong> Promises to handle an array of asynchronous operations by using <code>Promise.all()</code>:</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb76-1" title="1"><span class="kw">let</span> urls <span class="op">=</span> [</a>
<a class="sourceLine" id="cb76-2" title="2">  <span class="st">&#39;/api/commits&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb76-3" title="3">  <span class="st">&#39;/api/issues/opened&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb76-4" title="4">  <span class="st">&#39;/api/issues/assigned&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb76-5" title="5">  <span class="st">&#39;/api/issues/completed&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb76-6" title="6">  <span class="st">&#39;/api/issues/comments&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb76-7" title="7">  <span class="st">&#39;/api/pullrequests&#39;</span></a>
<a class="sourceLine" id="cb76-8" title="8">]<span class="op">;</span></a>
<a class="sourceLine" id="cb76-9" title="9"></a>
<a class="sourceLine" id="cb76-10" title="10"><span class="kw">let</span> promises <span class="op">=</span> <span class="va">urls</span>.<span class="at">map</span>((url) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb76-11" title="11">  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb76-12" title="12">    <span class="va">$</span>.<span class="at">ajax</span>(<span class="op">{</span> <span class="dt">url</span><span class="op">:</span> url <span class="op">}</span>)</a>
<a class="sourceLine" id="cb76-13" title="13">      .<span class="at">done</span>((data) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb76-14" title="14">        <span class="at">resolve</span>(data)<span class="op">;</span></a>
<a class="sourceLine" id="cb76-15" title="15">      <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb76-16" title="16">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb76-17" title="17"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb76-18" title="18"></a>
<a class="sourceLine" id="cb76-19" title="19"><span class="va">Promise</span>.<span class="at">all</span>(promises)</a>
<a class="sourceLine" id="cb76-20" title="20">  .<span class="at">then</span>((results) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb76-21" title="21">    <span class="co">// Do something with results of all our promises</span></a>
<a class="sourceLine" id="cb76-22" title="22"> <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="generators">Generators</h2>
<p>Similar to how <a href="https://github.com/DrkSephy/es6-cheatsheet#promises">Promises</a> allow us to avoid <a href="http://callbackhell.com/">callback hell</a>, Generators allow us to flatten our code - giving our asynchronous code a synchronous feel. Generators are essentially functions which we can <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/yield">pause their execution</a> and subsequently return the value of an expression.</p>
<p>A simple example of using generators is shown below:</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb77-1" title="1"><span class="kw">function</span><span class="op">*</span> <span class="at">sillyGenerator</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb77-2" title="2">    <span class="kw">yield</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-3" title="3">    <span class="kw">yield</span> <span class="dv">2</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-4" title="4">    <span class="kw">yield</span> <span class="dv">3</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-5" title="5">    <span class="kw">yield</span> <span class="dv">4</span><span class="op">;</span></a>
<a class="sourceLine" id="cb77-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb77-7" title="7"></a>
<a class="sourceLine" id="cb77-8" title="8"><span class="kw">var</span> generator <span class="op">=</span> <span class="at">sillyGenerator</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb77-9" title="9"><span class="op">&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="va">generator</span>.<span class="at">next</span>())<span class="op">;</span> <span class="co">// { value: 1, done: false }</span></a>
<a class="sourceLine" id="cb77-10" title="10"><span class="op">&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="va">generator</span>.<span class="at">next</span>())<span class="op">;</span> <span class="co">// { value: 2, done: false }</span></a>
<a class="sourceLine" id="cb77-11" title="11"><span class="op">&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="va">generator</span>.<span class="at">next</span>())<span class="op">;</span> <span class="co">// { value: 3, done: false }</span></a>
<a class="sourceLine" id="cb77-12" title="12"><span class="op">&gt;</span> <span class="va">console</span>.<span class="at">log</span>(<span class="va">generator</span>.<span class="at">next</span>())<span class="op">;</span> <span class="co">// { value: 4, done: false }</span></a></code></pre></div>
<p>Where <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator/next">next</a> will allow us to push our generator forward and evaluate a new expression. While the above example is extremely contrived, we can utilize Generators to write asynchronous code in a synchronous manner:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb78-1" title="1"><span class="co">// Hiding asynchronousity with Generators</span></a>
<a class="sourceLine" id="cb78-2" title="2"></a>
<a class="sourceLine" id="cb78-3" title="3"><span class="kw">function</span> <span class="at">request</span>(url) <span class="op">{</span></a>
<a class="sourceLine" id="cb78-4" title="4">    <span class="at">getJSON</span>(url<span class="op">,</span> <span class="kw">function</span>(response) <span class="op">{</span></a>
<a class="sourceLine" id="cb78-5" title="5">        <span class="va">generator</span>.<span class="at">next</span>(response)<span class="op">;</span></a>
<a class="sourceLine" id="cb78-6" title="6">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb78-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>And here we write a generator function that will return our data:</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb79-1" title="1"><span class="kw">function</span><span class="op">*</span> <span class="at">getData</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb79-2" title="2">    <span class="kw">var</span> entry1 <span class="op">=</span> <span class="kw">yield</span> <span class="at">request</span>(<span class="st">&#39;http://some_api/item1&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-3" title="3">    <span class="kw">var</span> data1  <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(entry1)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-4" title="4">    <span class="kw">var</span> entry2 <span class="op">=</span> <span class="kw">yield</span> <span class="at">request</span>(<span class="st">&#39;http://some_api/item2&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-5" title="5">    <span class="kw">var</span> data2  <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(entry2)<span class="op">;</span></a>
<a class="sourceLine" id="cb79-6" title="6"><span class="op">}</span></a></code></pre></div>
<p>By the power of <code>yield</code>, we are guaranteed that <code>entry1</code> will have the data needed to be parsed and stored in <code>data1</code>.</p>
<p>While generators allow us to write asynchronous code in a synchronous manner, there is no clear and easy path for error propagation. As such, as we can augment our generator with Promises:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb80-1" title="1"><span class="kw">function</span> <span class="at">request</span>(url) <span class="op">{</span></a>
<a class="sourceLine" id="cb80-2" title="2">    <span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>((resolve<span class="op">,</span> reject) <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb80-3" title="3">        <span class="at">getJSON</span>(url<span class="op">,</span> resolve)<span class="op">;</span></a>
<a class="sourceLine" id="cb80-4" title="4">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb80-5" title="5"><span class="op">}</span></a></code></pre></div>
<p>And we write a function which will step through our generator using <code>next</code> which in turn will utilize our <code>request</code> method above to yield a Promise:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb81-1" title="1"><span class="kw">function</span> <span class="at">iterateGenerator</span>(gen) <span class="op">{</span></a>
<a class="sourceLine" id="cb81-2" title="2">    <span class="kw">var</span> generator <span class="op">=</span> <span class="at">gen</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb81-3" title="3">    (<span class="kw">function</span> <span class="at">iterate</span>(val) <span class="op">{</span></a>
<a class="sourceLine" id="cb81-4" title="4">        <span class="kw">var</span> ret <span class="op">=</span> <span class="va">generator</span>.<span class="at">next</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb81-5" title="5">        <span class="cf">if</span>(<span class="op">!</span><span class="va">ret</span>.<span class="at">done</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb81-6" title="6">            <span class="va">ret</span>.<span class="va">value</span>.<span class="at">then</span>(iterate)<span class="op">;</span></a>
<a class="sourceLine" id="cb81-7" title="7">        <span class="op">}</span></a>
<a class="sourceLine" id="cb81-8" title="8">    <span class="op">}</span>)()<span class="op">;</span></a>
<a class="sourceLine" id="cb81-9" title="9"><span class="op">}</span></a></code></pre></div>
<p>By augmenting our Generator with Promises, we have a clear way of propagating errors through the use of our Promise <code>.catch</code> and <code>reject</code>. To use our newly augmented Generator, it is as simple as before:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb82-1" title="1"><span class="at">iterateGenerator</span>(<span class="kw">function</span><span class="op">*</span> <span class="at">getData</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb82-2" title="2">    <span class="kw">var</span> entry1 <span class="op">=</span> <span class="kw">yield</span> <span class="at">request</span>(<span class="st">&#39;http://some_api/item1&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb82-3" title="3">    <span class="kw">var</span> data1  <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(entry1)<span class="op">;</span></a>
<a class="sourceLine" id="cb82-4" title="4">    <span class="kw">var</span> entry2 <span class="op">=</span> <span class="kw">yield</span> <span class="at">request</span>(<span class="st">&#39;http://some_api/item2&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb82-5" title="5">    <span class="kw">var</span> data2  <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(entry2)<span class="op">;</span></a>
<a class="sourceLine" id="cb82-6" title="6"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>We were able to reuse our implementation to use our Generator as before, which shows their power. While Generators and Promises allow us to write asynchronous code in a synchronous manner while retaining the ability to propagate errors in a nice way, we can actually begin to utilize a simpler construction that provides the same benefits: <a href="https://github.com/DrkSephy/es6-cheatsheet#async-await">async-await</a>.</p>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
<h2 id="async-await">Async Await</h2>
<p>While this is actually an upcoming ES2016 feature, <code>async await</code> allows us to perform the same thing we accomplished using Generators and Promises with less effort:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb83-1" title="1"><span class="kw">var</span> request <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;request&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb83-2" title="2"></a>
<a class="sourceLine" id="cb83-3" title="3"><span class="kw">function</span> <span class="at">getJSON</span>(url) <span class="op">{</span></a>
<a class="sourceLine" id="cb83-4" title="4">  <span class="cf">return</span> <span class="kw">new</span> <span class="at">Promise</span>(<span class="kw">function</span>(resolve<span class="op">,</span> reject) <span class="op">{</span></a>
<a class="sourceLine" id="cb83-5" title="5">    <span class="at">request</span>(url<span class="op">,</span> <span class="kw">function</span>(error<span class="op">,</span> response<span class="op">,</span> body) <span class="op">{</span></a>
<a class="sourceLine" id="cb83-6" title="6">      <span class="at">resolve</span>(body)<span class="op">;</span></a>
<a class="sourceLine" id="cb83-7" title="7">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb83-8" title="8">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb83-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb83-10" title="10"></a>
<a class="sourceLine" id="cb83-11" title="11"><span class="kw">async</span> <span class="kw">function</span> <span class="at">main</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb83-12" title="12">  <span class="kw">var</span> data <span class="op">=</span> <span class="cf">await</span> <span class="at">getJSON</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb83-13" title="13">  <span class="va">console</span>.<span class="at">log</span>(data)<span class="op">;</span> <span class="co">// NOT undefined!</span></a>
<a class="sourceLine" id="cb83-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb83-15" title="15"></a>
<a class="sourceLine" id="cb83-16" title="16"><span class="at">main</span>()<span class="op">;</span></a></code></pre></div>
<p>Under the hood, it performs similarly to Generators. I highly recommend using them over Generators + Promises. A great resource for getting up and running with ES7 and Babel can be found <a href="http://masnun.com/2015/11/11/using-es7-asyncawait-today-with-babel.html">here</a>.</p>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup> ## Getter and setter functions</p>
<p>ES6 has started supporting getter and setter functions within classes. Using the following example:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb84-1" title="1"><span class="kw">class</span> Employee <span class="op">{</span></a>
<a class="sourceLine" id="cb84-2" title="2"></a>
<a class="sourceLine" id="cb84-3" title="3">    <span class="at">constructor</span>(name) <span class="op">{</span></a>
<a class="sourceLine" id="cb84-4" title="4">        <span class="kw">this</span>.<span class="at">_name</span> <span class="op">=</span> name<span class="op">;</span></a>
<a class="sourceLine" id="cb84-5" title="5">    <span class="op">}</span></a>
<a class="sourceLine" id="cb84-6" title="6"></a>
<a class="sourceLine" id="cb84-7" title="7">    get <span class="at">name</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb84-8" title="8">      <span class="cf">if</span>(<span class="kw">this</span>.<span class="at">_name</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb84-9" title="9">        <span class="cf">return</span> <span class="st">&#39;Mr. &#39;</span> <span class="op">+</span> <span class="kw">this</span>.<span class="va">_name</span>.<span class="at">toUpperCase</span>()<span class="op">;</span>  </a>
<a class="sourceLine" id="cb84-10" title="10">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb84-11" title="11">        <span class="cf">return</span> <span class="kw">undefined</span><span class="op">;</span></a>
<a class="sourceLine" id="cb84-12" title="12">      <span class="op">}</span>  </a>
<a class="sourceLine" id="cb84-13" title="13">    <span class="op">}</span></a>
<a class="sourceLine" id="cb84-14" title="14"></a>
<a class="sourceLine" id="cb84-15" title="15">    set <span class="at">name</span>(newName) <span class="op">{</span></a>
<a class="sourceLine" id="cb84-16" title="16">      <span class="cf">if</span> (newName <span class="op">==</span> <span class="kw">this</span>.<span class="at">_name</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb84-17" title="17">        <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;I already have this name.&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb84-18" title="18">      <span class="op">}</span> <span class="cf">else</span> <span class="cf">if</span> (newName) <span class="op">{</span></a>
<a class="sourceLine" id="cb84-19" title="19">        <span class="kw">this</span>.<span class="at">_name</span> <span class="op">=</span> newName<span class="op">;</span></a>
<a class="sourceLine" id="cb84-20" title="20">      <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb84-21" title="21">        <span class="cf">return</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb84-22" title="22">      <span class="op">}</span></a>
<a class="sourceLine" id="cb84-23" title="23">    <span class="op">}</span></a>
<a class="sourceLine" id="cb84-24" title="24"><span class="op">}</span></a>
<a class="sourceLine" id="cb84-25" title="25"></a>
<a class="sourceLine" id="cb84-26" title="26"><span class="kw">var</span> emp <span class="op">=</span> <span class="kw">new</span> <span class="at">Employee</span>(<span class="st">&quot;James Bond&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb84-27" title="27"></a>
<a class="sourceLine" id="cb84-28" title="28"><span class="co">// uses the get method in the background</span></a>
<a class="sourceLine" id="cb84-29" title="29"><span class="cf">if</span> (<span class="va">emp</span>.<span class="at">name</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb84-30" title="30">  <span class="va">console</span>.<span class="at">log</span>(<span class="va">emp</span>.<span class="at">name</span>)<span class="op">;</span>  <span class="co">// Mr. JAMES BOND</span></a>
<a class="sourceLine" id="cb84-31" title="31"><span class="op">}</span></a>
<a class="sourceLine" id="cb84-32" title="32"></a>
<a class="sourceLine" id="cb84-33" title="33"><span class="co">// uses the setter in the background</span></a>
<a class="sourceLine" id="cb84-34" title="34"><span class="va">emp</span>.<span class="at">name</span> <span class="op">=</span> <span class="st">&quot;Bond 007&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb84-35" title="35"><span class="va">console</span>.<span class="at">log</span>(<span class="va">emp</span>.<span class="at">name</span>)<span class="op">;</span>  <span class="co">// Mr. BOND 007  </span></a></code></pre></div>
<p>Latest browsers are also supporting getter/setter functions in Objects and we can use them for computed properties, adding listeners and preprocessing before setting/getting:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode javascript"><code class="sourceCode javascript"><a class="sourceLine" id="cb85-1" title="1"><span class="kw">var</span> person <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb85-2" title="2">  <span class="dt">firstName</span><span class="op">:</span> <span class="st">&#39;James&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb85-3" title="3">  <span class="dt">lastName</span><span class="op">:</span> <span class="st">&#39;Bond&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb85-4" title="4">  get <span class="at">fullName</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb85-5" title="5">      <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Getting FullName&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb85-6" title="6">      <span class="cf">return</span> <span class="kw">this</span>.<span class="at">firstName</span> <span class="op">+</span> <span class="st">&#39; &#39;</span> <span class="op">+</span> <span class="kw">this</span>.<span class="at">lastName</span><span class="op">;</span></a>
<a class="sourceLine" id="cb85-7" title="7">  <span class="op">},</span></a>
<a class="sourceLine" id="cb85-8" title="8">  set <span class="at">fullName</span> (name) <span class="op">{</span></a>
<a class="sourceLine" id="cb85-9" title="9">      <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;Setting FullName&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb85-10" title="10">      <span class="kw">var</span> words <span class="op">=</span> <span class="va">name</span>.<span class="at">toString</span>().<span class="at">split</span>(<span class="st">&#39; &#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb85-11" title="11">      <span class="kw">this</span>.<span class="at">firstName</span> <span class="op">=</span> words[<span class="dv">0</span>] <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb85-12" title="12">      <span class="kw">this</span>.<span class="at">lastName</span> <span class="op">=</span> words[<span class="dv">1</span>] <span class="op">||</span> <span class="st">&#39;&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb85-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb85-14" title="14"><span class="op">}</span></a>
<a class="sourceLine" id="cb85-15" title="15"></a>
<a class="sourceLine" id="cb85-16" title="16"><span class="va">person</span>.<span class="at">fullName</span><span class="op">;</span> <span class="co">// James Bond</span></a>
<a class="sourceLine" id="cb85-17" title="17"><span class="va">person</span>.<span class="at">fullName</span> <span class="op">=</span> <span class="st">&#39;Bond 007&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb85-18" title="18"><span class="va">person</span>.<span class="at">fullName</span><span class="op">;</span> <span class="co">// Bond 007</span></a></code></pre></div>
<p><sup><a href="#table-of-contents">(back to table of contents)</a></sup></p>
</body>
</html>
