<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   
<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/java-tracing.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:04:48 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Instrumenting Java code in AWS Lambda - AWS Lambda</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="/assets" />
      <meta name="target_state" content="java-tracing" />
      <meta name="default_state" content="java-tracing" />
      <link rel="icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/java-tracing.html" />
      <meta name="description" content="To record detail about calls that your function makes to other resources and services, add the X-Ray SDK for Java to your build configuration. The following example shows a Gradle build configuration that includes the libraries that enable automatic instrumentation of AWS SDK for Java 2.x clients." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS Lambda" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="" />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="Lambda" />
      <meta name="this_doc_product" content="AWS Lambda" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="https://docs.aws.amazon.com/assets/css/vendor4.css?version=2020.09.30" rel="stylesheet" />
      <link href="https://docs.aws.amazon.com/assets/css/awsdocs-common.css?version=2020.09.30" rel="stylesheet" /><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor3.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor4.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor1.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-common.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-doc-app.js?version=2020.09.30" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Instrumenting Java code in AWS Lambda - AWS Lambda</title>
                        <meta name="pdf" content="lambda-dg.pdf#java-tracing" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07GFJLN6D" />
                        <meta name="github" content="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/java-tracing.md" />
                        <meta name="rss" content="lambda-updates.rss" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/java-tracing.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/java-tracing.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/java-tracing.html" />
                        <meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-dg.pdf#java-tracing" target="_blank" title="Open PDF"></a><a target="_blank" href="https://www.amazon.com/dp/B07GFJLN6D" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/java-tracing.md" target="_blank" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com/">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/lambda/index.html">AWS Lambda</a><a href="https://docs.aws.amazon.com/lambda/latest/dg/welcome.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#java-tracing-api">Enabling active tracing with the Lambda API</a><a href="#java-tracing-cloudformation">Enabling active tracing with AWS CloudFormation</a><a href="#java-tracing-layers">Storing runtime dependencies in a layer</a><a href="#java-tracing-samples">Tracing in sample applications</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="java-tracing">Instrumenting Java code in AWS Lambda</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Lambda integrates with AWS X-Ray to enable you to trace, debug, and optimize Lambda
                                    applications. You can use
                                    X-Ray to trace a request as it traverses resources in your application, from the frontend
                                    API to storage and
                                    database on the backend. By simply adding the X-Ray SDK library to your build configuration,
                                    you can record errors
                                    and latency for any call that your function makes to an AWS service.
                                 </p>
                                 <p>The X-Ray <em>service map</em> shows the flow of requests through your application. The following
                                    example from the <a href="https://docs.aws.amazon.com/lambda/latest/dg/samples-errorprocessor.html">error processor</a> sample application shows an
                                    application with two functions. The primary function processes events and sometimes
                                    returns errors. The second
                                    function processes errors that appear in the first's log group and uses the AWS SDK
                                    to call X-Ray, Amazon S3 and
                                    Amazon CloudWatch Logs.
                                 </p>
                                 <p><a href="https://docs.aws.amazon.com/lambda/latest/dg/images/sample-errorprocessor-servicemap-l.png" rel="noopener noreferrer" target="_blank"><span class="inlinemediaobject">
                                          
                                          <img src="https://docs.aws.amazon.com/lambda/latest/dg/images/sample-errorprocessor-servicemap.png" class="aws-docs-img-whiteBg aws-docs-img-xs-padding" alt="&#xA;          Service map showing nodes for Lambda functions, X-Ray, Amazon S3 and CloudWatch Logs&#xA;        " />
                                          
                                          
                                          </span></a></p>
                                 <p>To trace requests that don't have a tracing header, enable active tracing in your
                                    function's
                                    configuration.
                                 </p>
                                 <div class="procedure">
                                    <p class="title"><b>To enable active tracing</b></p>
                                    <ol>
                                       <li>
                                          <p>Open the <a href="https://console.aws.amazon.com/lambda/home#/functions" rel="noopener noreferrer" target="_blank"><span>Functions page</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the Lambda console.
                                          </p>
                                       </li>
                                       <li>
                                          
                                          <p>Choose a function.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Under <b>Monitoring tools</b>, choose <b>Edit</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Active tracing</b> on the <b>AWS X-Ray</b> pane.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Save</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Pricing</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>X-Ray has a perpetual free tier. Beyond the free tier threshold, X-Ray charges for
                                          trace storage and
                                          retrieval. For details, see <a href="https://aws.amazon.com/xray/pricing/" rel="noopener noreferrer" target="_blank"><span>AWS X-Ray pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                       </p>
                                    </div>
                                 </div>
                                 <p>Your function needs permission to upload trace data to X-Ray. When you enable active
                                    tracing in the Lambda
                                    console, Lambda adds the required permissions to your function's <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-intro-execution-role.html">execution role</a>. Otherwise, add the <a href="https://console.aws.amazon.com/iam/home#/policies/arn:aws:iam::aws:policy/AWSXRayDaemonWriteAccess" rel="noopener noreferrer" target="_blank"><span>AWSXRayDaemonWriteAccess</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> policy to the execution role.
                                 </p>
                                 <p>X-Ray applies a sampling algorithm to ensure that tracing is efficient, while still
                                    providing a representative
                                    sample of the requests that your application serves. The default sampling rule is
                                    1 request per second and 5 percent
                                    of additional requests. This sampling rate cannot be configured for Lambda functions.
                                 </p>
                                 <p>When active tracing is enabled, Lambda records a trace for a subset of invocations.
                                    Lambda records two
                                    <em>segments</em>, which creates two nodes on the service map. The first node represents the Lambda
                                    service that receives the invocation request. The second node is recorded by the function's
                                    <a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-concepts.html#gettingstarted-concepts-runtime">runtime</a>.
                                 </p>
                                 <div class="mediaobject">
                                     
                                    <img src="https://docs.aws.amazon.com/lambda/latest/dg/images/xray-servicemap-function.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      An X-Ray service map with a single function.&#xA;    " />
                                     
                                     
                                    
                                 </div>
                                 <p>To record detail about calls that your function makes to other resources and services,
                                    add the X-Ray SDK for
                                    Java to your build configuration. The following example shows a Gradle build configuration
                                    that includes the
                                    libraries that enable automatic instrumentation of AWS SDK for Java 2.x clients.
                                 </p>
                                 <div class="example">
                                    <p class="title"><b>Example <a href="https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/sample-apps/blank-java/build.gradle" rel="noopener noreferrer" target="_blank"><span>build.gradle</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – Tracing dependencies</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">dependencies <span>{</span>
    implementation platform('software.amazon.awssdk:bom:2.10.73')
    <code class="userinput">implementation platform('com.amazonaws:aws-xray-recorder-sdk-bom:2.4.0')</code>
    implementation 'software.amazon.awssdk:lambda'
    <code class="userinput">implementation 'com.amazonaws:aws-xray-recorder-sdk-core'
    implementation 'com.amazonaws:aws-xray-recorder-sdk-aws-sdk-core'
    implementation 'com.amazonaws:aws-xray-recorder-sdk-aws-sdk-v2'
    implementation 'com.amazonaws:aws-xray-recorder-sdk-aws-sdk-v2-instrumentor'</code>
    ...
}</code></pre></div>
                                 </div>
                                 <p>The following example shows a trace with 2 segments. Both are named <b>my-function</b>, but one is
                                    type <code class="code">AWS::Lambda</code> and the other is <code class="code">AWS::Lambda::Function</code>. The function segment is
                                    expanded to show its subsegments.
                                 </p>
                                 <div class="mediaobject">
                                     
                                    <img src="https://docs.aws.amazon.com/lambda/latest/dg/images/nodejs-xray-timeline.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                                     
                                    
                                 </div>
                                 <p>The first segment represents the invocation request processed by the Lambda service.
                                    The second segment records
                                    the work done by your function. The function segment has 3 subsegments.
                                 </p>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><b>Initialization</b> – Represents time spent loading your function and
                                             running <a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-features.html#gettingstarted-features-programmingmodel">initialization code</a>. This subsegment
                                             only appears for the first event processed by each instance of your function.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Invocation</b> – Represents the work done by your handler code. By
                                             instrumenting your code, you can extend this subsegment with additional subsegments.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Overhead</b> – Represents the work done by the Lambda runtime to prepare
                                             to handle the next event.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <p>You can also instrument HTTP clients, record SQL queries, and create custom subsegments
                                    with annotations and
                                    metadata. For more information, see <a href="https://docs.aws.amazon.com/xray/latest/devguide/xray-sdk-java.html">AWS X-Ray SDK for Java </a> in
                                    the AWS X-Ray Developer Guide.
                                 </p>
                                 <div class="highlights" id="inline-topiclist">
                                    <p><strong>Sections</strong></p>
                                    <ul>
                                       <li><a href="#java-tracing-api">Enabling active tracing with the Lambda API</a></li>
                                       <li><a href="#java-tracing-cloudformation">Enabling active tracing with AWS CloudFormation</a></li>
                                       <li><a href="#java-tracing-layers">Storing runtime dependencies in a layer</a></li>
                                       <li><a href="#java-tracing-samples">Tracing in sample applications</a></li>
                                    </ul>
                                 </div>
                                 
                                 <h2 id="java-tracing-api">Enabling active tracing with the Lambda API</h2>
                                 
                                 
                                 <p>To manage tracing configuration with the AWS CLI or AWS SDK, use the following API
                                    operations:
                                 </p>
                                  
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          <p><a href="https://docs.aws.amazon.com/lambda/latest/dg/API_UpdateFunctionConfiguration.html">UpdateFunctionConfiguration</a></p>
                                       </li>
                                       <li class="listitem">
                                          <p><a href="https://docs.aws.amazon.com/lambda/latest/dg/API_GetFunctionConfiguration.html">GetFunctionConfiguration</a></p>
                                       </li>
                                       <li class="listitem">
                                          <p><a href="https://docs.aws.amazon.com/lambda/latest/dg/API_CreateFunction.html">CreateFunction</a></p>
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 <p>The following example AWS CLI command enables active tracing on a function named my-function.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws lambda update-function-configuration --function-name my-function \
--tracing-config Mode=Active</code></code></pre>
                                 <p>Tracing mode is part of the version-specific configuration that is locked when you
                                    publish a version of your
                                    function. You can't change the tracing mode on a published version.
                                 </p>
                                 
                                  
                                 
                                 <h2 id="java-tracing-cloudformation">Enabling active tracing with AWS CloudFormation</h2>
                                  
                                 <p>To enable active tracing on an <code class="code">AWS::Lambda::Function</code> resource in an AWS CloudFormation template, use the
                                    <code class="code">TracingConfig</code> property.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example <a href="https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/templates/function-inline.yml" rel="noopener noreferrer" target="_blank"><span>function-inline.yml</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> –
                                          Tracing configuration</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Resources:
  function:
    Type: <a href="https://docs.aws.amazon.com/AWSCloudFormation/latest/UserGuide/aws-resource-lambda-function.html">AWS::Lambda::Function</a>
    Properties:
      <code class="userinput">TracingConfig:
        Mode: Active</code>
      ...</code></pre></div>
                                 </div>
                                 
                                 <p>For an AWS Serverless Application Model (AWS SAM) <code class="code">AWS::Serverless::Function</code> resource, use the <code class="code">Tracing</code>
                                    property.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example <a href="https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/sample-apps/blank-nodejs/template.yml" rel="noopener noreferrer" target="_blank"><span>template.yml</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – Tracing
                                          configuration</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Resources:
  function:
    Type: <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-resource-function.html">AWS::Serverless::Function</a>
    Properties:
      <code class="userinput">Tracing: Active</code>
      ...</code></pre></div>
                                 </div>
                                  
                                 
                                 <h2 id="java-tracing-layers">Storing runtime dependencies in a layer</h2>
                                  
                                 <p>If you use the X-Ray SDK to instrument AWS SDK clients your function code, your deployment
                                    package can become
                                    quite large. To avoid uploading runtime dependencies every time you update your functions
                                    code, package them in a
                                    <a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-layers.html">Lambda layer</a>.
                                 </p>
                                 
                                 
                                 <p>The following example shows an <code class="code">AWS::Serverless::LayerVersion</code> resource that stores the SDK for Java and
                                    X-Ray SDK for Java.
                                 </p>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example <a href="https://github.com/awsdocs/aws-lambda-developer-guide/blob/master/sample-apps/blank-java/template.yml" rel="noopener noreferrer" target="_blank"><span>template.yml</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – Dependencies layer</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">Resources:
  function:
    Type: <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-resource-function.html">AWS::Serverless::Function</a>
    Properties:
      CodeUri: build/distributions/blank-java.zip
      Tracing: Active
      <code class="userinput">Layers:
        - !Ref libs</code>
      ...
  <code class="userinput">libs:
    Type: <a href="https://docs.aws.amazon.com/serverless-application-model/latest/developerguide/sam-resource-layerversion.html">AWS::Serverless::LayerVersion</a>
    Properties:
      LayerName: blank-java-lib
      Description: Dependencies for the blank-java sample app.
      ContentUri: build/blank-java-lib.zip
      CompatibleRuntimes:
        - java8</code></code></pre></div>
                                 </div>
                                  
                                 <p>With this configuration, you only update library layer if you change your runtime
                                    dependencies. The function
                                    deployment package only contains your code. When you update your function code, upload
                                    time is much faster than if
                                    you include dependencies in the deployment package.
                                 </p>
                                 
                                 
                                 <p>Creating a layer for dependencies requires build configuration changes to generate
                                    the layer archive prior to
                                    deployment. For a working example, see the <a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/java-basic" rel="noopener noreferrer" target="_blank"><span>java-basic</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> sample
                                    application.
                                 </p>
                                  
                                 
                                 <h2 id="java-tracing-samples">Tracing in sample applications</h2>
                                 
                                 
                                 <p>The GitHub repository for this guide includes sample applications that demonstrate
                                    the use of tracing. Each
                                    sample application includes scripts for easy deployment and cleanup, an AWS SAM template,
                                    and supporting
                                    resources.
                                 </p>
                                 
                                 <div class="itemizedlist">
                                    
                                    <p class="title"><b>Sample Lambda applications in Java</b></p>
                                     
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/blank-java" rel="noopener noreferrer" target="_blank"><span>blank-java</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – A Java function that shows the use of
                                             Lambda's Java libraries, logging, environment variables, layers, AWS X-Ray tracing,
                                             unit tests, and the AWS
                                             SDK.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/java-basic" rel="noopener noreferrer" target="_blank"><span>java-basic</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – A minimal Java function
                                             with unit tests and variable logging configuration.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/java-events" rel="noopener noreferrer" target="_blank"><span>java-events</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – A minimal Java function that uses the
                                             <a href="https://docs.aws.amazon.com/lambda/latest/dg/java-package.html">aws-lambda-java-events</a> library with event types that don't require the AWS
                                             SDK as a dependency, such as Amazon API Gateway.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/java-events-v1sdk" rel="noopener noreferrer" target="_blank"><span>java-events-v1sdk</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – A Java function that uses the
                                             <a href="https://docs.aws.amazon.com/lambda/latest/dg/java-package.html">aws-lambda-java-events</a> library with event types that require the AWS SDK
                                             as a dependency (Amazon Simple Storage Service (Amazon S3), Amazon DynamoDB, and Amazon
                                             Kinesis).
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/sample-apps/s3-java" rel="noopener noreferrer" target="_blank"><span>s3-java</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> – A Java function that processes
                                             notification events from Amazon S3 and uses the Java Class Library (JCL) to create
                                             thumbnails from uploaded image
                                             files.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 
                                 <p>All of the sample applications have active tracing enabled for Lambda functions. The
                                    <code class="code">blank-java</code>
                                    application shows automatic instrumentation of AWS SDK for Java 2.x clients, segment
                                    management for tests, custom
                                    subsegments, and the use of Lambda layers to store runtime dependencies.
                                 </p>
                                 
                                 <div class="mediaobject">
                                     
                                    <img src="https://docs.aws.amazon.com/lambda/latest/dg/images/blank-java-servicemap.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;        X-Ray service map with a function that calls the Lambda API.&#xA;      " />
                                     
                                     
                                    
                                 </div>
                                 
                                 <p>This example from the <code class="code">blank-java</code> sample application shows nodes for the Lambda service, a
                                    function, and the Lambda API. The function calls the Lambda API to monitor storage
                                    use in Lambda.
                                 </p>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="https://docs.aws.amazon.com/lambda/latest/dg/java-exceptions.html">Errors</div>
                                    <div id="next" class="next-link" accesskey="n" href="https://docs.aws.amazon.com/lambda/latest/dg/java-package-eclipse.html">Tutorial - Eclipse IDE</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/java-tracing.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/java-tracing.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS Lambda';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>

<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/java-tracing.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:04:48 GMT -->
</html>