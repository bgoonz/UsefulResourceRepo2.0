<!DOCTYPE html>
<html>
  <head>
<script>window.NREUM||(NREUM={});NREUM.info={"beacon":"bam-cell.nr-data.net","errorBeacon":"bam-cell.nr-data.net","licenseKey":"98ebaa2fbd","applicationID":"233526624","transactionName":"c11aERNaXltSERdDR19YUQYVGltZUwZA","queueTime":2,"applicationTime":174,"agent":""}</script>
<script>(window.NREUM||(NREUM={})).loader_config={licenseKey:"98ebaa2fbd",applicationID:"233526624"};window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function r(n){if(!t[n]){var i=t[n]={exports:{}};e[n][0].call(i.exports,function(t){var i=e[n][1][t];return r(i||t)},i,i.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var i=0;i<n.length;i++)r(n[i]);return r}({1:[function(e,t,n){function r(){}function i(e,t,n){return function(){return o(e,[u.now()].concat(c(arguments)),t?null:this,n),t?void 0:this}}var o=e("handle"),a=e(6),c=e(7),f=e("ee").get("tracer"),u=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var d=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],p="api-",l=p+"ixn-";a(d,function(e,t){s[t]=i(p+t,!0,"api")}),s.addPageAction=i(p+"addPageAction",!0),s.setCurrentRouteName=i(p+"routeName",!0),t.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,t){var n={},r=this,i="function"==typeof t;return o(l+"tracer",[u.now(),e,n],r),function(){if(f.emit((i?"":"no-")+"fn-start",[u.now(),r,i],n),i)try{return t.apply(this,arguments)}catch(e){throw f.emit("fn-err",[arguments,this,e],n),e}finally{f.emit("fn-end",[u.now()],n)}}}};a("actionText,setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){m[t]=i(l+t)}),newrelic.noticeError=function(e,t){"string"==typeof e&&(e=new Error(e)),o("err",[e,u.now(),!1,t])}},{}],2:[function(e,t,n){function r(){return c.exists&&performance.now?Math.round(performance.now()):(o=Math.max((new Date).getTime(),o))-a}function i(){return o}var o=(new Date).getTime(),a=o,c=e(8);t.exports=r,t.exports.offset=a,t.exports.getLastTimestamp=i},{}],3:[function(e,t,n){function r(e,t){var n=e.getEntries();n.forEach(function(e){"first-paint"===e.name?d("timing",["fp",Math.floor(e.startTime)]):"first-contentful-paint"===e.name&&d("timing",["fcp",Math.floor(e.startTime)])})}function i(e,t){var n=e.getEntries();n.length>0&&d("lcp",[n[n.length-1]])}function o(e){e.getEntries().forEach(function(e){e.hadRecentInput||d("cls",[e])})}function a(e){if(e instanceof m&&!g){var t=Math.round(e.timeStamp),n={type:e.type};t<=p.now()?n.fid=p.now()-t:t>p.offset&&t<=Date.now()?(t-=p.offset,n.fid=p.now()-t):t=p.now(),g=!0,d("timing",["fi",t,n])}}function c(e){d("pageHide",[p.now(),e])}if(!("init"in NREUM&&"page_view_timing"in NREUM.init&&"enabled"in NREUM.init.page_view_timing&&NREUM.init.page_view_timing.enabled===!1)){var f,u,s,d=e("handle"),p=e("loader"),l=e(5),m=NREUM.o.EV;if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){f=new PerformanceObserver(r);try{f.observe({entryTypes:["paint"]})}catch(v){}u=new PerformanceObserver(i);try{u.observe({entryTypes:["largest-contentful-paint"]})}catch(v){}s=new PerformanceObserver(o);try{s.observe({type:"layout-shift",buffered:!0})}catch(v){}}if("addEventListener"in document){var g=!1,w=["click","keydown","mousedown","pointerdown","touchstart"];w.forEach(function(e){document.addEventListener(e,a,!1)})}l(c)}},{}],4:[function(e,t,n){function r(e,t){if(!i)return!1;if(e!==i)return!1;if(!t)return!0;if(!o)return!1;for(var n=o.split("."),r=t.split("."),a=0;a<r.length;a++)if(r[a]!==n[a])return!1;return!0}var i=null,o=null,a=/Version\/(\S+)\s+Safari/;if(navigator.userAgent){var c=navigator.userAgent,f=c.match(a);f&&c.indexOf("Chrome")===-1&&c.indexOf("Chromium")===-1&&(i="Safari",o=f[1])}t.exports={agent:i,version:o,match:r}},{}],5:[function(e,t,n){function r(e){function t(){e(a&&document[a]?document[a]:document[i]?"hidden":"visible")}"addEventListener"in document&&o&&document.addEventListener(o,t,!1)}t.exports=r;var i,o,a;"undefined"!=typeof document.hidden?(i="hidden",o="visibilitychange",a="visibilityState"):"undefined"!=typeof document.msHidden?(i="msHidden",o="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(i="webkitHidden",o="webkitvisibilitychange",a="webkitVisibilityState")},{}],6:[function(e,t,n){function r(e,t){var n=[],r="",o=0;for(r in e)i.call(e,r)&&(n[o]=t(r,e[r]),o+=1);return n}var i=Object.prototype.hasOwnProperty;t.exports=r},{}],7:[function(e,t,n){function r(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);for(var r=-1,i=n-t||0,o=Array(i<0?0:i);++r<i;)o[r]=e[t+r];return o}t.exports=r},{}],8:[function(e,t,n){t.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,t,n){function r(){}function i(e){function t(e){return e&&e instanceof r?e:e?u(e,f,a):a()}function n(n,r,i,o,a){if(a!==!1&&(a=!0),!l.aborted||o){e&&a&&e(n,r,i);for(var c=t(i),f=v(n),u=f.length,s=0;s<u;s++)f[s].apply(c,r);var p=d[h[n]];return p&&p.push([b,n,r,c]),c}}function o(e,t){y[e]=v(e).concat(t)}function m(e,t){var n=y[e];if(n)for(var r=0;r<n.length;r++)n[r]===t&&n.splice(r,1)}function v(e){return y[e]||[]}function g(e){return p[e]=p[e]||i(n)}function w(e,t){s(e,function(e,n){t=t||"feature",h[n]=t,t in d||(d[t]=[])})}var y={},h={},b={on:o,addEventListener:o,removeEventListener:m,emit:n,get:g,listeners:v,context:t,buffer:w,abort:c,aborted:!1};return b}function o(e){return u(e,f,a)}function a(){return new r}function c(){(d.api||d.feature)&&(l.aborted=!0,d=l.backlog={})}var f="nr@context",u=e("gos"),s=e(6),d={},p={},l=t.exports=i();t.exports.getOrSetContext=o,l.backlog=d},{}],gos:[function(e,t,n){function r(e,t,n){if(i.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(o){}return e[t]=r,r}var i=Object.prototype.hasOwnProperty;t.exports=r},{}],handle:[function(e,t,n){function r(e,t,n,r){i.buffer([e],r),i.emit(e,t,n)}var i=e("ee").get("handle");t.exports=r,r.ee=i},{}],id:[function(e,t,n){function r(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,o,function(){return i++})}var i=1,o="nr@id",a=e("gos");t.exports=r},{}],loader:[function(e,t,n){function r(){if(!x++){var e=b.info=NREUM.info,t=p.getElementsByTagName("script")[0];if(setTimeout(u.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return u.abort();f(y,function(t,n){e[t]||(e[t]=n)});var n=a();c("mark",["onload",n+b.offset],null,"api"),c("timing",["load",n]);var r=p.createElement("script");r.src="https://"+e.agent,t.parentNode.insertBefore(r,t)}}function i(){"complete"===p.readyState&&o()}function o(){c("mark",["domContent",a()+b.offset],null,"api")}var a=e(2),c=e("handle"),f=e(6),u=e("ee"),s=e(4),d=window,p=d.document,l="addEventListener",m="attachEvent",v=d.XMLHttpRequest,g=v&&v.prototype;NREUM.o={ST:setTimeout,SI:d.setImmediate,CT:clearTimeout,XHR:v,REQ:d.Request,EV:d.Event,PR:d.Promise,MO:d.MutationObserver};var w=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1194.min.js"},h=v&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),b=t.exports={offset:a.getLastTimestamp(),now:a,origin:w,features:{},xhrWrappable:h,userAgent:s};e(1),e(3),p[l]?(p[l]("DOMContentLoaded",o,!1),d[l]("load",r,!1)):(p[m]("onreadystatechange",i),d[m]("onload",r)),c("mark",["firstbyte",a.getLastTimestamp()],null,"api");var x=0},{}],"wrap-function":[function(e,t,n){function r(e,t){function n(t,n,r,f,u){function nrWrapper(){var o,a,s,p;try{a=this,o=d(arguments),s="function"==typeof r?r(o,a):r||{}}catch(l){i([l,"",[o,a,f],s],e)}c(n+"start",[o,a,f],s,u);try{return p=t.apply(a,o)}catch(m){throw c(n+"err",[o,a,m],s,u),m}finally{c(n+"end",[o,a,p],s,u)}}return a(t)?t:(n||(n=""),nrWrapper[p]=t,o(t,nrWrapper,e),nrWrapper)}function r(e,t,r,i,o){r||(r="");var c,f,u,s="-"===r.charAt(0);for(u=0;u<t.length;u++)f=t[u],c=e[f],a(c)||(e[f]=n(c,s?f+r:r,i,f,o))}function c(n,r,o,a){if(!m||t){var c=m;m=!0;try{e.emit(n,r,o,t,a)}catch(f){i([f,n,r,o],e)}m=c}}return e||(e=s),n.inPlace=r,n.flag=p,n}function i(e,t){t||(t=s);try{t.emit("internal-error",e)}catch(n){}}function o(e,t,n){if(Object.defineProperty&&Object.keys)try{var r=Object.keys(e);return r.forEach(function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){return e[n]=t,t}})}),t}catch(o){i([o],n)}for(var a in e)l.call(e,a)&&(t[a]=e[a]);return t}function a(e){return!(e&&e instanceof Function&&e.apply&&!e[p])}function c(e,t){var n=t(e);return n[p]=e,o(e,n,s),n}function f(e,t,n){var r=e[t];e[t]=c(r,n)}function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;++n)t[n]=arguments[n];return t}var s=e("ee"),d=e(7),p="nr@original",l=Object.prototype.hasOwnProperty,m=!1;t.exports=r,t.exports.wrapFunction=c,t.exports.wrapInPlace=f,t.exports.argsToArray=u},{}]},{},["loader"]);</script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-6242674-23"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-6242674-23', { 'optimize_id': 'GTM-T48MRN9'});
    </script>

    <title>Php Spx</title>
<meta name="description" content="A simple &amp; straight-to-the-point PHP profiling extension with its built-in web UI">
<meta name="robots" content="index, follow">
<link rel="canonical" href="https://awesomeopensource.com/project/NoiseByNorthwest/php-spx">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>

      /* copy template below */
      /* ------------------- */
      /* ----------------- */
      /* ----------------- */

      /*ipad and below */


      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {

      }

      /* end template copy */
      /* ----------------- */
      /* ----------------- */
      /* ----------------- */

      /*ipad and below */
      .show_on_phones {
        display: block;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .show_on_phones {
          display: none;
        }
      }

      .twenty_px_padding_top {
        padding-top: 20px;
      }

      /*ipad and below */
      .projects_category_explorer_left_column {
        max-width: 0;
        margin-right: 0;
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_category_explorer_left_column {
          min-width: 20%;
          margin-right: 5%;
          display: block;
        }
      }

      /*ipad and below */
      .projects_list_right_column {
        min-width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_list_right_column {
          min-width: 75%;
        }
      }

      .display_flex {
        display: flex;
      }

      .margin_bottom_15 {
        margin-bottom: 15px;
      }

      /*ipad and below */
      .image-gallery-image {
        width: 100% !important;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .image-gallery-image {
          width: 1280px !important;
        }
      }

      /*ipad and below */
      .aos_sponsorship_link {
        font-size: 14px;
        font-weight: bold;
        color: blue;
        text-decoration: underline;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_sponsorship_link {
          font-size: 18px;
          font-weight: bold;
          color: blue;
          text-decoration: underline;
        }
      }

      /*ipad and below */
      .aos_desktop_right_ads_container {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_desktop_right_ads_container {
          display: block;
        }
      }

      /*ipad and below */
      .aos_project_screen_container {
        margin-left: 5%;
        margin-right: 5%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_screen_container {
          margin-left: 5%;
          margin-right: 0;
          display: flex;
        }
      }

      /*ipad and below */
      .aos_project_inner_screen_container {
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_inner_screen_container {
          width: 95%;
        }
      }

      /*ipad and below
      .aos_license_text_metadata {
        margin-top: 0 !important;
      }

      everything larger than ipad
      @media screen and (min-width: 1024px) {
        .aos_license_text_metadata {
          margin-top: 0 !important;
        }
      }*/

      /*ipad and below */
      .projects_list_ad_slot_1 {
        height: fit-content;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_list_ad_slot_1 {
          height: fit-content;
        }
      }

      /*ipad and below */
      .projects_list_ad_slot_2 {
        height: fit-content;
        margin-top: -34px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .projects_list_ad_slot_2 {
          height: fit-content;
          margin-top: 0;
        }
      }

      /*ipad and below */
      .project_page_ad_slot_1 {
        display: block;
        height: fit-content;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .project_page_ad_slot_1 {
          display: block;
          height: fit-content;
        }
      }

      /*ipad and below */
      .project_page_ad_slot_2 {
        display: block;
        height: fit-content;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .project_page_ad_slot_2 {
          display: block;
          height: fit-content;
        }
      }

      /*ipad and below */
      .aos_category_explorer_category_container {
        background-color: white;
        padding: 10px;
        margin-bottom: 0px;
        border-bottom: 1px solid lightgray;
        border-left: 1px solid lightgray;
        border-right: 1px solid lightgray;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_category_explorer_category_container {
          background-color: white;
          padding: 10px;
          margin-bottom: 0px;
          border-bottom: 1px solid lightgray;
          border-left: 1px solid lightgray;
          border-right: 1px solid lightgray;
        }
      }

      .aos_category_explorer_category_container:first-child {
        border-top: 1px solid lightgray;
      }

      /*ipad and below */
      .aos_topic_count {
        font-size: 10px;
        color: #4f4f4f;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topic_count {
          font-size: 16px;
          color: #4f4f4f;
        }
      }

      /*ipad and below */
      .aos_topic_icon {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topic_icon {
          font-size: 14px;
          display: inline-block;
        }
      }

      /*ipad and below */
      .aos_project_count {
        color: #4f4f4f;
        font-size: 14px;
        font-weight: bold;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_count {
          font-size: 14px;
          font-weight: bold;
        }
      }

      /*ipad and below */
      .aos_project_star {
        font-size: 14px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_star {
          font-size: 14px;
          /*margin-right: 7px;*/
        }
      }

      /*ipad and below */
      .aos_project_metadata_trademark_notice {
        font-size: 8px;
        color: gray;
        margin-top: 10px;
        border-bottom: 1px solid lightgray;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_trademark_notice {
          font-size: 12px;
          color: gray;
          margin-top: 20px;
          border-bottom: 1px solid lightgray;
        }
      }

      /*ipad and below */
      .aos_project_metadata_description {
        margin-bottom: 10px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_description {
          margin-bottom: 5px;
        }
      }

      .aos_project_metadata {
        display: inline-block;
        margin-bottom: 10px;
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata {
          display: inline-block;
          margin-bottom: 10px;
          width: 100%;
        }
      }

      /*ipad and below */
      .aos_project_metadata_content {
        /*border-bottom: 1px solid lightgray;*/
        font-size: 16px;
        color: #000000;
        font-weight: 300;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_content {
          /*border-bottom: 1px solid lightgray;*/
          font-size: 16px;
          color: #000000;
          font-weight: 300;
        }
      }

      /*ipad and below */
      .aos_project_metadata_header {
        color: #808080;
        margin-bottom: 10px;
        margin-top: 10px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_header {
          color: #808080;
          margin-bottom: 10px;
          margin-top: 10px;
          font-size: 16px;
        }
      }

      aos_project_metadata_header:hover {
        color: #808080;
      }

      /*ipad and below */
      .aos_project_metadata_title {
        font-size: 20px;
        margin-bottom: 5px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_metadata_title {
          font-size: 30px;
          margin-bottom: 10px;
        }
      }

      /*ipad and below */
      .aos_app_container {
        display: flex;
        flex-direction: row;
        width: 100%;
        margin-bottom: 2px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_app_container {
          display: flex;
          flex-direction: row;
          width: 100%;
          margin-bottom: 0;
        }
      }

      @media screen and (min-width: 1025px) {
        .aos_desktop_ad_spacer {
          margin-top: 5px;
          margin-bottom: 5px;
        }
      }

      /*ipad and below */
      .aos_show_ad_on_mobile {
        display: none;
      }

      @media screen and (max-width: 1024px) {
        .aos_show_ad_on_mobile {
          /*display: inline-block;*/
          display: block; /*adsense recommended*/
        }
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1025px) {
        .aos_show_ad_on_desktop {
          /*display: inline-block;*/
          display: block; /*adsense recommended*/
        }
      }

      /*ipad and below */
      @media screen and (max-width: 1024px) {
        .aos_show_ad_on_desktop {
          display: none;
        }
      }

      /*ipad and below */
      .aos_filter_topics_input {
        font-size: 16px;
        padding: 10px;
        border: 1px solid lightgray;
        background-color: white;
        border-radius: 10px;
        box-shadow: 1px 1px 5px lightgrey;
        margin-bottom: 20px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_filter_topics_input {
          font-size: 20px;
          padding: 10px;
          border: 1px solid lightgray;
          background-color: white;
          border-radius: 10px;
          box-shadow: 1px 1px 5px lightgrey;
          margin-bottom: 20px;
        }
      }

      /* ipad and below */
      .aos_topics_project {
        font-family: helvetica, arial, sans-serif;
        font-size: 12px;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topics_project {
          font-family: helvetica, arial, sans-serif;
          margin-bottom: 0;
          font-size: 20px;
          border-radius: 10px;
          padding: 0;
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          width: 100%;
        }
      }

      /* ipad and below
      .aos_topics_sidebar {
        font-family: helvetica, arial, sans-serif;
        font-size: 12px;
        margin-left: 2%;
        margin-right: 2%;
        width: 94%;
        padding: 0;
        display: flex;
        flex-direction: column;
      }

       everything larger than ipad
      @media screen and (min-width: 1024px) {
        .aos_topics_sidebar {
          font-family: helvetica, arial, sans-serif;
          margin-left: 5%;
          margin-right: 2%;
          width: 30%;
          margin-bottom: 0;
          font-size: 20px;
          border-radius: 10px;
          padding: 0;
          display: flex;
          flex-direction: column;
        }
      }*/

      /*ipad and below */
      .aos_pill_box {
        display: flex;
        color: black;
        border-radius: 5px;
        padding: 2px;
        margin: 2px;
        align-items: center;
        border-color: black;
        background-color: white;
        font-size: 12px;
        border: 1px solid black;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_pill_box {
          display: flex;
          color: black;
          border-radius: 5px;
          padding: 5px;
          margin: 10px;
          align-items: center;
          border: 0;
          background-color: white;
          box-shadow: 1px 1px 10px 1px rgba(0,0,0,0.25);
          font-size: 16px;
        }
      }

      /*ipad and below */
      .aos_selected_topics_text_container {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_selected_topics_text_container {
          margin-left: 25px;
          margin-right: 10px;
          margin-bottom: 10px;
          margin-top: 10px;
          padding: 5px;
          font-weight: bold;
          font-size: 20px;
          white-space: nowrap;
          display: inline-block;
        }
      }

      /*ipad and below */
      .aos_pagenavigator_links_container {
        display: flex;
        justify-content: space-around;
        font-size: 12px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_pagenavigator_links_container {
          display: flex;
          justify-content: space-around;
          font-size: 16px;
        }
      }

      /*ipad and below */
      .aos_project_container {
        padding-bottom: 20px;
        padding-left: 0;
        padding-right: 0;
        padding-top: 5px;
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_container {
          /*border-radius: 10px;*/
          padding-bottom: 20px;
          padding-left: 0;
          padding-right: 0;
          padding-top: 5px;
          width: 100%;
        }
      }

      /*ipad and below */
      .aos_project_description {
        font-size: 16px;
        width: 100%;
        font-weight: 300; /* match adsense */
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_description {
          font-size: 16px;
          font-weight: 300; /* match adsense */
        }
      }

      /*ipad and below */
      .aos_project_title {
        font-size: 20px;
        margin-bottom: 2px;
        font-weight: 400; /* match adsense */
        width: 100%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_project_title {
          font-size: 20px;
          margin-bottom: 2px;
          font-weight: 400; /* match adsense */
        }
      }

      .aos_project_title a :hover {
        text-decoration: none !important;
      }

      .aos_no_underline:hover {
        text-decoration: none !important;
      }

      .aos_grey_link:hover {
        color: #808080 !important;
      }

      .aos_grey_link {
        color: #808080 !important;
      }

      /*ipad and below */
      .category_topic_filter_container {
        width: 94%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .category_topic_filter_container {
          width: 94%;
        }
      }

      /*ipad and below */
      .aos_projects_container {
        font-family: helvetica, arial, sans-serif;
        margin-right: 2%;
        width: 96%; /* won't insert an ad this small (68%), but bigger and it overflows to the right with some topics that are long */
        font-size: 14px;
        margin-bottom: 5px;
        margin-left: 2%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_projects_container {
          font-family: helvetica, arial, sans-serif;
          margin-right: 0;
          width: 90%; /* was 53 before removing right margin spacer / ad container */
          font-size: 18px;
          margin-bottom: 5px;
          min-width: 800px;
          margin-left: 5%;
        }
      }

      /*ipad and below */
      .aos_pagenavigator_container {
        display: flex;
        justify-content: center;
        font-size: 9px;
        margin-bottom: 0;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_pagenavigator_container {
          display: flex;
          justify-content: center;
          font-size: 16px;
          margin-bottom: 10px;
        }
      }

      /*ipad and below */
      .aos_header_title_container_ipad_and_smaller {
        font-size: 12px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 134px;
        white-space: nowrap;
        flex-direction: column;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_header_title_container_ipad_and_smaller {
          display: none;
        }
      }


      /*ipad and below */
      .aos_header_title_container_larger_than_ipad {
        display: none;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_header_title_container_larger_than_ipad {
          display: block;
        }
      }

      /*ipad and below */
      .aos_logo_image {
        height: 25px;
        width: 25px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_logo_image {
          height: 50px;
          width: 50px;
        }
      }

      /*ipad and below */
      .aos_fixed_footer_container {
        display: flex;
        margin-left: 0;
        margin-right: 0;
        margin-top: 2px;
        width: 100%;
        justify-content: center;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_fixed_footer_container {
          display: flex;
          margin-left: 5%;
          margin-right: 20%;
          margin-top: 5px;
          margin-bottom: 5px;
          width: 75%;
          justify-content: center;
        }
      }

      /*ipad and below */
      .aos_fixed_header_container {
        margin-left: 2%;
        margin-right: 2%;
        margin-top: 4px;
        margin-bottom: 2px;
        width: 96%;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_fixed_header_container {
          margin-left: 5%;
          margin-right: 20%;
          margin-top: 5px;
          margin-bottom: 5px;
          width: 75%;
        }
      }

      /*ipad and below */
      body {
        margin-top: 0;
        margin-right: 0;
        margin-bottom: 0;
        margin-left: 0;
        padding: 0
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        body {
          margin-top: 0;
          margin-right: 0;
          margin-bottom: 0;
          margin-left: 0;
          padding: 0
        }
      }

      /* ipad and below */
      .aos_topics_sidebar_link {
        width: 100%;
        margin-bottom: 10px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: 14px;
      }

      /* everything larger than ipad */
      @media screen and (min-width: 1024px) {
        .aos_topics_sidebar_link {
          width: 100%;
          margin-bottom: 10px;
          font-size: 18px;
        }
      }

      html {
        margin: 0;
        padding: 0
      }

      a {
        color: #000000;
        text-decoration: none;
      }

      a:visited {
        text-decoration: none;
      }

      a:hover {
        /*color: #0366d6;*/
        color: #000000; /* match adsense */
        text-decoration: underline;
      }

      .AOS_Pill:hover {
        text-decoration: none;
      }

      /* MIT licensed github-markdown.css */
      /* https://github.com/sindresorhus/github-markdown-css */
      @font-face {
        font-family: octicons-link;
        src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
      }
      .markdown-body {
        -ms-text-size-adjust: 100%;
        -webkit-text-size-adjust: 100%;
        line-height: 1.5;
        color: #24292e;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        font-size: 16px;
        line-height: 1.5;
        word-wrap: break-word;
      }
      .markdown-body .pl-c {
        color: #6a737d;
      }
      .markdown-body .pl-c1,
      .markdown-body .pl-s .pl-v {
        color: #005cc5;
      }
      .markdown-body .pl-e,
      .markdown-body .pl-en {
        color: #6f42c1;
      }
      .markdown-body .pl-smi,
      .markdown-body .pl-s .pl-s1 {
        color: #24292e;
      }
      .markdown-body .pl-ent {
        color: #22863a;
      }
      .markdown-body .pl-k {
        color: #d73a49;
      }
      .markdown-body .pl-s,
      .markdown-body .pl-pds,
      .markdown-body .pl-s .pl-pse .pl-s1,
      .markdown-body .pl-sr,
      .markdown-body .pl-sr .pl-cce,
      .markdown-body .pl-sr .pl-sre,
      .markdown-body .pl-sr .pl-sra {
        color: #032f62;
      }
      .markdown-body .pl-v,
      .markdown-body .pl-smw {
        color: #e36209;
      }
      .markdown-body .pl-bu {
        color: #b31d28;
      }
      .markdown-body .pl-ii {
        color: #fafbfc;
        background-color: #b31d28;
      }
      .markdown-body .pl-c2 {
        color: #fafbfc;
        background-color: #d73a49;
      }
      .markdown-body .pl-c2::before {
        content: "^M";
      }
      .markdown-body .pl-sr .pl-cce {
        font-weight: bold;
        color: #22863a;
      }
      .markdown-body .pl-ml {
        color: #735c0f;
      }
      .markdown-body .pl-mh,
      .markdown-body .pl-mh .pl-en,
      .markdown-body .pl-ms {
        font-weight: bold;
        color: #005cc5;
      }
      .markdown-body .pl-mi {
        font-style: italic;
        color: #24292e;
      }
      .markdown-body .pl-mb {
        font-weight: bold;
        color: #24292e;
      }
      .markdown-body .pl-md {
        color: #b31d28;
        background-color: #ffeef0;
      }
      .markdown-body .pl-mi1 {
        color: #22863a;
        background-color: #f0fff4;
      }
      .markdown-body .pl-mc {
        color: #e36209;
        background-color: #ffebda;
      }
      .markdown-body .pl-mi2 {
        color: #f6f8fa;
        background-color: #005cc5;
      }
      .markdown-body .pl-mdr {
        font-weight: bold;
        color: #6f42c1;
      }
      .markdown-body .pl-ba {
        color: #586069;
      }
      .markdown-body .pl-sg {
        color: #959da5;
      }
      .markdown-body .pl-corl {
        text-decoration: underline;
        color: #032f62;
      }
      .markdown-body .octicon {
        display: inline-block;
        vertical-align: text-top;
        fill: currentColor;
      }
      .markdown-body a {
        background-color: transparent;
      }
      .markdown-body a:active,
      .markdown-body a:hover {
        outline-width: 0;
      }
      .markdown-body strong {
        font-weight: inherit;
      }
      .markdown-body strong {
        font-weight: bolder;
      }
      .markdown-body h1 {
        font-size: 2em;
        margin: 0.67em 0;
      }
      .markdown-body img {
        border-style: none;
      }
      .markdown-body code,
      .markdown-body kbd,
      .markdown-body pre {
        font-family: monospace, monospace;
        font-size: 1em;
      }
      .markdown-body hr {
        box-sizing: content-box;
        height: 0;
        overflow: visible;
      }
      .markdown-body input {
        font: inherit;
        margin: 0;
      }
      .markdown-body input {
        overflow: visible;
      }
      .markdown-body [type="checkbox"] {
        box-sizing: border-box;
        padding: 0;
      }
      .markdown-body * {
        box-sizing: border-box;
      }
      .markdown-body input {
        font-family: inherit;
        font-size: inherit;
        line-height: inherit;
      }
      .markdown-body a {
        color: #0366d6;
        text-decoration: none;
      }
      .markdown-body a:hover {
        text-decoration: underline;
      }
      .markdown-body strong {
        font-weight: 600;
      }
      .markdown-body hr {
        height: 0;
        margin: 15px 0;
        overflow: hidden;
        background: transparent;
        border: 0;
        border-bottom: 1px solid #dfe2e5;
      }
      .markdown-body hr::before {
        display: table;
        content: "";
      }
      .markdown-body hr::after {
        display: table;
        clear: both;
        content: "";
      }
      .markdown-body table {
        border-spacing: 0;
        border-collapse: collapse;
      }
      .markdown-body td,
      .markdown-body th {
        padding: 0;
      }
      .markdown-body h1,
      .markdown-body h2,
      .markdown-body h3,
      .markdown-body h4,
      .markdown-body h5,
      .markdown-body h6 {
        margin-top: 0;
        margin-bottom: 0;
      }
      .markdown-body h1 {
        font-size: 32px;
        font-weight: 600;
      }
      .markdown-body h2 {
        font-size: 24px;
        font-weight: 600;
      }
      .markdown-body h3 {
        font-size: 20px;
        font-weight: 600;
      }
      .markdown-body h4 {
        font-size: 16px;
        font-weight: 600;
      }
      .markdown-body h5 {
        font-size: 14px;
        font-weight: 600;
      }
      .markdown-body h6 {
        font-size: 12px;
        font-weight: 600;
      }
      .markdown-body p {
        margin-top: 0;
        margin-bottom: 10px;
      }
      .markdown-body blockquote {
        margin: 0;
      }
      .markdown-body ul,
      .markdown-body ol {
        padding-left: 0;
        margin-top: 0;
        margin-bottom: 0;
      }
      .markdown-body ol ol,
      .markdown-body ul ol {
        list-style-type: lower-roman;
      }
      .markdown-body ul ul ol,
      .markdown-body ul ol ol,
      .markdown-body ol ul ol,
      .markdown-body ol ol ol {
        list-style-type: lower-alpha;
      }
      .markdown-body dd {
        margin-left: 0;
      }
      .markdown-body code {
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        font-size: 12px;
      }
      .markdown-body pre {
        margin-top: 0;
        margin-bottom: 0;
        font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        font-size: 12px;
      }
      .markdown-body .octicon {
        vertical-align: text-bottom;
      }
      .markdown-body .pl-0 {
        padding-left: 0 !important;
      }
      .markdown-body .pl-1 {
        padding-left: 4px !important;
      }
      .markdown-body .pl-2 {
        padding-left: 8px !important;
      }
      .markdown-body .pl-3 {
        padding-left: 16px !important;
      }
      .markdown-body .pl-4 {
        padding-left: 24px !important;
      }
      .markdown-body .pl-5 {
        padding-left: 32px !important;
      }
      .markdown-body .pl-6 {
        padding-left: 40px !important;
      }
      .markdown-body::before {
        display: table;
        content: "";
      }
      .markdown-body::after {
        display: table;
        clear: both;
        content: "";
      }
      .markdown-body>*:first-child {
        margin-top: 0 !important;
      }
      .markdown-body>*:last-child {
        margin-bottom: 0 !important;
      }
      .markdown-body a:not([href]) {
        color: inherit;
        text-decoration: none;
      }
      .markdown-body .anchor {
        float: left;
        padding-right: 4px;
        margin-left: -20px;
        line-height: 1;
      }
      .markdown-body .anchor:focus {
        outline: none;
      }
      .markdown-body p,
      .markdown-body blockquote,
      .markdown-body ul,
      .markdown-body ol,
      .markdown-body dl,
      .markdown-body table,
      .markdown-body pre {
        margin-top: 0;
        margin-bottom: 16px;
      }
      .markdown-body hr {
        height: 0.25em;
        padding: 0;
        margin: 24px 0;
        background-color: #e1e4e8;
        border: 0;
      }
      .markdown-body blockquote {
        padding: 0 1em;
        color: #6a737d;
        border-left: 0.25em solid #dfe2e5;
      }
      .markdown-body blockquote>:first-child {
        margin-top: 0;
      }
      .markdown-body blockquote>:last-child {
        margin-bottom: 0;
      }
      .markdown-body kbd {
        display: inline-block;
        padding: 3px 5px;
        font-size: 11px;
        line-height: 10px;
        color: #444d56;
        vertical-align: middle;
        background-color: #fafbfc;
        border: solid 1px #c6cbd1;
        border-bottom-color: #959da5;
        border-radius: 3px;
        box-shadow: inset 0 -1px 0 #959da5;
      }
      .markdown-body h1,
      .markdown-body h2,
      .markdown-body h3,
      .markdown-body h4,
      .markdown-body h5,
      .markdown-body h6 {
        margin-top: 24px;
        margin-bottom: 16px;
        font-weight: 600;
        line-height: 1.25;
      }
      .markdown-body h1 .octicon-link,
      .markdown-body h2 .octicon-link,
      .markdown-body h3 .octicon-link,
      .markdown-body h4 .octicon-link,
      .markdown-body h5 .octicon-link,
      .markdown-body h6 .octicon-link {
        color: #1b1f23;
        vertical-align: middle;
        visibility: hidden;
      }
      .markdown-body h1:hover .anchor,
      .markdown-body h2:hover .anchor,
      .markdown-body h3:hover .anchor,
      .markdown-body h4:hover .anchor,
      .markdown-body h5:hover .anchor,
      .markdown-body h6:hover .anchor {
        text-decoration: none;
      }
      .markdown-body h1:hover .anchor .octicon-link,
      .markdown-body h2:hover .anchor .octicon-link,
      .markdown-body h3:hover .anchor .octicon-link,
      .markdown-body h4:hover .anchor .octicon-link,
      .markdown-body h5:hover .anchor .octicon-link,
      .markdown-body h6:hover .anchor .octicon-link {
        visibility: visible;
      }
      .markdown-body h1 {
        padding-bottom: 0.3em;
        font-size: 2em;
        border-bottom: 1px solid #eaecef;
      }
      .markdown-body h2 {
        padding-bottom: 0.3em;
        font-size: 1.5em;
        border-bottom: 1px solid #eaecef;
      }
      .markdown-body h3 {
        font-size: 1.25em;
      }
      .markdown-body h4 {
        font-size: 1em;
      }
      .markdown-body h5 {
        font-size: 0.875em;
      }
      .markdown-body h6 {
        font-size: 0.85em;
        color: #6a737d;
      }
      .markdown-body ul,
      .markdown-body ol {
        padding-left: 2em;
      }
      .markdown-body ul ul,
      .markdown-body ul ol,
      .markdown-body ol ol,
      .markdown-body ol ul {
        margin-top: 0;
        margin-bottom: 0;
      }
      .markdown-body li {
        word-wrap: break-all;
      }
      .markdown-body li>p {
        margin-top: 16px;
      }
      .markdown-body li+li {
        margin-top: 0.25em;
      }
      .markdown-body dl {
        padding: 0;
      }
      .markdown-body dl dt {
        padding: 0;
        margin-top: 16px;
        font-size: 1em;
        font-style: italic;
        font-weight: 600;
      }
      .markdown-body dl dd {
        padding: 0 16px;
        margin-bottom: 16px;
      }
      .markdown-body table {
        display: block;
        width: 100%;
        overflow: auto;
      }
      .markdown-body table th {
        font-weight: 600;
      }
      .markdown-body table th,
      .markdown-body table td {
        padding: 6px 13px;
        border: 1px solid #dfe2e5;
      }
      .markdown-body table tr {
        background-color: #fff;
        border-top: 1px solid #c6cbd1;
      }
      .markdown-body table tr:nth-child(2n) {
        background-color: #f6f8fa;
      }
      .markdown-body img {
        max-width: 100%;
        box-sizing: content-box;
        background-color: #fff;
      }
      .markdown-body img[align=right] {
        padding-left: 20px;
      }
      .markdown-body img[align=left] {
        padding-right: 20px;
      }
      .markdown-body code {
        padding: 0.2em 0.4em;
        margin: 0;
        font-size: 85%;
        background-color: rgba(27,31,35,0.05);
        border-radius: 3px;
      }
      .markdown-body pre {
        word-wrap: normal;
      }
      .markdown-body pre>code {
        padding: 0;
        margin: 0;
        font-size: 100%;
        word-break: normal;
        white-space: pre;
        background: transparent;
        border: 0;
      }
      .markdown-body .highlight {
        margin-bottom: 16px;
      }
      .markdown-body .highlight pre {
        margin-bottom: 0;
        word-break: normal;
      }
      .markdown-body .highlight pre,
      .markdown-body pre {
        padding: 16px;
        overflow: auto;
        font-size: 85%;
        line-height: 1.45;
        background-color: #f6f8fa;
        border-radius: 3px;
      }
      .markdown-body pre code {
        display: inline;
        max-width: auto;
        padding: 0;
        margin: 0;
        overflow: visible;
        line-height: inherit;
        word-wrap: normal;
        background-color: transparent;
        border: 0;
      }
      .markdown-body .full-commit .btn-outline:not(:disabled):hover {
        color: #005cc5;
        border-color: #005cc5;
      }
      .markdown-body kbd {
        display: inline-block;
        padding: 3px 5px;
        font: 11px "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
        line-height: 10px;
        color: #444d56;
        vertical-align: middle;
        background-color: #fafbfc;
        border: solid 1px #d1d5da;
        border-bottom-color: #c6cbd1;
        border-radius: 3px;
        box-shadow: inset 0 -1px 0 #c6cbd1;
      }
      .markdown-body :checked+.radio-label {
        position: relative;
        z-index: 1;
        border-color: #0366d6;
      }
      .markdown-body .task-list-item {
        list-style-type: none;
      }
      .markdown-body .task-list-item+.task-list-item {
        margin-top: 3px;
      }
      .markdown-body .task-list-item input {
        margin: 0 0.2em 0.25em -1.6em;
        vertical-align: middle;
      }
      .markdown-body hr {
        border-bottom-color: #eee;
      }
      /* github-markdown.css overrides */
      .markdown-body h2 {
        margin-bottom: 0;
        margin-top: 0;
      }

      .hll { background-color: #ffffcc }
      .c { color: #008000 } /* Comment */
      .err { border: 1px solid #FF0000 } /* Error */
      .k { color: #0000ff } /* Keyword */
      .cm { color: #008000 } /* Comment.Multiline */
      .cp { color: #0000ff } /* Comment.Preproc */
      .c1 { color: #008000 } /* Comment.Single */
      .cs { color: #008000 } /* Comment.Special */
      .ge { font-style: italic } /* Generic.Emph */
      .gh { font-weight: bold } /* Generic.Heading */
      .gp { font-weight: bold } /* Generic.Prompt */
      .gs { font-weight: bold } /* Generic.Strong */
      .gu { font-weight: bold } /* Generic.Subheading */
      .kc { color: #0000ff } /* Keyword.Constant */
      .kd { color: #0000ff } /* Keyword.Declaration */
      .kn { color: #0000ff } /* Keyword.Namespace */
      .kp { color: #0000ff } /* Keyword.Pseudo */
      .kr { color: #0000ff } /* Keyword.Reserved */
      .kt { color: #2b91af } /* Keyword.Type */
      .s { color: #a31515 } /* Literal.String */
      .nc { color: #2b91af } /* Name.Class */
      .ow { color: #0000ff } /* Operator.Word */
      .sb { color: #a31515 } /* Literal.String.Backtick */
      .sc { color: #a31515 } /* Literal.String.Char */
      .sd { color: #a31515 } /* Literal.String.Doc */
      .s2 { color: #a31515 } /* Literal.String.Double */
      .se { color: #a31515 } /* Literal.String.Escape */
      .sh { color: #a31515 } /* Literal.String.Heredoc */
      .si { color: #a31515 } /* Literal.String.Interpol */
      .sx { color: #a31515 } /* Literal.String.Other */
      .sr { color: #a31515 } /* Literal.String.Regex */
      .s1 { color: #a31515 } /* Literal.String.Single */
      .ss { color: #a31515 } /* Literal.String.Symbol */

    </style>

    <script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Product",
  "name": "NoiseByNorthwest/php-spx",
  "description": "A simple & straight-to-the-point PHP profiling extension with its built-in web UI",
  "url": "https://awesomeopensource.com/project/NoiseByNorthwest/php-spx",
  "sku": "project/NoiseByNorthwest/php-spx",
  "mpn": "project/NoiseByNorthwest/php-spx",
  "image": "https://github.com/NoiseByNorthwest.png",
  "brand": {
    "@type": "Brand",
    "name": "NoiseByNorthwest/php-spx",
    "logo": "https://github.com/NoiseByNorthwest.png"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.76",
    "ratingCount": "942"
  }
}
</script>


    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="kOB9wDNcXIXPeposG40VI4Mf6Ika44YkR0ZiKakC92zDHNWmbPsyp2l2V782fGiNVfgWdZF9i+KLPFXbzs5VAg==" />
  <script async src='/cdn-cgi/bm/cv/669835187/api.js'></script></head>

  <body>
    <script type="application/json" id="js-react-on-rails-context">{"railsEnv":"production","inMailer":false,"i18nLocale":"en","i18nDefaultLocale":"en","rorVersion":"11.2.1","rorPro":false,"href":"http://awesomeopensource.com/project/NoiseByNorthwest/php-spx","location":"/project/NoiseByNorthwest/php-spx","scheme":"http","host":"awesomeopensource.com","port":null,"pathname":"/project/NoiseByNorthwest/php-spx","search":null,"httpAcceptLanguage":null,"serverSide":false}</script>
<div id="Root-react-component-ad79ac5a-06a6-4d4e-8c27-15ae260a61cf"><div style="font-family:helvetica, arial, sans-serif" data-reactroot=""><div class="aos_fixed_header_container"><div class="display_flex margin_bottom_15"><div style="margin-right:1%;display:flex;align-items:center"><a href="https://awesomeopensource.com" title="Awesome Open Source Home" rel="canonical"><img src="https://awesomeopensource.com/awesome.gif" class="aos_logo_image"/></a></div><div class="aos_header_title_container_larger_than_ipad"><div style="white-space:nowrap;font-size:24px;font-weight:bold;display:flex;flex-direction:row;align-items:center;height:100%"><div>Awesome Open Source</div></div></div><div class="aos_header_title_container_ipad_and_smaller"><div>Awesome Open Source</div></div><div style="display:flex;flex-wrap:wrap"></div></div><div></div></div><div class="aos_project_screen_container"><div class="aos_project_inner_screen_container"><div class="aos_project_metadata"><div class="aos_project_metadata_title">Php <!-- -->Spx</div><div class="aos_project_metadata_description">A simple &amp; straight-to-the-point PHP profiling extension with its built-in web UI</div><div class="aos_project_metadata_header">Stars</div><span class="aos_project_metadata_content">942</span><div class="project_page_ad_slot_1"><ins class="adsbygoogle" style="display:block" data-ad-format="fluid" data-ad-layout-key="-gv-v+1t-u+27" data-ad-client="ca-pub-1878397330895234" data-ad-slot="5649017589"></ins></div><div class="aos_project_metadata_header aos_license_text_metadata">License</div><span class="aos_project_metadata_content">gpl-3.0</span><div class="aos_project_metadata_header"><a href="https://github.com/NoiseByNorthwest/php-spx" target="_blank" class="aos_grey_link" rel="nofollow">Repository</a></div><span class="aos_project_metadata_content"><a href="https://github.com/NoiseByNorthwest/php-spx" target="_blank">https://github.com/NoiseByNorthwest/php-spx</a></span><div class="aos_project_metadata_header"><a href="https://github.com/NoiseByNorthwest/php-spx/issues" target="_blank" class="aos_grey_link" rel="nofollow">Open Issues</a></div><span class="aos_project_metadata_content"><a href="https://github.com/NoiseByNorthwest/php-spx/issues" target="_blank">26</a></span><div class="aos_project_metadata_header">Most Recent Commit</div><span class="aos_project_metadata_content">2 months ago</span><div class="aos_project_metadata_header">Related Projects</div><span class="aos_project_metadata_content"><a href="https://awesomeopensource.com/projects/php"><div style="display:block;text-decoration:none;padding-bottom:10px">php<span> (<!-- -->15,812<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/c"><div style="display:block;text-decoration:none;padding-bottom:10px">c<span> (<!-- -->14,340<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/visualization"><div style="display:block;text-decoration:none;padding-bottom:10px">visualization<span> (<!-- -->764<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/reverse-engineering"><div style="display:block;text-decoration:none;padding-bottom:10px">reverse-engineering<span> (<!-- -->446<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/data-visualization"><div style="display:block;text-decoration:none;padding-bottom:10px">data-visualization<span> (<!-- -->398<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/profiler"><div style="display:block;text-decoration:none;padding-bottom:10px">profiler<span> (<!-- -->85<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/performance-analysis"><div style="display:block;text-decoration:none;padding-bottom:10px">performance-analysis<span> (<!-- -->78<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/php-extension"><div style="display:block;text-decoration:none;padding-bottom:10px">php-extension<span> (<!-- -->34<!-- -->)</span></div></a><a href="https://awesomeopensource.com/projects/tracer"><div style="display:block;text-decoration:none;padding-bottom:10px">tracer<span> (<!-- -->14<!-- -->)</span></div></a></span></div><div class="markdown-body"><!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<html><body>
<h1>
<a id="spx---a-simple-profiler-for-php" class="anchor" href="#spx---a-simple-profiler-for-php" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>SPX - A simple profiler for PHP</h1>
<p><a href="https://travis-ci.com/NoiseByNorthwest/php-spx" rel="nofollow"><img src="https://travis-ci.com/NoiseByNorthwest/php-spx.svg?branch=master" alt="Build Status" style="max-width:100%;"></a> <a href="https://img.shields.io/badge/php-5.6--8.0-blue.svg" target="_blank" rel="nofollow"><img src="https://img.shields.io/badge/php-5.6--8.0-blue.svg" alt="Supported PHP versions: 5.6 .. 8.x" style="max-width:100%;"></a> <a href="https://img.shields.io/badge/platform-GNU/Linux%20%7C%20macOS%20-yellow" target="_blank" rel="nofollow"><img src="https://img.shields.io/badge/platform-GNU/Linux%20%7C%20macOS%20-yellow" alt="Supported platforms: GNU/Linux 64-bit, macOS 64-bit" style="max-width:100%;"></a></p>
<p><a href="https://noisebynorthwest.github.io/php-spx/demo/report.html?key=spx-full-20191229_175636-06d2fe5ee423-3795-233665123" rel="nofollow">Click here for a live demo of the analysis screen</a></p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.apng" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.apng" alt="Showcase" style="max-width:100%;"></a></p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/43e3ffe185a1dcec70e7c8ced36acfdf316bae65/php-spx/doc/fp1.gif" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/43e3ffe185a1dcec70e7c8ced36acfdf316bae65/php-spx/doc/fp1.gif" alt="Showcase" style="max-width:100%;"></a></p>
<p>SPX, which stands for <em>Simple Profiling eXtension</em>, is just another profiling extension for PHP.
It differentiates itself from other similar extensions as being:</p>
<ul>
<li>totally free and confined to your infrastructure (i.e. no data leaks to a SaaS).</li>
<li>very simple to use: just set an environment variable (command line) or switch on a radio button (web page) to profile your script. Thus, you are free of:
<ul>
<li>manually instrumenting your code (Ctrl-C a long running command line script is even supported).</li>
<li>using a dedicated browser extension or command line launcher.</li>
</ul>
</li>
<li>
<a href="#available-metrics">multi metrics</a> capable: 22 are currently supported (various time &amp; memory metrics, included files, objects in use, I/O...).</li>
<li>able to collect data without losing context. For example Xhprof (and potentially its forks) aggregates data per caller / callee pairs, which implies the loss of the full call stack and forbids timeline or Flamegraph based analysis.</li>
<li>shipped with its <a href="#web-ui">web UI</a> which allows to:
<ul>
<li>enable / configure profiling for the current browser session</li>
<li>list profiled script reports</li>
<li>select a report for in-depth analysis, featuring these interactive visualizations:
<ul>
<li>timeline (scale to millions of function calls)</li>
<li>flat profile</li>
<li>Flamegraph</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>
<p>Platforms support is currently quite limited. Feel free to open an issue if your platform is not supported.
Current requirements are:</p>
<ul>
<li>x86-64</li>
<li>
<strong>GNU/Linux</strong> or <strong>macOS</strong>
</li>
<li>zlib dev package (e.g. zlib1g-dev on Debian based distros)</li>
<li>PHP 5.6 to 8.0</li>
<li>Non-ZTS (threaded) build of PHP (ZTS support is theoretical)</li>
</ul>
<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>
<h3>
<a id="prerequisites" class="anchor" href="#prerequisites" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Prerequisites</h3>
<ul>
<li>PHP development package (corresponding to your installed PHP version).</li>
<li>zlib development package:
<ul>
<li>For Debian based distros (including Ubuntu, Kubuntu...), just run: <code>sudo apt-get install zlib1g-dev</code>.</li>
</ul>
</li>
</ul>
<h3>
<a id="install-the-extension" class="anchor" href="#install-the-extension" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install the extension</h3>
<pre lang="shell" class="highlight-shell">git clone https://github.com/NoiseByNorthwest/php-spx.git
<span class="nb">cd </span>php-spx
phpize
./configure
make
<span class="nb">sudo </span>make <span class="nb">install</span>
</pre>
<p>Then add <code>extension=spx.so</code> to your <em>php.ini</em>, or in a dedicated <em>spx.ini</em> file created within the include directory.
You may also want to override <a href="#configuration">default SPX configuration</a> to be able to profile a web page, with <a href="#private-environment">this one</a> for example for a local development environment.</p>
<h3>
<a id="linux-php-fpm--io-stats" class="anchor" href="#linux-php-fpm--io-stats" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Linux, PHP-FPM &amp; I/O stats</h3>
<p>On GNU/Linux, SPX uses procfs (i.e. by reading files under <code>/proc</code> directory) to get some stats for the current process or thread. This is what is done under the hood when you select at least one of these metrics: <code>mor</code>, <code>io</code>, <code>ior</code> or <code>iow</code>.</p>
<p>But, on most PHP-FPM setups, you will have a permission issue preventing SPX to open a file under <code>/proc/self</code> directory.
This is due to the fact that PHP-FPM master process runs as root when child processes run as another unprivileged user.</p>
<p>When this is the case, the <code>process.dumpable = yes</code> line must be added to the FPM pool configuration so that child processes will be able to read any file under <code>/proc/self</code>.</p>
<h2>
<a id="development-status" class="anchor" href="#development-status" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Development status</h2>
<p>This is still <strong>experimental</strong>. API might change, features might be added or dropped, or development could be frozen.</p>
<p>You can still safely use it in a <strong>non-production</strong> environment.</p>
<p>Contributions are welcome but be aware of the experimental status of this project and <strong>please follow the contribution rules</strong> described here: <a href="https://github.com/NoiseByNorthwest/php-spx/blob/master/CONTRIBUTING.md" rel="nofollow">CONTRIBUTING.md</a></p>
<h2>
<a id="basic-usage" class="anchor" href="#basic-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Basic usage</h2>
<h3>
<a id="web-page" class="anchor" href="#web-page" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Web page</h3>
<p>Assuming a development environment with the configuration <a href="#private-environment">described here</a> and your application is accessible via <code>http://localhost</code>.</p>
<p>Just open with your browser the following URL: <code>http://localhost/?SPX_KEY=dev&amp;SPX_UI_URI=/</code> to access to the web UI <a href="#control-panel">control panel</a>.</p>
<p><em>N.B.: <code>http://localhost/</code> must be served by a PHP script through standard web server feature like directory index or URL rewriting. The PHP script will however not be executed, SPX will intercept and disable its execution to serve its content in place.</em></p>
<p>You will then see the following form:</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/93baabbcba04223586d06756dbcecfbd6ec1293d/php-spx/doc/cp-form.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/93baabbcba04223586d06756dbcecfbd6ec1293d/php-spx/doc/cp-form.png" alt="Showcase" style="max-width:100%;"></a></p>
<p>Then switch on "Enabled". At this point profiling is enabled for the current domain and your current browser session through a set of dedicated cookies.</p>
<p>Profiling can also be triggered with Curl as shown in this example:</p>
<p><code>curl --cookie "SPX_ENABLED=1; SPX_KEY=dev" http://localhost/</code></p>
<p><em>N.B.: You can also enable the profiling at INI configuration level via the <code>spx.http_profiling_enabled</code> <a href="#configuration">setting</a>, and therefore for all HTTP requests. However, keep in mind that using this setting on a high-traffic environment could quickly exhaust the storage device's capacity of the SPX's data directory.</em></p>
<p>Then refresh the web page you want to profile and refresh the control panel to see the generated report in the list below the control panel form.</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/cp-list2.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/cp-list2.png" alt="Showcase" style="max-width:100%;"></a></p>
<p>Then click on the report in the list and enjoy the <a href="#analysis-screen">analysis screen</a>.</p>
<h3>
<a id="command-line-script" class="anchor" href="#command-line-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Command line script</h3>
<h4>
<a id="instant-flat-profile" class="anchor" href="#instant-flat-profile" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Instant flat profile</h4>
<p>Just prepend your command line with <code>SPX_ENABLED=1</code> to trigger profiling. You will get the flat profile printed on STDERR at the end of the execution, even if you abort it by hitting Ctrl-C, as in the following example:</p>
<pre lang="shell" class="highlight-shell"><span class="nv">$ SPX_ENABLED</span><span class="o">=</span>1 composer update
Loading composer repositories with package information
Updating dependencies <span class="o">(</span>including require-dev<span class="o">)</span>
^C
<span class="k">***</span> SPX Report <span class="k">***</span>

Global stats:

  Called functions    :    27.5K
  Distinct functions  :      714

  Wall <span class="nb">time</span>           :    7.39s
  ZE memory           :   62.6MB

Flat profile:

 Wall <span class="nb">time</span>           | ZE memory           |
 Inc.     | <span class="k">*</span>Exc.    | Inc.     | Exc.     | Called   | Function
<span class="nt">----------</span>+----------+----------+----------+----------+----------
  101.6ms |  101.6ms |   41.8MB |   41.8MB |       12 | Composer<span class="se">\J</span>son<span class="se">\J</span>sonFile::parseJson
   53.6ms |   53.6ms |     544B |     544B |        4 | Composer<span class="se">\C</span>ache::sha256
    6.91s |   41.5ms |   41.5MB |   <span class="nt">-7</span>.5MB |        4 | Composer<span class="se">\R</span>epository<span class="se">\C</span>omposerRepository::fetchFile
    6.85s |   32.3ms |   47.5MB |    5.4MB |        5 | <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="8abbcac9e5e7fae5f9eff8">[email&#160;protected]</a><span class="se">\R</span>epository<span class="se">\C</span>omposerRepository::loadProviderListings
    7.8ms |    7.8ms |       0B |       0B |        4 | Composer<span class="se">\C</span>ache::write
    1.1ms |    1.1ms |     <span class="nt">-72B</span> |     <span class="nt">-72B</span> |        1 | Composer<span class="se">\C</span>onsole<span class="se">\A</span>pplication::Composer<span class="se">\C</span>onsole<span class="se">\{</span>closure<span class="o">}</span>
  828.5us |  828.5us |     976B |     976B |       12 | Composer<span class="se">\U</span>til<span class="se">\R</span>emoteFilesystem::findHeaderValue
  497.6us |  491.0us |  710.2KB |  710.2KB |        1 | Composer<span class="se">\C</span>ache::read
    2.4ms |  332.6us |   20.9KB | <span class="nt">-378</span>.8KB |       34 | <a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="5c6f1c0f25313a333225">[email&#160;protected]</a><span class="se">\C</span>omponent<span class="se">\F</span>inder<span class="se">\I</span>terator<span class="se">\F</span>ilterIterator::rewind
  298.9us |  298.9us |    2.2KB |    2.2KB |       47 | Symfony<span class="se">\C</span>omponent<span class="se">\F</span>inder<span class="se">\I</span>terator<span class="se">\F</span>ileTypeFilterIterator::accept
</pre>
<p>N.B.: Just add <code>SPX_FP_LIVE=1</code> to enable the live refresh of the flat profile during script execution.</p>
<h4>
<a id="generate-profiling-report-for-the-web-ui" class="anchor" href="#generate-profiling-report-for-the-web-ui" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Generate profiling report for the web UI</h4>
<p>You just have to specify <code>SPX_REPORT=full</code> to generate a report available via the web UI:</p>
<pre lang="shell" class="highlight-shell"><span class="nv">SPX_ENABLED</span><span class="o">=</span>1 <span class="nv">SPX_REPORT</span><span class="o">=</span>full ./bin/console cache:clear
</pre>
<h4>
<a id="handle-long-living--daemon-processes" class="anchor" href="#handle-long-living--daemon-processes" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Handle long-living / daemon processes</h4>
<p>If your CLI script is long-living and/or daemonized (e.g. via supervisord), profiling its whole lifespan could be meaningless. This is especially true in case of a service waiting for tasks to process.<br>
To handle this case, SPX allows to disable the automatic start of profiling and exposes 2 userland functions, <code>spx_profiler_start(): void</code> &amp; <code>spx_profiler_stop(): void</code>, in order to respectively control the start and the end of the profiled spans.</p>
<p>Here is how you can instrument your script:</p>
<pre lang="php" class="highlight-php"><span class="cp">&lt;?php</span>

<span class="k">while</span> <span class="p">(</span><span class="nv">$task</span> <span class="o">=</span> <span class="nx">get_next_ready_task</span><span class="p">())</span> <span class="p">{</span>
  <span class="nx">spx_profiler_start</span><span class="p">();</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="nv">$task</span><span class="o">-&gt;</span><span class="na">process</span><span class="p">();</span>
  <span class="p">}</span> <span class="nx">finally</span> <span class="p">{</span>
    <span class="nx">spx_profiler_stop</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

</pre>
<p>And of course this script must be run at least with profiling enabled and the automatic start disabled as in the following command:</p>
<pre lang="shell" class="highlight-shell"><span class="nv">SPX_ENABLED</span><span class="o">=</span>1 <span class="nv">SPX_REPORT</span><span class="o">=</span>full <span class="nv">SPX_AUTO_START</span><span class="o">=</span>0 my_script.php
</pre>
<p>Side notes:</p>
<ul>
<li>
<code>spx_profiler_start()</code> and <code>spx_profiler_stop()</code> can safely be nested.</li>
<li>when automatic start is disabled, no signal handlers (i.e. on SIGINT/SIGTERM) are registered by SPX.</li>
<li>automatic start can only be disabled for CLI SAPI.</li>
</ul>
<h2>
<a id="advanced-usage" class="anchor" href="#advanced-usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Advanced usage</h2>
<h3>
<a id="configuration" class="anchor" href="#configuration" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configuration</h3>
<table>
<thead>
<tr>
<th>Name</th>
<th>Default</th>
<th>Changeable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>spx.data_dir</em>
</td>
<td><code>/tmp/spx</code></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The directory where profiling reports will be stored. You may change it to point to a shared file system for example in case of multi-server architecture.</td>
</tr>
<tr>
<td><em>spx.http_enabled</em>
</td>
<td><code>0</code></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>Whether to enable web UI and HTTP request profiling.</td>
</tr>
<tr>
<td><em>spx.http_key</em>
</td>
<td></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The secret key used for authentication (see <a href="#security-concern">security concern</a> for more details). You can use the following command to generate a 16 bytes random key as an hex string: <code>openssl rand -hex 16</code>.</td>
</tr>
<tr>
<td><em>spx.http_ip_var</em>
</td>
<td><code>REMOTE_ADDR</code></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The <code>$_SERVER</code> key holding the client IP address used for authentication (see <a href="#security-concern">security concern</a> for more details). Overriding the default value is required when your application is behind a reverse proxy.</td>
</tr>
<tr>
<td><em>spx.http_trusted_proxies</em>
</td>
<td><code>127.0.0.1</code></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The trusted proxy list as a comma separated list of IP addresses. This setting is ignored when <code>spx.http_ip_var</code>'s value is <code>REMOTE_ADDR</code>.</td>
</tr>
<tr>
<td><em>spx.http_ip_whitelist</em>
</td>
<td></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The IP address white list used for authentication as a comma separated list of IP addresses, use <code>*</code> to allow all IP addresses.</td>
</tr>
<tr>
<td><em>spx.http_ui_assets_dir</em>
</td>
<td><code>/usr/local/share/misc/php-spx/assets/web-ui</code></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The directory where the <a href="#web-ui">web UI</a> files are installed. In most cases you do not have to change it.</td>
</tr>
<tr>
<td><em>spx.http_profiling_enabled</em>
</td>
<td><em>NULL</em></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The INI level counterpart of the <code>SPX_ENABLED</code> parameter, for HTTP requests only. See <a href="#available-parameters">here for more details</a>.</td>
</tr>
<tr>
<td><em>spx.http_profiling_builtins</em>
</td>
<td><em>NULL</em></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The INI level counterpart of the <code>SPX_BUILTINS</code> parameter, for HTTP requests only. See <a href="#available-parameters">here for more details</a>.</td>
</tr>
<tr>
<td><em>spx.http_profiling_sampling_period</em>
</td>
<td><em>NULL</em></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The INI level counterpart of the <code>SPX_SAMPLING_PERIOD</code> parameter, for HTTP requests only. See <a href="#available-parameters">here for more details</a>.</td>
</tr>
<tr>
<td><em>spx.http_profiling_depth</em>
</td>
<td><em>NULL</em></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The INI level counterpart of the <code>SPX_DEPTH</code> parameter, for HTTP requests only. See <a href="#available-parameters">here for more details</a>.</td>
</tr>
<tr>
<td><em>spx.http_profiling_metrics</em>
</td>
<td><em>NULL</em></td>
<td><em>PHP_INI_SYSTEM</em></td>
<td>The INI level counterpart of the <code>SPX_METRICS</code> parameter, for HTTP requests only. See <a href="#available-parameters">here for more details</a>.</td>
</tr>
</tbody>
</table>
<h4>
<a id="private-environment" class="anchor" href="#private-environment" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Private environment</h4>
<p>For your local &amp; private development environment, since there is no need for authentication, you can use this configuration:</p>
<pre><code>spx.http_enabled=1
spx.http_key="dev"
spx.http_ip_whitelist="127.0.0.1"
</code></pre>
<p>And then access to the web UI at <code>http(s)://&lt;your application host&gt;/?SPX_KEY=dev&amp;SPX_UI_URI=/</code>.</p>
<h3>
<a id="available-metrics" class="anchor" href="#available-metrics" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Available metrics</h3>
<p>Here is the list of available metrics to collect. By default only <em>Wall time</em> and <em>Zend Engine memory usage</em> are collected.</p>
<table>
<thead>
<tr>
<th>Key (command line)</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>wt</em></td>
<td>Wall time</td>
<td>The absolute elapsed time.</td>
</tr>
<tr>
<td><em>ct</em></td>
<td>CPU time</td>
<td>The time spent while running on CPU.</td>
</tr>
<tr>
<td><em>it</em></td>
<td>Idle time</td>
<td>The time spent off-CPU, that means waiting for CPU, I/O completion, a lock acquisition... or explicitly sleeping.</td>
</tr>
<tr>
<td><em>zm</em></td>
<td>Zend Engine memory usage</td>
<td>Equivalent to <code>memory_get_usage(false)</code>.</td>
</tr>
<tr>
<td><em>zmac</em></td>
<td>Zend Engine allocation count</td>
<td>Number of memory allocations (i.e. allocated blocks) performed.</td>
</tr>
<tr>
<td><em>zmab</em></td>
<td>Zend Engine allocated bytes<b>*</b>
</td>
<td>Number of allocated bytes.</td>
</tr>
<tr>
<td><em>zmfc</em></td>
<td>Zend Engine free count</td>
<td>Number of memory releases (i.e. freed blocks) performed.</td>
</tr>
<tr>
<td><em>zmfb</em></td>
<td>Zend Engine freed bytes<b>*</b>
</td>
<td>Number of freed bytes.</td>
</tr>
<tr>
<td><em>zgr</em></td>
<td>Zend Engine GC run count</td>
<td>Number of times the GC (cycle collector) have been triggered (either manually or automatically).</td>
</tr>
<tr>
<td><em>zgb</em></td>
<td>Zend Engine GC root buffer length</td>
<td>Root buffer length, see explanation <a href="http://php.net/manual/en/features.gc.collecting-cycles.php" rel="nofollow">here</a>. It could be helpful to track pressure on garbage collector.</td>
</tr>
<tr>
<td><em>zgc</em></td>
<td>Zend Engine GC collected cycle count</td>
<td>Total number of collected cycles through all GC runs.</td>
</tr>
<tr>
<td><em>zif</em></td>
<td>Zend Engine included file count</td>
<td>Number of included files.</td>
</tr>
<tr>
<td><em>zil</em></td>
<td>Zend Engine included line count</td>
<td>Number of included lines.</td>
</tr>
<tr>
<td><em>zuc</em></td>
<td>Zend Engine user class count</td>
<td>Number of userland classes.</td>
</tr>
<tr>
<td><em>zuf</em></td>
<td>Zend Engine user function count</td>
<td>Number of userland functions (including userland class/instance methods).</td>
</tr>
<tr>
<td><em>zuo</em></td>
<td>Zend Engine user opcode count</td>
<td>Number of included userland opcodes (sum of all userland file/function/method opcodes).</td>
</tr>
<tr>
<td><em>zo</em></td>
<td>Zend Engine object count</td>
<td>Number of objects currently held by user code.</td>
</tr>
<tr>
<td><em>ze</em></td>
<td>Zend Engine error count</td>
<td>Number of raised PHP errors.</td>
</tr>
<tr>
<td><em>mor</em></td>
<td>Process's own RSS<b>**</b>
</td>
<td>The part of the process's memory held in RAM. The shared (with other processes) memory blocks are not taken into account. This metric can be useful to highlight a memory leak within a PHP extension or deeper (e.g. a third-party C library).</td>
</tr>
<tr>
<td><em>io</em></td>
<td>I/O (reads + writes)<strong>**</strong>
</td>
<td>Bytes read or written while performing I/O.</td>
</tr>
<tr>
<td><em>ior</em></td>
<td>I/O (reads)<strong>**</strong>
</td>
<td>Bytes read while performing I/O.</td>
</tr>
<tr>
<td><em>iow</em></td>
<td>I/O (writes)<strong>**</strong>
</td>
<td>Bytes written while performing I/O.</td>
</tr>
</tbody>
</table>
<p><em>*: Allocated and freed byte counts will not be collected if you use a custom allocator or if you force the libc one through the <code>USE_ZEND_ALLOC</code> environment variable set to <code>0</code>.</em></p>
<p><em>**: RSS &amp; I/O metrics are not supported on macOS. On GNU/Linux you should <a href="#linux-php-fpm--io-stats">read this if you use PHP-FPM</a>.</em></p>
<h3>
<a id="command-line-script-1" class="anchor" href="#command-line-script-1" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Command line script</h3>
<h4>
<a id="available-report-types" class="anchor" href="#available-report-types" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Available report types</h4>
<p>Contrary to web page profiling which only support <em>full</em> report type (the one exploitable by the web UI), command line script profiling supports several types of report.
Here is the list below:</p>
<table>
<thead>
<tr>
<th>Key</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>fp</em></td>
<td>Flat profile</td>
<td>The flat profile provided by SPX. It is the <strong>default report type</strong> and is directly printed on STDERR.</td>
</tr>
<tr>
<td><em>full</em></td>
<td>Full report</td>
<td>This is the report type for web UI. Reports will be stored in SPX data directory and thus will be available for analysis on web UI side.</td>
</tr>
<tr>
<td><em>trace</em></td>
<td>Trace file</td>
<td>A custom format (human readable text) trace file.</td>
</tr>
</tbody>
</table>
<h4>
<a id="available-parameters" class="anchor" href="#available-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Available parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>SPX_ENABLED</em></td>
<td><code>0</code></td>
<td>Whether to enable SPX profiler (i.e. triggering profiling). When disabled there is no performance impact on your application.</td>
</tr>
<tr>
<td><em>SPX_AUTO_START</em></td>
<td><code>1</code></td>
<td>Whether to enable SPX profiler's automatic start. When automatic start is disabled, you have to start &amp; stop profiling on your own at runtime via the <code>spx_profiler_start()</code> &amp; <code>spx_profiler_stop()</code> functions. <a href="#handle-long-living--daemon-processes">See here</a> for more details.</td>
</tr>
<tr>
<td><em>SPX_BUILTINS</em></td>
<td><code>0</code></td>
<td>Whether to profile internal functions, script compilations, GC runs and request shutdown.</td>
</tr>
<tr>
<td><em>SPX_DEPTH</em></td>
<td><code>0</code></td>
<td>The stack depth at which profiling must stop (i.e. aggregate measures of deeper calls). 0 (default value) means unlimited.</td>
</tr>
<tr>
<td><em>SPX_SAMPLING_PERIOD</em></td>
<td><code>0</code></td>
<td>Whether to collect data for the current call stack at regular intervals according to the specified sampling period (<code>0</code> means no sampling). The result will usually be less accurate but in some cases it could be far more accurate by not over-evaluating small functions called many times. It is recommended to try sampling (with different periods) if you want to accurately find a time bottleneck. When profiling a long running &amp; CPU intensive script, this option will allow you to contain report size and thus keeping it small enough to be exploitable by the <a href="#web-ui">web UI</a>. See <a href="#performance-report-size--sampling">here</a> for more details.</td>
</tr>
<tr>
<td><em>SPX_METRICS</em></td>
<td><code>wt,zm</code></td>
<td>Comma separated list of <a href="#available-metrics">available metric keys</a> to collect. All report types take advantage of multi-metric profiling.</td>
</tr>
<tr>
<td><em>SPX_REPORT</em></td>
<td><code>fp</code></td>
<td>Selected <a href="#available-report-types">report key</a>.</td>
</tr>
<tr>
<td><em>SPX_FP_FOCUS</em></td>
<td><code>wt</code></td>
<td>
<a href="#available-metrics">Metric key</a> for flat profile sort.</td>
</tr>
<tr>
<td><em>SPX_FP_INC</em></td>
<td><code>0</code></td>
<td>Whether to sort functions by inclusive value instead of exclusive value in flat profile.</td>
</tr>
<tr>
<td><em>SPX_FP_REL</em></td>
<td><code>0</code></td>
<td>Whether to display metric values as relative (i.e. percentage) in flat profile.</td>
</tr>
<tr>
<td><em>SPX_FP_LIMIT</em></td>
<td><code>10</code></td>
<td>The flat profile size (i.e. top N shown functions).</td>
</tr>
<tr>
<td><em>SPX_FP_LIVE</em></td>
<td><code>0</code></td>
<td>Whether to enable flat profile live refresh. Since it plays with cursor position through ANSI escape sequences, it uses STDOUT as output, replacing script output (both STDOUT &amp; STDERR).</td>
</tr>
<tr>
<td><em>SPX_FP_COLOR</em></td>
<td><code>1</code></td>
<td>Whether to enable flat profile color mode.</td>
</tr>
<tr>
<td><em>SPX_TRACE_SAFE</em></td>
<td><code>0</code></td>
<td>The trace file is by default written in a way to enforce accuracy, but in case of process crash (e.g. segfault) some logs could be lost. If you want to enforce durability (e.g. to find the last event before a crash) you just have to set this parameter to 1.</td>
</tr>
<tr>
<td><em>SPX_TRACE_FILE</em></td>
<td></td>
<td>Custom trace file name. If not specified it will be generated in <code>/tmp</code> and displayed on STDERR at the end of the script.</td>
</tr>
</tbody>
</table>
<h4>
<a id="setting-parameters" class="anchor" href="#setting-parameters" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Setting parameters</h4>
<p>Well, as you might already noticed in corresponding <a href="#command-line-script">basic usage example</a>, setting a SPX parameter for a command line script simply means setting an environment variable with the same name.</p>
<h3>
<a id="web-ui" class="anchor" href="#web-ui" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Web UI</h3>
<h4>
<a id="supported-browsers" class="anchor" href="#supported-browsers" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Supported browsers</h4>
<p>Since the web UI uses advanced JavaScript features, only the following browsers are known to be supported:</p>
<ul>
<li>most recent version of any Chromium-based browser.</li>
<li>most recent version of Firefox.</li>
</ul>
<h4>
<a id="control-panel--report-list" class="anchor" href="#control-panel--report-list" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Control panel &amp; report list</h4>
<p>This is the home page of the web UI, divided into 2 parts:</p>
<ul>
<li>the control panel for setting the profiling setup for your current browser session.</li>
<li>the profile report list as a sortable table. A click on a row allows to go to the <a href="#analysis-screen">analysis screen</a> for the corresponding report.</li>
</ul>
<h4>
<a id="analysis-screen" class="anchor" href="#analysis-screen" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Analysis screen</h4>
<p><a href="https://noisebynorthwest.github.io/php-spx/demo/report.html?key=spx-full-20180603_211110-dev-3540-294703905" rel="nofollow">Click here for a live demo of the analysis screen</a></p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.th.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.th.png" alt="Showcase" style="max-width:100%;"></a></p>
<h5>
<a id="performance-report-size--sampling" class="anchor" href="#performance-report-size--sampling" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Performance, report size &amp; sampling</h5>
<p>The analysis screen can nicely handle profile reports with up to several (5+) millions of recorded function calls with Chromium on my i5 @ 3.3GHz / 8GB desktop.
In case you want to profile a long running, CPU intensive, script which tends to generate giant reports, you can enable sampling mode with the suitable sampling period.
See <em>SPX_SAMPLING_PERIOD</em> <a href="#available-parameters">parameter</a> for command line script.</p>
<h5>
<a id="metric-selector" class="anchor" href="#metric-selector" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Metric selector</h5>
<p>This is simply a combo box for selecting the currently analyzed metric.</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ms.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ms.png" alt="Showcase" style="max-width:100%;"></a></p>
<h5>
<a id="color-scheme-selector" class="anchor" href="#color-scheme-selector" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Color scheme selector</h5>
<p>By default, function related blocks in the visualizations are colored according to their cost, with a color scale displayed at the top right of the screen.</p>
<p>You can also define a custom color scheme by clicking on the color scheme mode link, displayed at the top of the screen just after the metric selector.
A drop-down window will then appear and allow you to switch between <code>default</code> and <code>category</code> mode and define (add/edit/delete) your categories (color, name, pattern list) for the <code>category</code> mode (see the screenshot below).</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-csm.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-csm.png" alt="Showcase" style="max-width:100%;"></a></p>
<h5>
<a id="timeline-overview" class="anchor" href="#timeline-overview" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Timeline overview</h5>
<p>This visualization is the timeline overview of all called functions.
You can change the selected time range by, represented by a transparent green rectangle, by simply dragging it horizontally.</p>
<p>Except for wall time, the current metric is also plotted (current value over time) on a foreground layer.</p>
<p>Supported controls:</p>
<ul>
<li>horizontal left click drag: shift the selected time range</li>
<li>resize click on selected time range rectangle: shift one of the selected time range boundary</li>
</ul>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ov.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ov.png" alt="Showcase" style="max-width:100%;"></a></p>
<h5>
<a id="timeline-focus" class="anchor" href="#timeline-focus" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Timeline focus</h5>
<p>This visualization is an interactive timeline which is able to control and keep focus on the selected time range.</p>
<p>Supported controls:</p>
<ul>
<li>left click drag: time range shift (horizontal) or depth range shift (vertical)</li>
<li>middle click vertical drag: time range zoom in/out</li>
<li>mouse wheel: time range zoom in/out</li>
<li>hovering a function call to show more details</li>
<li>double click on a function call: set the current time range as the one of the selected function call</li>
</ul>
<p>Except for wall time, the current metric is also plotted (current value over time) on a foreground layer.</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-tl.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-tl.png" alt="Showcase" style="max-width:100%;"></a></p>
<h5>
<a id="flat-profile" class="anchor" href="#flat-profile" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Flat profile</h5>
<p>This visualization is the flat profile for the selected time range and the selected metric, displayed as a sortable table.</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fp.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fp.png" alt="Showcase" style="max-width:100%;"></a></p>
<h5>
<a id="flame-graph" class="anchor" href="#flame-graph" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Flame Graph</h5>
<p>This visualization, designed by <a href="http://www.brendangregg.com/flamegraphs.html" rel="nofollow">Brendan Gregg</a>, allows to quickly find the hot code path for the selected time range and the selected metric.
Metrics corresponding to releasable resources (memory, objects in use...) are not supported by this visualization.</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fg.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fg.png" alt="Showcase" style="max-width:100%;"></a></p>
<h5>
<a id="function-highlighting" class="anchor" href="#function-highlighting" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Function highlighting</h5>
<p>You can highlight a function by clicking on one of its spans within the timeline or Flamegraph widgets or its name within the flat profile widget.</p>
<p><a href="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/47d8f8d93fad1e6659c46c47e5aa8f82822454a9/php-spx/doc/as-fh.png" target="_blank" rel="nofollow"><img src="https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/47d8f8d93fad1e6659c46c47e5aa8f82822454a9/php-spx/doc/as-fh.png" alt="Showcase" style="max-width:100%;"></a></p>
<h2>
<a id="security-concern" class="anchor" href="#security-concern" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Security concern</h2>
<p><em>The lack of review / feedback about this concern is the main reason <strong>SPX cannot yet be considered as production ready</strong>.</em></p>
<p>SPX allows you to profile web page as well as command line scripts, and also to list and analyze profile reports through its embedded web UI.
This is why there is a huge security risk, since an attacker could:</p>
<ul>
<li>access to web UI and get sensible information about your application.</li>
<li>to a lesser extent, make a DoS attack against your application with a costly profiling setup.</li>
</ul>
<p>So, unless access to your application is already restricted at lower layer (i.e. before your application is hit, not by the application / PHP framework itself), a client triggering profiling or accessing to the web UI must be authenticated.</p>
<p>SPX provides two-factor authentication with these 2 mandatory locks:</p>
<ul>
<li>IP address white list (exact string representation matching).</li>
<li>Fixed secret random key (generated on your own) provided via a request header, cookie or query string parameter.</li>
</ul>
<p>Thus a client can profile your application via a web page only if <strong>its IP address is white listed and its provided key is valid</strong>.</p>
<h2>
<a id="notes-on-accuracy" class="anchor" href="#notes-on-accuracy" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Notes on accuracy</h2>
<p>In tracing mode (default), SPX is subject to accuracy issues for time related metrics when the measured function execution time is:</p>
<ul>
<li>close or lower than the timer precision</li>
<li>close or lower than SPX's own per function overhead</li>
</ul>
<p>The first issue is mitigated by using the highest resolution timer provided by the platform. On Linux &amp; recent macOS versions the timer resolution is 1ns; on macOS before 10.12/Sierra, the timer resolution is only 1us.</p>
<p>The second issue is mitigated by taking into account SPX's time (wall / cpu) overhead by subtracting it to measured function execution time. This is done by evaluating SPX constant per function overhead before starting profiling the script.</p>
<p>However, whatever the platform, if you want to maximize accuracy to find a time bottleneck, you should also:</p>
<ul>
<li>avoid profiling internal functions.</li>
<li>avoid collecting additional metrics.</li>
<li>try sampling mode with different sampling periods.</li>
<li>try to play with maximum depth parameter to stop profiling at a given depth.</li>
</ul>
<h2>
<a id="credits" class="anchor" href="#credits" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Credits</h2>
<p>I have found lot of inspiration and hints reading:</p>
<ul>
<li><a href="https://github.com/phacility/xhprof" rel="nofollow">XHProf</a></li>
<li><a href="https://github.com/xdebug/xdebug" rel="nofollow">Xdebug</a></li>
<li><a href="https://github.com/php/php-src" rel="nofollow">PHP</a></li>
</ul>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">(function(){window['__CF$cv$params']={r:'6120b9c81928e738',m:'b22b6bd1d1be84155d268772980b523e7ccd62c1-1610725546-1800-AfKYk9DVu8AYxaun0LCpSwoaVPYIqQZd+4mtD4wTb7/rHdkp9E7pLVLjUfr4gJqJGMr8bS9fz0nSu3qTPsRaBsVCws3ZD2lqVAWpyvwm1u+SVs5YyfoYZplSQTz7/W/O745ej07QBnKR7vX2lgNHVzXNrxs+QAArvT0gGdNVViYc',s:[0xf924d2eac8,0x5056a5a74a],}})();</script></body></html>
</div><div><br/><div style="border:1px solid gray;border-radius:5px;background-color:lightgray;padding:2%"><div style="font-size:24px;font-weight:bold;margin-bottom:10px">Get A Weekly Email With Trending Projects For These Topics</div><div style="margin-bottom:10px">No Spam.  Unsubscribe easily at any time.</div><div><div><input type="checkbox" name="topics" value="php"/> <!-- -->php<!-- --> (<!-- -->15,812<!-- -->)</div><div><input type="checkbox" name="topics" value="c"/> <!-- -->c<!-- --> (<!-- -->14,340<!-- -->)</div><div><input type="checkbox" name="topics" value="visualization"/> <!-- -->visualization<!-- --> (<!-- -->764<!-- -->)</div><div><input type="checkbox" name="topics" value="reverse-engineering"/> <!-- -->reverse-engineering<!-- --> (<!-- -->446<!-- -->)</div><div><input type="checkbox" name="topics" value="data-visualization"/> <!-- -->data-visualization<!-- --> (<!-- -->398<!-- -->)</div><div><input type="checkbox" name="topics" value="profiler"/> <!-- -->profiler<!-- --> (<!-- -->85<!-- -->)</div><div><input type="checkbox" name="topics" value="performance-analysis"/> <!-- -->performance-analysis<!-- --> (<!-- -->78<!-- -->)</div><div><input type="checkbox" name="topics" value="php-extension"/> <!-- -->php-extension<!-- --> (<!-- -->34<!-- -->)</div><div><input type="checkbox" name="topics" value="tracer"/> <!-- -->tracer<!-- --> (<!-- -->14<!-- -->)</div></div><div><input type="email" style="width:95%;margin-top:10px;margin-bottom:10px;padding:5px;font-size:20px;border-radius:5px" name="email" placeholder="Your email address"/></div><div><input type="submit" style="color:white;background-color:#0366d6;font-size:20px;border:1px solid black;border-radius:5px;padding:5px;cursor:pointer" value="Subscribe"/></div></div></div><h2>Find Open Source By Browsing 7,000 Topics Across 59 Categories</h2><div class="aos_topics_sidebar" style="margin:0;width:100%"><div class="category_topic_filter_container"><input style="width:100%" placeholder="Search, browse and combine topics" value="" class="aos_filter_topics_input"/></div><div style="display:block;box-shadow:1px 1px 5px lightgray"><a data-category-name="Advertising" href="https://awesomeopensource.com/categories/advertising"><div class="aos_category_explorer_category_container" data-category-name="Advertising"><span data-category-name="Advertising">Advertising<span data-category-name="Advertising" class="aos_project_count"> <!-- -->10</span></span></div></a><a data-category-name="All Projects" href="https://awesomeopensource.com/projects"><div class="aos_category_explorer_category_container" data-category-name="All Projects"><span data-category-name="All Projects">All Projects</span></div></a><a data-category-name="Application Programming Interfaces" href="https://awesomeopensource.com/categories/application-programming-interfaces"><div class="aos_category_explorer_category_container" data-category-name="Application Programming Interfaces"><span data-category-name="Application Programming Interfaces">Application Programming Interfaces<span data-category-name="Application Programming Interfaces" class="aos_project_count"> <!-- -->124</span></span></div></a><a data-category-name="Applications" href="https://awesomeopensource.com/categories/applications"><div class="aos_category_explorer_category_container" data-category-name="Applications"><span data-category-name="Applications">Applications<span data-category-name="Applications" class="aos_project_count"> <!-- -->192</span></span></div></a><a data-category-name="Artificial Intelligence" href="https://awesomeopensource.com/categories/artificial-intelligence"><div class="aos_category_explorer_category_container" data-category-name="Artificial Intelligence"><span data-category-name="Artificial Intelligence">Artificial Intelligence<span data-category-name="Artificial Intelligence" class="aos_project_count"> <!-- -->78</span></span></div></a><a data-category-name="Blockchain" href="https://awesomeopensource.com/categories/blockchain"><div class="aos_category_explorer_category_container" data-category-name="Blockchain"><span data-category-name="Blockchain">Blockchain<span data-category-name="Blockchain" class="aos_project_count"> <!-- -->73</span></span></div></a><a data-category-name="Build Tools" href="https://awesomeopensource.com/categories/build-tools"><div class="aos_category_explorer_category_container" data-category-name="Build Tools"><span data-category-name="Build Tools">Build Tools<span data-category-name="Build Tools" class="aos_project_count"> <!-- -->113</span></span></div></a><a data-category-name="Cloud Computing" href="https://awesomeopensource.com/categories/cloud-computing"><div class="aos_category_explorer_category_container" data-category-name="Cloud Computing"><span data-category-name="Cloud Computing">Cloud Computing<span data-category-name="Cloud Computing" class="aos_project_count"> <!-- -->80</span></span></div></a><a data-category-name="Code Quality" href="https://awesomeopensource.com/categories/code-quality"><div class="aos_category_explorer_category_container" data-category-name="Code Quality"><span data-category-name="Code Quality">Code Quality<span data-category-name="Code Quality" class="aos_project_count"> <!-- -->28</span></span></div></a><a data-category-name="Collaboration" href="https://awesomeopensource.com/categories/collaboration"><div class="aos_category_explorer_category_container" data-category-name="Collaboration"><span data-category-name="Collaboration">Collaboration<span data-category-name="Collaboration" class="aos_project_count"> <!-- -->32</span></span></div></a><a data-category-name="Command Line Interface" href="https://awesomeopensource.com/categories/command-line-interface"><div class="aos_category_explorer_category_container" data-category-name="Command Line Interface"><span data-category-name="Command Line Interface">Command Line Interface<span data-category-name="Command Line Interface" class="aos_project_count"> <!-- -->49</span></span></div></a><a data-category-name="Community" href="https://awesomeopensource.com/categories/community"><div class="aos_category_explorer_category_container" data-category-name="Community"><span data-category-name="Community">Community<span data-category-name="Community" class="aos_project_count"> <!-- -->83</span></span></div></a><a data-category-name="Companies" href="https://awesomeopensource.com/categories/companies"><div class="aos_category_explorer_category_container" data-category-name="Companies"><span data-category-name="Companies">Companies<span data-category-name="Companies" class="aos_project_count"> <!-- -->60</span></span></div></a><a data-category-name="Compilers" href="https://awesomeopensource.com/categories/compilers"><div class="aos_category_explorer_category_container" data-category-name="Compilers"><span data-category-name="Compilers">Compilers<span data-category-name="Compilers" class="aos_project_count"> <!-- -->63</span></span></div></a><a data-category-name="Computer Science" href="https://awesomeopensource.com/categories/computer-science"><div class="aos_category_explorer_category_container" data-category-name="Computer Science"><span data-category-name="Computer Science">Computer Science<span data-category-name="Computer Science" class="aos_project_count"> <!-- -->80</span></span></div></a><a data-category-name="Configuration Management" href="https://awesomeopensource.com/categories/configuration-management"><div class="aos_category_explorer_category_container" data-category-name="Configuration Management"><span data-category-name="Configuration Management">Configuration Management<span data-category-name="Configuration Management" class="aos_project_count"> <!-- -->42</span></span></div></a><a data-category-name="Content Management" href="https://awesomeopensource.com/categories/content-management"><div class="aos_category_explorer_category_container" data-category-name="Content Management"><span data-category-name="Content Management">Content Management<span data-category-name="Content Management" class="aos_project_count"> <!-- -->175</span></span></div></a><a data-category-name="Control Flow" href="https://awesomeopensource.com/categories/control-flow"><div class="aos_category_explorer_category_container" data-category-name="Control Flow"><span data-category-name="Control Flow">Control Flow<span data-category-name="Control Flow" class="aos_project_count"> <!-- -->213</span></span></div></a><a data-category-name="Data Formats" href="https://awesomeopensource.com/categories/data-formats"><div class="aos_category_explorer_category_container" data-category-name="Data Formats"><span data-category-name="Data Formats">Data Formats<span data-category-name="Data Formats" class="aos_project_count"> <!-- -->78</span></span></div></a><a data-category-name="Data Processing" href="https://awesomeopensource.com/categories/data-processing"><div class="aos_category_explorer_category_container" data-category-name="Data Processing"><span data-category-name="Data Processing">Data Processing<span data-category-name="Data Processing" class="aos_project_count"> <!-- -->276</span></span></div></a><a data-category-name="Data Storage" href="https://awesomeopensource.com/categories/data-storage"><div class="aos_category_explorer_category_container" data-category-name="Data Storage"><span data-category-name="Data Storage">Data Storage<span data-category-name="Data Storage" class="aos_project_count"> <!-- -->135</span></span></div></a><a data-category-name="Economics" href="https://awesomeopensource.com/categories/economics"><div class="aos_category_explorer_category_container" data-category-name="Economics"><span data-category-name="Economics">Economics<span data-category-name="Economics" class="aos_project_count"> <!-- -->64</span></span></div></a><a data-category-name="Frameworks" href="https://awesomeopensource.com/categories/frameworks"><div class="aos_category_explorer_category_container" data-category-name="Frameworks"><span data-category-name="Frameworks">Frameworks<span data-category-name="Frameworks" class="aos_project_count"> <!-- -->215</span></span></div></a><a data-category-name="Games" href="https://awesomeopensource.com/categories/games"><div class="aos_category_explorer_category_container" data-category-name="Games"><span data-category-name="Games">Games<span data-category-name="Games" class="aos_project_count"> <!-- -->129</span></span></div></a><a data-category-name="Graphics" href="https://awesomeopensource.com/categories/graphics"><div class="aos_category_explorer_category_container" data-category-name="Graphics"><span data-category-name="Graphics">Graphics<span data-category-name="Graphics" class="aos_project_count"> <!-- -->110</span></span></div></a><a data-category-name="Hardware" href="https://awesomeopensource.com/categories/hardware"><div class="aos_category_explorer_category_container" data-category-name="Hardware"><span data-category-name="Hardware">Hardware<span data-category-name="Hardware" class="aos_project_count"> <!-- -->152</span></span></div></a><a data-category-name="Integrated Development Environments" href="https://awesomeopensource.com/categories/integrated-development-environments"><div class="aos_category_explorer_category_container" data-category-name="Integrated Development Environments"><span data-category-name="Integrated Development Environments">Integrated Development Environments<span data-category-name="Integrated Development Environments" class="aos_project_count"> <!-- -->49</span></span></div></a><a data-category-name="Learning Resources" href="https://awesomeopensource.com/categories/learning-resources"><div class="aos_category_explorer_category_container" data-category-name="Learning Resources"><span data-category-name="Learning Resources">Learning Resources<span data-category-name="Learning Resources" class="aos_project_count"> <!-- -->166</span></span></div></a><a data-category-name="Legal" href="https://awesomeopensource.com/categories/legal"><div class="aos_category_explorer_category_container" data-category-name="Legal"><span data-category-name="Legal">Legal<span data-category-name="Legal" class="aos_project_count"> <!-- -->29</span></span></div></a><a data-category-name="Libraries" href="https://awesomeopensource.com/categories/libraries"><div class="aos_category_explorer_category_container" data-category-name="Libraries"><span data-category-name="Libraries">Libraries<span data-category-name="Libraries" class="aos_project_count"> <!-- -->129</span></span></div></a><a data-category-name="Lists Of Projects" href="https://awesomeopensource.com/categories/lists-of-projects"><div class="aos_category_explorer_category_container" data-category-name="Lists Of Projects"><span data-category-name="Lists Of Projects">Lists Of Projects<span data-category-name="Lists Of Projects" class="aos_project_count"> <!-- -->22</span></span></div></a><a data-category-name="Machine Learning" href="https://awesomeopensource.com/categories/machine-learning"><div class="aos_category_explorer_category_container" data-category-name="Machine Learning"><span data-category-name="Machine Learning">Machine Learning<span data-category-name="Machine Learning" class="aos_project_count"> <!-- -->347</span></span></div></a><a data-category-name="Mapping" href="https://awesomeopensource.com/categories/mapping"><div class="aos_category_explorer_category_container" data-category-name="Mapping"><span data-category-name="Mapping">Mapping<span data-category-name="Mapping" class="aos_project_count"> <!-- -->64</span></span></div></a><a data-category-name="Marketing" href="https://awesomeopensource.com/categories/marketing"><div class="aos_category_explorer_category_container" data-category-name="Marketing"><span data-category-name="Marketing">Marketing<span data-category-name="Marketing" class="aos_project_count"> <!-- -->15</span></span></div></a><a data-category-name="Mathematics" href="https://awesomeopensource.com/categories/mathematics"><div class="aos_category_explorer_category_container" data-category-name="Mathematics"><span data-category-name="Mathematics">Mathematics<span data-category-name="Mathematics" class="aos_project_count"> <!-- -->55</span></span></div></a><a data-category-name="Media" href="https://awesomeopensource.com/categories/media"><div class="aos_category_explorer_category_container" data-category-name="Media"><span data-category-name="Media">Media<span data-category-name="Media" class="aos_project_count"> <!-- -->239</span></span></div></a><a data-category-name="Messaging" href="https://awesomeopensource.com/categories/messaging"><div class="aos_category_explorer_category_container" data-category-name="Messaging"><span data-category-name="Messaging">Messaging<span data-category-name="Messaging" class="aos_project_count"> <!-- -->98</span></span></div></a><a data-category-name="Networking" href="https://awesomeopensource.com/categories/networking"><div class="aos_category_explorer_category_container" data-category-name="Networking"><span data-category-name="Networking">Networking<span data-category-name="Networking" class="aos_project_count"> <!-- -->315</span></span></div></a><a data-category-name="Operating Systems" href="https://awesomeopensource.com/categories/operating-systems"><div class="aos_category_explorer_category_container" data-category-name="Operating Systems"><span data-category-name="Operating Systems">Operating Systems<span data-category-name="Operating Systems" class="aos_project_count"> <!-- -->89</span></span></div></a><a data-category-name="Operations" href="https://awesomeopensource.com/categories/operations"><div class="aos_category_explorer_category_container" data-category-name="Operations"><span data-category-name="Operations">Operations<span data-category-name="Operations" class="aos_project_count"> <!-- -->121</span></span></div></a><a data-category-name="Package Managers" href="https://awesomeopensource.com/categories/package-managers"><div class="aos_category_explorer_category_container" data-category-name="Package Managers"><span data-category-name="Package Managers">Package Managers<span data-category-name="Package Managers" class="aos_project_count"> <!-- -->55</span></span></div></a><a data-category-name="Programming Languages" href="https://awesomeopensource.com/categories/programming-languages"><div class="aos_category_explorer_category_container" data-category-name="Programming Languages"><span data-category-name="Programming Languages">Programming Languages<span data-category-name="Programming Languages" class="aos_project_count"> <!-- -->245</span></span></div></a><a data-category-name="Runtime Environments" href="https://awesomeopensource.com/categories/runtime-environments"><div class="aos_category_explorer_category_container" data-category-name="Runtime Environments"><span data-category-name="Runtime Environments">Runtime Environments<span data-category-name="Runtime Environments" class="aos_project_count"> <!-- -->100</span></span></div></a><a data-category-name="Science" href="https://awesomeopensource.com/categories/science"><div class="aos_category_explorer_category_container" data-category-name="Science"><span data-category-name="Science">Science<span data-category-name="Science" class="aos_project_count"> <!-- -->42</span></span></div></a><a data-category-name="Security" href="https://awesomeopensource.com/categories/security"><div class="aos_category_explorer_category_container" data-category-name="Security"><span data-category-name="Security">Security<span data-category-name="Security" class="aos_project_count"> <!-- -->396</span></span></div></a><a data-category-name="Social Media" href="https://awesomeopensource.com/categories/social-media"><div class="aos_category_explorer_category_container" data-category-name="Social Media"><span data-category-name="Social Media">Social Media<span data-category-name="Social Media" class="aos_project_count"> <!-- -->27</span></span></div></a><a data-category-name="Software Architecture" href="https://awesomeopensource.com/categories/software-architecture"><div class="aos_category_explorer_category_container" data-category-name="Software Architecture"><span data-category-name="Software Architecture">Software Architecture<span data-category-name="Software Architecture" class="aos_project_count"> <!-- -->72</span></span></div></a><a data-category-name="Software Development" href="https://awesomeopensource.com/categories/software-development"><div class="aos_category_explorer_category_container" data-category-name="Software Development"><span data-category-name="Software Development">Software Development<span data-category-name="Software Development" class="aos_project_count"> <!-- -->72</span></span></div></a><a data-category-name="Software Performance" href="https://awesomeopensource.com/categories/software-performance"><div class="aos_category_explorer_category_container" data-category-name="Software Performance"><span data-category-name="Software Performance">Software Performance<span data-category-name="Software Performance" class="aos_project_count"> <!-- -->58</span></span></div></a><a data-category-name="Software Quality" href="https://awesomeopensource.com/categories/software-quality"><div class="aos_category_explorer_category_container" data-category-name="Software Quality"><span data-category-name="Software Quality">Software Quality<span data-category-name="Software Quality" class="aos_project_count"> <!-- -->133</span></span></div></a><a data-category-name="Text Editors" href="https://awesomeopensource.com/categories/text-editors"><div class="aos_category_explorer_category_container" data-category-name="Text Editors"><span data-category-name="Text Editors">Text Editors<span data-category-name="Text Editors" class="aos_project_count"> <!-- -->49</span></span></div></a><a data-category-name="Text Processing" href="https://awesomeopensource.com/categories/text-processing"><div class="aos_category_explorer_category_container" data-category-name="Text Processing"><span data-category-name="Text Processing">Text Processing<span data-category-name="Text Processing" class="aos_project_count"> <!-- -->136</span></span></div></a><a data-category-name="User Interface" href="https://awesomeopensource.com/categories/user-interface"><div class="aos_category_explorer_category_container" data-category-name="User Interface"><span data-category-name="User Interface">User Interface<span data-category-name="User Interface" class="aos_project_count"> <!-- -->330</span></span></div></a><a data-category-name="User Interface Components" href="https://awesomeopensource.com/categories/user-interface-components"><div class="aos_category_explorer_category_container" data-category-name="User Interface Components"><span data-category-name="User Interface Components">User Interface Components<span data-category-name="User Interface Components" class="aos_project_count"> <!-- -->514</span></span></div></a><a data-category-name="Version Control" href="https://awesomeopensource.com/categories/version-control"><div class="aos_category_explorer_category_container" data-category-name="Version Control"><span data-category-name="Version Control">Version Control<span data-category-name="Version Control" class="aos_project_count"> <!-- -->30</span></span></div></a><a data-category-name="Virtualization" href="https://awesomeopensource.com/categories/virtualization"><div class="aos_category_explorer_category_container" data-category-name="Virtualization"><span data-category-name="Virtualization">Virtualization<span data-category-name="Virtualization" class="aos_project_count"> <!-- -->71</span></span></div></a><a data-category-name="Web Browsers" href="https://awesomeopensource.com/categories/web-browsers"><div class="aos_category_explorer_category_container" data-category-name="Web Browsers"><span data-category-name="Web Browsers">Web Browsers<span data-category-name="Web Browsers" class="aos_project_count"> <!-- -->42</span></span></div></a><a data-category-name="Web Servers" href="https://awesomeopensource.com/categories/web-servers"><div class="aos_category_explorer_category_container" data-category-name="Web Servers"><span data-category-name="Web Servers">Web Servers<span data-category-name="Web Servers" class="aos_project_count"> <!-- -->26</span></span></div></a><a data-category-name="Web User Interface" href="https://awesomeopensource.com/categories/web-user-interface"><div class="aos_category_explorer_category_container" data-category-name="Web User Interface"><span data-category-name="Web User Interface">Web User Interface<span data-category-name="Web User Interface" class="aos_project_count"> <!-- -->210</span></span></div></a></div></div><div class="aos_project_metadata_trademark_notice">&quot;<!-- -->Php <!-- -->Spx<!-- -->&quot; and other potentially trademarked words, copyrighted images and copyrighted readme contents likely belong to the legal entity who owns the &quot;<a href="https://github.com/NoiseByNorthwest" target="_blank">Noisebynorthwest</a>&quot; organization.  Awesome Open Source is not affiliated with the legal entity who owns the &quot;<a href="https://github.com/NoiseByNorthwest" target="_blank">Noisebynorthwest</a>&quot; organization.</div></div></div><div class="aos_fixed_footer_container"><br/></div></div></div>
      <script type="application/json" class="js-react-on-rails-component" data-component-name="Root" data-dom-id="Root-react-component-ad79ac5a-06a6-4d4e-8c27-15ae260a61cf">{"topics":[{"id":null,"name":"javascript","count":67310},{"id":null,"name":"python","count":49729},{"id":null,"name":"java","count":30048},{"id":null,"name":"c-plus-plus","count":17339},{"id":null,"name":"php","count":15812},{"id":null,"name":"c","count":14340},{"id":null,"name":"go","count":14132},{"id":null,"name":"ruby","count":12268},{"id":null,"name":"c-sharp","count":11505},{"id":null,"name":"objective-c","count":10769}],"projectTopics":[{"id":null,"name":"c","count":14340},{"id":null,"name":"data-visualization","count":398},{"id":null,"name":"performance-analysis","count":78},{"id":null,"name":"php","count":15812},{"id":null,"name":"php-extension","count":34},{"id":null,"name":"profiler","count":85},{"id":null,"name":"reverse-engineering","count":446},{"id":null,"name":"tracer","count":14},{"id":null,"name":"visualization","count":764}],"selectedTopics":[],"currentUrl":"https://awesomeopensource.com/project/NoiseByNorthwest/php-spx","projects":[],"project":{"id":91122,"created_at":"2018-08-21T01:32:03.982Z","updated_at":"2021-01-14T02:14:01.281Z","markdown_readme":"\u003c!DOCTYPE html PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\" \"http://www.w3.org/TR/REC-html40/loose.dtd\"\u003e\n\u003chtml\u003e\u003cbody\u003e\n\u003ch1\u003e\n\u003ca id=\"spx---a-simple-profiler-for-php\" class=\"anchor\" href=\"#spx---a-simple-profiler-for-php\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eSPX - A simple profiler for PHP\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://travis-ci.com/NoiseByNorthwest/php-spx\" rel=\"nofollow\"\u003e\u003cimg src=\"https://travis-ci.com/NoiseByNorthwest/php-spx.svg?branch=master\" alt=\"Build Status\" style=\"max-width:100%;\"\u003e\u003c/a\u003e \u003ca href=\"https://img.shields.io/badge/php-5.6--8.0-blue.svg\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://img.shields.io/badge/php-5.6--8.0-blue.svg\" alt=\"Supported PHP versions: 5.6 .. 8.x\" style=\"max-width:100%;\"\u003e\u003c/a\u003e \u003ca href=\"https://img.shields.io/badge/platform-GNU/Linux%20%7C%20macOS%20-yellow\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://img.shields.io/badge/platform-GNU/Linux%20%7C%20macOS%20-yellow\" alt=\"Supported platforms: GNU/Linux 64-bit, macOS 64-bit\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://noisebynorthwest.github.io/php-spx/demo/report.html?key=spx-full-20191229_175636-06d2fe5ee423-3795-233665123\" rel=\"nofollow\"\u003eClick here for a live demo of the analysis screen\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.apng\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.apng\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/43e3ffe185a1dcec70e7c8ced36acfdf316bae65/php-spx/doc/fp1.gif\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/43e3ffe185a1dcec70e7c8ced36acfdf316bae65/php-spx/doc/fp1.gif\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eSPX, which stands for \u003cem\u003eSimple Profiling eXtension\u003c/em\u003e, is just another profiling extension for PHP.\nIt differentiates itself from other similar extensions as being:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etotally free and confined to your infrastructure (i.e. no data leaks to a SaaS).\u003c/li\u003e\n\u003cli\u003every simple to use: just set an environment variable (command line) or switch on a radio button (web page) to profile your script. Thus, you are free of:\n\u003cul\u003e\n\u003cli\u003emanually instrumenting your code (Ctrl-C a long running command line script is even supported).\u003c/li\u003e\n\u003cli\u003eusing a dedicated browser extension or command line launcher.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003ca href=\"#available-metrics\"\u003emulti metrics\u003c/a\u003e capable: 22 are currently supported (various time \u0026amp; memory metrics, included files, objects in use, I/O...).\u003c/li\u003e\n\u003cli\u003eable to collect data without losing context. For example Xhprof (and potentially its forks) aggregates data per caller / callee pairs, which implies the loss of the full call stack and forbids timeline or Flamegraph based analysis.\u003c/li\u003e\n\u003cli\u003eshipped with its \u003ca href=\"#web-ui\"\u003eweb UI\u003c/a\u003e which allows to:\n\u003cul\u003e\n\u003cli\u003eenable / configure profiling for the current browser session\u003c/li\u003e\n\u003cli\u003elist profiled script reports\u003c/li\u003e\n\u003cli\u003eselect a report for in-depth analysis, featuring these interactive visualizations:\n\u003cul\u003e\n\u003cli\u003etimeline (scale to millions of function calls)\u003c/li\u003e\n\u003cli\u003eflat profile\u003c/li\u003e\n\u003cli\u003eFlamegraph\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\n\u003ca id=\"requirements\" class=\"anchor\" href=\"#requirements\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eRequirements\u003c/h2\u003e\n\u003cp\u003ePlatforms support is currently quite limited. Feel free to open an issue if your platform is not supported.\nCurrent requirements are:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ex86-64\u003c/li\u003e\n\u003cli\u003e\n\u003cstrong\u003eGNU/Linux\u003c/strong\u003e or \u003cstrong\u003emacOS\u003c/strong\u003e\n\u003c/li\u003e\n\u003cli\u003ezlib dev package (e.g. zlib1g-dev on Debian based distros)\u003c/li\u003e\n\u003cli\u003ePHP 5.6 to 8.0\u003c/li\u003e\n\u003cli\u003eNon-ZTS (threaded) build of PHP (ZTS support is theoretical)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\n\u003ca id=\"installation\" class=\"anchor\" href=\"#installation\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eInstallation\u003c/h2\u003e\n\u003ch3\u003e\n\u003ca id=\"prerequisites\" class=\"anchor\" href=\"#prerequisites\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ePrerequisites\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ePHP development package (corresponding to your installed PHP version).\u003c/li\u003e\n\u003cli\u003ezlib development package:\n\u003cul\u003e\n\u003cli\u003eFor Debian based distros (including Ubuntu, Kubuntu...), just run: \u003ccode\u003esudo apt-get install zlib1g-dev\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3\u003e\n\u003ca id=\"install-the-extension\" class=\"anchor\" href=\"#install-the-extension\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eInstall the extension\u003c/h3\u003e\n\u003cpre lang=\"shell\" class=\"highlight-shell\"\u003egit clone https://github.com/NoiseByNorthwest/php-spx.git\n\u003cspan class=\"nb\"\u003ecd \u003c/span\u003ephp-spx\nphpize\n./configure\nmake\n\u003cspan class=\"nb\"\u003esudo \u003c/span\u003emake \u003cspan class=\"nb\"\u003einstall\u003c/span\u003e\n\u003c/pre\u003e\n\u003cp\u003eThen add \u003ccode\u003eextension=spx.so\u003c/code\u003e to your \u003cem\u003ephp.ini\u003c/em\u003e, or in a dedicated \u003cem\u003espx.ini\u003c/em\u003e file created within the include directory.\nYou may also want to override \u003ca href=\"#configuration\"\u003edefault SPX configuration\u003c/a\u003e to be able to profile a web page, with \u003ca href=\"#private-environment\"\u003ethis one\u003c/a\u003e for example for a local development environment.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"linux-php-fpm--io-stats\" class=\"anchor\" href=\"#linux-php-fpm--io-stats\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eLinux, PHP-FPM \u0026amp; I/O stats\u003c/h3\u003e\n\u003cp\u003eOn GNU/Linux, SPX uses procfs (i.e. by reading files under \u003ccode\u003e/proc\u003c/code\u003e directory) to get some stats for the current process or thread. This is what is done under the hood when you select at least one of these metrics: \u003ccode\u003emor\u003c/code\u003e, \u003ccode\u003eio\u003c/code\u003e, \u003ccode\u003eior\u003c/code\u003e or \u003ccode\u003eiow\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eBut, on most PHP-FPM setups, you will have a permission issue preventing SPX to open a file under \u003ccode\u003e/proc/self\u003c/code\u003e directory.\nThis is due to the fact that PHP-FPM master process runs as root when child processes run as another unprivileged user.\u003c/p\u003e\n\u003cp\u003eWhen this is the case, the \u003ccode\u003eprocess.dumpable = yes\u003c/code\u003e line must be added to the FPM pool configuration so that child processes will be able to read any file under \u003ccode\u003e/proc/self\u003c/code\u003e.\u003c/p\u003e\n\u003ch2\u003e\n\u003ca id=\"development-status\" class=\"anchor\" href=\"#development-status\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eDevelopment status\u003c/h2\u003e\n\u003cp\u003eThis is still \u003cstrong\u003eexperimental\u003c/strong\u003e. API might change, features might be added or dropped, or development could be frozen.\u003c/p\u003e\n\u003cp\u003eYou can still safely use it in a \u003cstrong\u003enon-production\u003c/strong\u003e environment.\u003c/p\u003e\n\u003cp\u003eContributions are welcome but be aware of the experimental status of this project and \u003cstrong\u003eplease follow the contribution rules\u003c/strong\u003e described here: \u003ca href=\"https://github.com/NoiseByNorthwest/php-spx/blob/master/CONTRIBUTING.md\" rel=\"nofollow\"\u003eCONTRIBUTING.md\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003e\n\u003ca id=\"basic-usage\" class=\"anchor\" href=\"#basic-usage\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eBasic usage\u003c/h2\u003e\n\u003ch3\u003e\n\u003ca id=\"web-page\" class=\"anchor\" href=\"#web-page\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eWeb page\u003c/h3\u003e\n\u003cp\u003eAssuming a development environment with the configuration \u003ca href=\"#private-environment\"\u003edescribed here\u003c/a\u003e and your application is accessible via \u003ccode\u003ehttp://localhost\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003eJust open with your browser the following URL: \u003ccode\u003ehttp://localhost/?SPX_KEY=dev\u0026amp;SPX_UI_URI=/\u003c/code\u003e to access to the web UI \u003ca href=\"#control-panel\"\u003econtrol panel\u003c/a\u003e.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eN.B.: \u003ccode\u003ehttp://localhost/\u003c/code\u003e must be served by a PHP script through standard web server feature like directory index or URL rewriting. The PHP script will however not be executed, SPX will intercept and disable its execution to serve its content in place.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eYou will then see the following form:\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/93baabbcba04223586d06756dbcecfbd6ec1293d/php-spx/doc/cp-form.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/93baabbcba04223586d06756dbcecfbd6ec1293d/php-spx/doc/cp-form.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThen switch on \"Enabled\". At this point profiling is enabled for the current domain and your current browser session through a set of dedicated cookies.\u003c/p\u003e\n\u003cp\u003eProfiling can also be triggered with Curl as shown in this example:\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003ecurl --cookie \"SPX_ENABLED=1; SPX_KEY=dev\" http://localhost/\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e\u003cem\u003eN.B.: You can also enable the profiling at INI configuration level via the \u003ccode\u003espx.http_profiling_enabled\u003c/code\u003e \u003ca href=\"#configuration\"\u003esetting\u003c/a\u003e, and therefore for all HTTP requests. However, keep in mind that using this setting on a high-traffic environment could quickly exhaust the storage device's capacity of the SPX's data directory.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eThen refresh the web page you want to profile and refresh the control panel to see the generated report in the list below the control panel form.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/cp-list2.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/cp-list2.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eThen click on the report in the list and enjoy the \u003ca href=\"#analysis-screen\"\u003eanalysis screen\u003c/a\u003e.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"command-line-script\" class=\"anchor\" href=\"#command-line-script\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCommand line script\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"instant-flat-profile\" class=\"anchor\" href=\"#instant-flat-profile\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eInstant flat profile\u003c/h4\u003e\n\u003cp\u003eJust prepend your command line with \u003ccode\u003eSPX_ENABLED=1\u003c/code\u003e to trigger profiling. You will get the flat profile printed on STDERR at the end of the execution, even if you abort it by hitting Ctrl-C, as in the following example:\u003c/p\u003e\n\u003cpre lang=\"shell\" class=\"highlight-shell\"\u003e\u003cspan class=\"nv\"\u003e$ SPX_ENABLED\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1 composer update\nLoading composer repositories with package information\nUpdating dependencies \u003cspan class=\"o\"\u003e(\u003c/span\u003eincluding require-dev\u003cspan class=\"o\"\u003e)\u003c/span\u003e\n^C\n\u003cspan class=\"k\"\u003e***\u003c/span\u003e SPX Report \u003cspan class=\"k\"\u003e***\u003c/span\u003e\n\nGlobal stats:\n\n  Called functions    :    27.5K\n  Distinct functions  :      714\n\n  Wall \u003cspan class=\"nb\"\u003etime\u003c/span\u003e           :    7.39s\n  ZE memory           :   62.6MB\n\nFlat profile:\n\n Wall \u003cspan class=\"nb\"\u003etime\u003c/span\u003e           | ZE memory           |\n Inc.     | \u003cspan class=\"k\"\u003e*\u003c/span\u003eExc.    | Inc.     | Exc.     | Called   | Function\n\u003cspan class=\"nt\"\u003e----------\u003c/span\u003e+----------+----------+----------+----------+----------\n  101.6ms |  101.6ms |   41.8MB |   41.8MB |       12 | Composer\u003cspan class=\"se\"\u003e\\J\u003c/span\u003eson\u003cspan class=\"se\"\u003e\\J\u003c/span\u003esonFile::parseJson\n   53.6ms |   53.6ms |     544B |     544B |        4 | Composer\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eache::sha256\n    6.91s |   41.5ms |   41.5MB |   \u003cspan class=\"nt\"\u003e-7\u003c/span\u003e.5MB |        4 | Composer\u003cspan class=\"se\"\u003e\\R\u003c/span\u003eepository\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eomposerRepository::fetchFile\n    6.85s |   32.3ms |   47.5MB |    5.4MB |        5 | 1@Composer\u003cspan class=\"se\"\u003e\\R\u003c/span\u003eepository\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eomposerRepository::loadProviderListings\n    7.8ms |    7.8ms |       0B |       0B |        4 | Composer\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eache::write\n    1.1ms |    1.1ms |     \u003cspan class=\"nt\"\u003e-72B\u003c/span\u003e |     \u003cspan class=\"nt\"\u003e-72B\u003c/span\u003e |        1 | Composer\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eonsole\u003cspan class=\"se\"\u003e\\A\u003c/span\u003epplication::Composer\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eonsole\u003cspan class=\"se\"\u003e\\{\u003c/span\u003eclosure\u003cspan class=\"o\"\u003e}\u003c/span\u003e\n  828.5us |  828.5us |     976B |     976B |       12 | Composer\u003cspan class=\"se\"\u003e\\U\u003c/span\u003etil\u003cspan class=\"se\"\u003e\\R\u003c/span\u003eemoteFilesystem::findHeaderValue\n  497.6us |  491.0us |  710.2KB |  710.2KB |        1 | Composer\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eache::read\n    2.4ms |  332.6us |   20.9KB | \u003cspan class=\"nt\"\u003e-378\u003c/span\u003e.8KB |       34 | 3@Symfony\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eomponent\u003cspan class=\"se\"\u003e\\F\u003c/span\u003einder\u003cspan class=\"se\"\u003e\\I\u003c/span\u003eterator\u003cspan class=\"se\"\u003e\\F\u003c/span\u003eilterIterator::rewind\n  298.9us |  298.9us |    2.2KB |    2.2KB |       47 | Symfony\u003cspan class=\"se\"\u003e\\C\u003c/span\u003eomponent\u003cspan class=\"se\"\u003e\\F\u003c/span\u003einder\u003cspan class=\"se\"\u003e\\I\u003c/span\u003eterator\u003cspan class=\"se\"\u003e\\F\u003c/span\u003eileTypeFilterIterator::accept\n\u003c/pre\u003e\n\u003cp\u003eN.B.: Just add \u003ccode\u003eSPX_FP_LIVE=1\u003c/code\u003e to enable the live refresh of the flat profile during script execution.\u003c/p\u003e\n\u003ch4\u003e\n\u003ca id=\"generate-profiling-report-for-the-web-ui\" class=\"anchor\" href=\"#generate-profiling-report-for-the-web-ui\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eGenerate profiling report for the web UI\u003c/h4\u003e\n\u003cp\u003eYou just have to specify \u003ccode\u003eSPX_REPORT=full\u003c/code\u003e to generate a report available via the web UI:\u003c/p\u003e\n\u003cpre lang=\"shell\" class=\"highlight-shell\"\u003e\u003cspan class=\"nv\"\u003eSPX_ENABLED\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1 \u003cspan class=\"nv\"\u003eSPX_REPORT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003efull ./bin/console cache:clear\n\u003c/pre\u003e\n\u003ch4\u003e\n\u003ca id=\"handle-long-living--daemon-processes\" class=\"anchor\" href=\"#handle-long-living--daemon-processes\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eHandle long-living / daemon processes\u003c/h4\u003e\n\u003cp\u003eIf your CLI script is long-living and/or daemonized (e.g. via supervisord), profiling its whole lifespan could be meaningless. This is especially true in case of a service waiting for tasks to process.\u003cbr\u003e\nTo handle this case, SPX allows to disable the automatic start of profiling and exposes 2 userland functions, \u003ccode\u003espx_profiler_start(): void\u003c/code\u003e \u0026amp; \u003ccode\u003espx_profiler_stop(): void\u003c/code\u003e, in order to respectively control the start and the end of the profiled spans.\u003c/p\u003e\n\u003cp\u003eHere is how you can instrument your script:\u003c/p\u003e\n\u003cpre lang=\"php\" class=\"highlight-php\"\u003e\u003cspan class=\"cp\"\u003e\u0026lt;?php\u003c/span\u003e\n\n\u003cspan class=\"k\"\u003ewhile\u003c/span\u003e \u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"nv\"\u003e$task\u003c/span\u003e \u003cspan class=\"o\"\u003e=\u003c/span\u003e \u003cspan class=\"nx\"\u003eget_next_ready_task\u003c/span\u003e\u003cspan class=\"p\"\u003e())\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"nx\"\u003espx_profiler_start\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"k\"\u003etry\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nv\"\u003e$task\u003c/span\u003e\u003cspan class=\"o\"\u003e-\u0026gt;\u003c/span\u003e\u003cspan class=\"na\"\u003eprocess\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e \u003cspan class=\"nx\"\u003efinally\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"nx\"\u003espx_profiler_stop\u003c/span\u003e\u003cspan class=\"p\"\u003e();\u003c/span\u003e\n  \u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\n\u003c/pre\u003e\n\u003cp\u003eAnd of course this script must be run at least with profiling enabled and the automatic start disabled as in the following command:\u003c/p\u003e\n\u003cpre lang=\"shell\" class=\"highlight-shell\"\u003e\u003cspan class=\"nv\"\u003eSPX_ENABLED\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e1 \u003cspan class=\"nv\"\u003eSPX_REPORT\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003efull \u003cspan class=\"nv\"\u003eSPX_AUTO_START\u003c/span\u003e\u003cspan class=\"o\"\u003e=\u003c/span\u003e0 my_script.php\n\u003c/pre\u003e\n\u003cp\u003eSide notes:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ccode\u003espx_profiler_start()\u003c/code\u003e and \u003ccode\u003espx_profiler_stop()\u003c/code\u003e can safely be nested.\u003c/li\u003e\n\u003cli\u003ewhen automatic start is disabled, no signal handlers (i.e. on SIGINT/SIGTERM) are registered by SPX.\u003c/li\u003e\n\u003cli\u003eautomatic start can only be disabled for CLI SAPI.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\n\u003ca id=\"advanced-usage\" class=\"anchor\" href=\"#advanced-usage\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eAdvanced usage\u003c/h2\u003e\n\u003ch3\u003e\n\u003ca id=\"configuration\" class=\"anchor\" href=\"#configuration\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eConfiguration\u003c/h3\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eName\u003c/th\u003e\n\u003cth\u003eDefault\u003c/th\u003e\n\u003cth\u003eChangeable\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.data_dir\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e/tmp/spx\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe directory where profiling reports will be stored. You may change it to point to a shared file system for example in case of multi-server architecture.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_enabled\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to enable web UI and HTTP request profiling.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_key\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe secret key used for authentication (see \u003ca href=\"#security-concern\"\u003esecurity concern\u003c/a\u003e for more details). You can use the following command to generate a 16 bytes random key as an hex string: \u003ccode\u003eopenssl rand -hex 16\u003c/code\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_ip_var\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003eREMOTE_ADDR\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe \u003ccode\u003e$_SERVER\u003c/code\u003e key holding the client IP address used for authentication (see \u003ca href=\"#security-concern\"\u003esecurity concern\u003c/a\u003e for more details). Overriding the default value is required when your application is behind a reverse proxy.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_trusted_proxies\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e127.0.0.1\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe trusted proxy list as a comma separated list of IP addresses. This setting is ignored when \u003ccode\u003espx.http_ip_var\u003c/code\u003e's value is \u003ccode\u003eREMOTE_ADDR\u003c/code\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_ip_whitelist\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe IP address white list used for authentication as a comma separated list of IP addresses, use \u003ccode\u003e*\u003c/code\u003e to allow all IP addresses.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_ui_assets_dir\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e/usr/local/share/misc/php-spx/assets/web-ui\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe directory where the \u003ca href=\"#web-ui\"\u003eweb UI\u003c/a\u003e files are installed. In most cases you do not have to change it.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_profiling_enabled\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003eNULL\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe INI level counterpart of the \u003ccode\u003eSPX_ENABLED\u003c/code\u003e parameter, for HTTP requests only. See \u003ca href=\"#available-parameters\"\u003ehere for more details\u003c/a\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_profiling_builtins\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003eNULL\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe INI level counterpart of the \u003ccode\u003eSPX_BUILTINS\u003c/code\u003e parameter, for HTTP requests only. See \u003ca href=\"#available-parameters\"\u003ehere for more details\u003c/a\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_profiling_sampling_period\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003eNULL\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe INI level counterpart of the \u003ccode\u003eSPX_SAMPLING_PERIOD\u003c/code\u003e parameter, for HTTP requests only. See \u003ca href=\"#available-parameters\"\u003ehere for more details\u003c/a\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_profiling_depth\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003eNULL\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe INI level counterpart of the \u003ccode\u003eSPX_DEPTH\u003c/code\u003e parameter, for HTTP requests only. See \u003ca href=\"#available-parameters\"\u003ehere for more details\u003c/a\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003espx.http_profiling_metrics\u003c/em\u003e\n\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003eNULL\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003cem\u003ePHP_INI_SYSTEM\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eThe INI level counterpart of the \u003ccode\u003eSPX_METRICS\u003c/code\u003e parameter, for HTTP requests only. See \u003ca href=\"#available-parameters\"\u003ehere for more details\u003c/a\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch4\u003e\n\u003ca id=\"private-environment\" class=\"anchor\" href=\"#private-environment\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ePrivate environment\u003c/h4\u003e\n\u003cp\u003eFor your local \u0026amp; private development environment, since there is no need for authentication, you can use this configuration:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003espx.http_enabled=1\nspx.http_key=\"dev\"\nspx.http_ip_whitelist=\"127.0.0.1\"\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAnd then access to the web UI at \u003ccode\u003ehttp(s)://\u0026lt;your application host\u0026gt;/?SPX_KEY=dev\u0026amp;SPX_UI_URI=/\u003c/code\u003e.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"available-metrics\" class=\"anchor\" href=\"#available-metrics\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eAvailable metrics\u003c/h3\u003e\n\u003cp\u003eHere is the list of available metrics to collect. By default only \u003cem\u003eWall time\u003c/em\u003e and \u003cem\u003eZend Engine memory usage\u003c/em\u003e are collected.\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eKey (command line)\u003c/th\u003e\n\u003cth\u003eName\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ewt\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eWall time\u003c/td\u003e\n\u003ctd\u003eThe absolute elapsed time.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ect\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eCPU time\u003c/td\u003e\n\u003ctd\u003eThe time spent while running on CPU.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eit\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eIdle time\u003c/td\u003e\n\u003ctd\u003eThe time spent off-CPU, that means waiting for CPU, I/O completion, a lock acquisition... or explicitly sleeping.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezm\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine memory usage\u003c/td\u003e\n\u003ctd\u003eEquivalent to \u003ccode\u003ememory_get_usage(false)\u003c/code\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezmac\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine allocation count\u003c/td\u003e\n\u003ctd\u003eNumber of memory allocations (i.e. allocated blocks) performed.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezmab\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine allocated bytes\u003cb\u003e*\u003c/b\u003e\n\u003c/td\u003e\n\u003ctd\u003eNumber of allocated bytes.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezmfc\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine free count\u003c/td\u003e\n\u003ctd\u003eNumber of memory releases (i.e. freed blocks) performed.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezmfb\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine freed bytes\u003cb\u003e*\u003c/b\u003e\n\u003c/td\u003e\n\u003ctd\u003eNumber of freed bytes.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezgr\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine GC run count\u003c/td\u003e\n\u003ctd\u003eNumber of times the GC (cycle collector) have been triggered (either manually or automatically).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezgb\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine GC root buffer length\u003c/td\u003e\n\u003ctd\u003eRoot buffer length, see explanation \u003ca href=\"http://php.net/manual/en/features.gc.collecting-cycles.php\" rel=\"nofollow\"\u003ehere\u003c/a\u003e. It could be helpful to track pressure on garbage collector.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezgc\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine GC collected cycle count\u003c/td\u003e\n\u003ctd\u003eTotal number of collected cycles through all GC runs.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezif\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine included file count\u003c/td\u003e\n\u003ctd\u003eNumber of included files.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezil\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine included line count\u003c/td\u003e\n\u003ctd\u003eNumber of included lines.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezuc\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine user class count\u003c/td\u003e\n\u003ctd\u003eNumber of userland classes.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezuf\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine user function count\u003c/td\u003e\n\u003ctd\u003eNumber of userland functions (including userland class/instance methods).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezuo\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine user opcode count\u003c/td\u003e\n\u003ctd\u003eNumber of included userland opcodes (sum of all userland file/function/method opcodes).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003ezo\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine object count\u003c/td\u003e\n\u003ctd\u003eNumber of objects currently held by user code.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eze\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eZend Engine error count\u003c/td\u003e\n\u003ctd\u003eNumber of raised PHP errors.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003emor\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eProcess's own RSS\u003cb\u003e**\u003c/b\u003e\n\u003c/td\u003e\n\u003ctd\u003eThe part of the process's memory held in RAM. The shared (with other processes) memory blocks are not taken into account. This metric can be useful to highlight a memory leak within a PHP extension or deeper (e.g. a third-party C library).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eio\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eI/O (reads + writes)\u003cstrong\u003e**\u003c/strong\u003e\n\u003c/td\u003e\n\u003ctd\u003eBytes read or written while performing I/O.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eior\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eI/O (reads)\u003cstrong\u003e**\u003c/strong\u003e\n\u003c/td\u003e\n\u003ctd\u003eBytes read while performing I/O.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eiow\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eI/O (writes)\u003cstrong\u003e**\u003c/strong\u003e\n\u003c/td\u003e\n\u003ctd\u003eBytes written while performing I/O.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003cp\u003e\u003cem\u003e*: Allocated and freed byte counts will not be collected if you use a custom allocator or if you force the libc one through the \u003ccode\u003eUSE_ZEND_ALLOC\u003c/code\u003e environment variable set to \u003ccode\u003e0\u003c/code\u003e.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003e\u003cem\u003e**: RSS \u0026amp; I/O metrics are not supported on macOS. On GNU/Linux you should \u003ca href=\"#linux-php-fpm--io-stats\"\u003eread this if you use PHP-FPM\u003c/a\u003e.\u003c/em\u003e\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"command-line-script-1\" class=\"anchor\" href=\"#command-line-script-1\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCommand line script\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"available-report-types\" class=\"anchor\" href=\"#available-report-types\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eAvailable report types\u003c/h4\u003e\n\u003cp\u003eContrary to web page profiling which only support \u003cem\u003efull\u003c/em\u003e report type (the one exploitable by the web UI), command line script profiling supports several types of report.\nHere is the list below:\u003c/p\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eKey\u003c/th\u003e\n\u003cth\u003eName\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003efp\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eFlat profile\u003c/td\u003e\n\u003ctd\u003eThe flat profile provided by SPX. It is the \u003cstrong\u003edefault report type\u003c/strong\u003e and is directly printed on STDERR.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003efull\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eFull report\u003c/td\u003e\n\u003ctd\u003eThis is the report type for web UI. Reports will be stored in SPX data directory and thus will be available for analysis on web UI side.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003etrace\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003eTrace file\u003c/td\u003e\n\u003ctd\u003eA custom format (human readable text) trace file.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch4\u003e\n\u003ca id=\"available-parameters\" class=\"anchor\" href=\"#available-parameters\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eAvailable parameters\u003c/h4\u003e\n\u003ctable\u003e\n\u003cthead\u003e\n\u003ctr\u003e\n\u003cth\u003eName\u003c/th\u003e\n\u003cth\u003eDefault\u003c/th\u003e\n\u003cth\u003eDescription\u003c/th\u003e\n\u003c/tr\u003e\n\u003c/thead\u003e\n\u003ctbody\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_ENABLED\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to enable SPX profiler (i.e. triggering profiling). When disabled there is no performance impact on your application.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_AUTO_START\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e1\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to enable SPX profiler's automatic start. When automatic start is disabled, you have to start \u0026amp; stop profiling on your own at runtime via the \u003ccode\u003espx_profiler_start()\u003c/code\u003e \u0026amp; \u003ccode\u003espx_profiler_stop()\u003c/code\u003e functions. \u003ca href=\"#handle-long-living--daemon-processes\"\u003eSee here\u003c/a\u003e for more details.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_BUILTINS\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to profile internal functions, script compilations, GC runs and request shutdown.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_DEPTH\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eThe stack depth at which profiling must stop (i.e. aggregate measures of deeper calls). 0 (default value) means unlimited.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_SAMPLING_PERIOD\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to collect data for the current call stack at regular intervals according to the specified sampling period (\u003ccode\u003e0\u003c/code\u003e means no sampling). The result will usually be less accurate but in some cases it could be far more accurate by not over-evaluating small functions called many times. It is recommended to try sampling (with different periods) if you want to accurately find a time bottleneck. When profiling a long running \u0026amp; CPU intensive script, this option will allow you to contain report size and thus keeping it small enough to be exploitable by the \u003ca href=\"#web-ui\"\u003eweb UI\u003c/a\u003e. See \u003ca href=\"#performance-report-size--sampling\"\u003ehere\u003c/a\u003e for more details.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_METRICS\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003ewt,zm\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eComma separated list of \u003ca href=\"#available-metrics\"\u003eavailable metric keys\u003c/a\u003e to collect. All report types take advantage of multi-metric profiling.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_REPORT\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003efp\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eSelected \u003ca href=\"#available-report-types\"\u003ereport key\u003c/a\u003e.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_FP_FOCUS\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003ewt\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003e\n\u003ca href=\"#available-metrics\"\u003eMetric key\u003c/a\u003e for flat profile sort.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_FP_INC\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to sort functions by inclusive value instead of exclusive value in flat profile.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_FP_REL\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to display metric values as relative (i.e. percentage) in flat profile.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_FP_LIMIT\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e10\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eThe flat profile size (i.e. top N shown functions).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_FP_LIVE\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to enable flat profile live refresh. Since it plays with cursor position through ANSI escape sequences, it uses STDOUT as output, replacing script output (both STDOUT \u0026amp; STDERR).\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_FP_COLOR\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e1\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eWhether to enable flat profile color mode.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_TRACE_SAFE\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003ccode\u003e0\u003c/code\u003e\u003c/td\u003e\n\u003ctd\u003eThe trace file is by default written in a way to enforce accuracy, but in case of process crash (e.g. segfault) some logs could be lost. If you want to enforce durability (e.g. to find the last event before a crash) you just have to set this parameter to 1.\u003c/td\u003e\n\u003c/tr\u003e\n\u003ctr\u003e\n\u003ctd\u003e\u003cem\u003eSPX_TRACE_FILE\u003c/em\u003e\u003c/td\u003e\n\u003ctd\u003e\u003c/td\u003e\n\u003ctd\u003eCustom trace file name. If not specified it will be generated in \u003ccode\u003e/tmp\u003c/code\u003e and displayed on STDERR at the end of the script.\u003c/td\u003e\n\u003c/tr\u003e\n\u003c/tbody\u003e\n\u003c/table\u003e\n\u003ch4\u003e\n\u003ca id=\"setting-parameters\" class=\"anchor\" href=\"#setting-parameters\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eSetting parameters\u003c/h4\u003e\n\u003cp\u003eWell, as you might already noticed in corresponding \u003ca href=\"#command-line-script\"\u003ebasic usage example\u003c/a\u003e, setting a SPX parameter for a command line script simply means setting an environment variable with the same name.\u003c/p\u003e\n\u003ch3\u003e\n\u003ca id=\"web-ui\" class=\"anchor\" href=\"#web-ui\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eWeb UI\u003c/h3\u003e\n\u003ch4\u003e\n\u003ca id=\"supported-browsers\" class=\"anchor\" href=\"#supported-browsers\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eSupported browsers\u003c/h4\u003e\n\u003cp\u003eSince the web UI uses advanced JavaScript features, only the following browsers are known to be supported:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003emost recent version of any Chromium-based browser.\u003c/li\u003e\n\u003cli\u003emost recent version of Firefox.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\n\u003ca id=\"control-panel--report-list\" class=\"anchor\" href=\"#control-panel--report-list\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eControl panel \u0026amp; report list\u003c/h4\u003e\n\u003cp\u003eThis is the home page of the web UI, divided into 2 parts:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe control panel for setting the profiling setup for your current browser session.\u003c/li\u003e\n\u003cli\u003ethe profile report list as a sortable table. A click on a row allows to go to the \u003ca href=\"#analysis-screen\"\u003eanalysis screen\u003c/a\u003e for the corresponding report.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4\u003e\n\u003ca id=\"analysis-screen\" class=\"anchor\" href=\"#analysis-screen\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eAnalysis screen\u003c/h4\u003e\n\u003cp\u003e\u003ca href=\"https://noisebynorthwest.github.io/php-spx/demo/report.html?key=spx-full-20180603_211110-dev-3540-294703905\" rel=\"nofollow\"\u003eClick here for a live demo of the analysis screen\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.th.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as.th.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"performance-report-size--sampling\" class=\"anchor\" href=\"#performance-report-size--sampling\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003ePerformance, report size \u0026amp; sampling\u003c/h5\u003e\n\u003cp\u003eThe analysis screen can nicely handle profile reports with up to several (5+) millions of recorded function calls with Chromium on my i5 @ 3.3GHz / 8GB desktop.\nIn case you want to profile a long running, CPU intensive, script which tends to generate giant reports, you can enable sampling mode with the suitable sampling period.\nSee \u003cem\u003eSPX_SAMPLING_PERIOD\u003c/em\u003e \u003ca href=\"#available-parameters\"\u003eparameter\u003c/a\u003e for command line script.\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"metric-selector\" class=\"anchor\" href=\"#metric-selector\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eMetric selector\u003c/h5\u003e\n\u003cp\u003eThis is simply a combo box for selecting the currently analyzed metric.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ms.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ms.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"color-scheme-selector\" class=\"anchor\" href=\"#color-scheme-selector\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eColor scheme selector\u003c/h5\u003e\n\u003cp\u003eBy default, function related blocks in the visualizations are colored according to their cost, with a color scale displayed at the top right of the screen.\u003c/p\u003e\n\u003cp\u003eYou can also define a custom color scheme by clicking on the color scheme mode link, displayed at the top of the screen just after the metric selector.\nA drop-down window will then appear and allow you to switch between \u003ccode\u003edefault\u003c/code\u003e and \u003ccode\u003ecategory\u003c/code\u003e mode and define (add/edit/delete) your categories (color, name, pattern list) for the \u003ccode\u003ecategory\u003c/code\u003e mode (see the screenshot below).\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-csm.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-csm.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"timeline-overview\" class=\"anchor\" href=\"#timeline-overview\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eTimeline overview\u003c/h5\u003e\n\u003cp\u003eThis visualization is the timeline overview of all called functions.\nYou can change the selected time range by, represented by a transparent green rectangle, by simply dragging it horizontally.\u003c/p\u003e\n\u003cp\u003eExcept for wall time, the current metric is also plotted (current value over time) on a foreground layer.\u003c/p\u003e\n\u003cp\u003eSupported controls:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehorizontal left click drag: shift the selected time range\u003c/li\u003e\n\u003cli\u003eresize click on selected time range rectangle: shift one of the selected time range boundary\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ov.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-ov.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"timeline-focus\" class=\"anchor\" href=\"#timeline-focus\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eTimeline focus\u003c/h5\u003e\n\u003cp\u003eThis visualization is an interactive timeline which is able to control and keep focus on the selected time range.\u003c/p\u003e\n\u003cp\u003eSupported controls:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eleft click drag: time range shift (horizontal) or depth range shift (vertical)\u003c/li\u003e\n\u003cli\u003emiddle click vertical drag: time range zoom in/out\u003c/li\u003e\n\u003cli\u003emouse wheel: time range zoom in/out\u003c/li\u003e\n\u003cli\u003ehovering a function call to show more details\u003c/li\u003e\n\u003cli\u003edouble click on a function call: set the current time range as the one of the selected function call\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eExcept for wall time, the current metric is also plotted (current value over time) on a foreground layer.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-tl.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-tl.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"flat-profile\" class=\"anchor\" href=\"#flat-profile\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eFlat profile\u003c/h5\u003e\n\u003cp\u003eThis visualization is the flat profile for the selected time range and the selected metric, displayed as a sortable table.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fp.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fp.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"flame-graph\" class=\"anchor\" href=\"#flame-graph\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eFlame Graph\u003c/h5\u003e\n\u003cp\u003eThis visualization, designed by \u003ca href=\"http://www.brendangregg.com/flamegraphs.html\" rel=\"nofollow\"\u003eBrendan Gregg\u003c/a\u003e, allows to quickly find the hot code path for the selected time range and the selected metric.\nMetrics corresponding to releasable resources (memory, objects in use...) are not supported by this visualization.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fg.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/d8a90827d6eb256f49d580de448b6b6fad4119ac/php-spx/doc/as-fg.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch5\u003e\n\u003ca id=\"function-highlighting\" class=\"anchor\" href=\"#function-highlighting\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eFunction highlighting\u003c/h5\u003e\n\u003cp\u003eYou can highlight a function by clicking on one of its spans within the timeline or Flamegraph widgets or its name within the flat profile widget.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/47d8f8d93fad1e6659c46c47e5aa8f82822454a9/php-spx/doc/as-fh.png\" target=\"_blank\" rel=\"nofollow\"\u003e\u003cimg src=\"https://github.com/NoiseByNorthwest/NoiseByNorthwest.github.io/blob/47d8f8d93fad1e6659c46c47e5aa8f82822454a9/php-spx/doc/as-fh.png\" alt=\"Showcase\" style=\"max-width:100%;\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003ch2\u003e\n\u003ca id=\"security-concern\" class=\"anchor\" href=\"#security-concern\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eSecurity concern\u003c/h2\u003e\n\u003cp\u003e\u003cem\u003eThe lack of review / feedback about this concern is the main reason \u003cstrong\u003eSPX cannot yet be considered as production ready\u003c/strong\u003e.\u003c/em\u003e\u003c/p\u003e\n\u003cp\u003eSPX allows you to profile web page as well as command line scripts, and also to list and analyze profile reports through its embedded web UI.\nThis is why there is a huge security risk, since an attacker could:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eaccess to web UI and get sensible information about your application.\u003c/li\u003e\n\u003cli\u003eto a lesser extent, make a DoS attack against your application with a costly profiling setup.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eSo, unless access to your application is already restricted at lower layer (i.e. before your application is hit, not by the application / PHP framework itself), a client triggering profiling or accessing to the web UI must be authenticated.\u003c/p\u003e\n\u003cp\u003eSPX provides two-factor authentication with these 2 mandatory locks:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eIP address white list (exact string representation matching).\u003c/li\u003e\n\u003cli\u003eFixed secret random key (generated on your own) provided via a request header, cookie or query string parameter.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThus a client can profile your application via a web page only if \u003cstrong\u003eits IP address is white listed and its provided key is valid\u003c/strong\u003e.\u003c/p\u003e\n\u003ch2\u003e\n\u003ca id=\"notes-on-accuracy\" class=\"anchor\" href=\"#notes-on-accuracy\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eNotes on accuracy\u003c/h2\u003e\n\u003cp\u003eIn tracing mode (default), SPX is subject to accuracy issues for time related metrics when the measured function execution time is:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eclose or lower than the timer precision\u003c/li\u003e\n\u003cli\u003eclose or lower than SPX's own per function overhead\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe first issue is mitigated by using the highest resolution timer provided by the platform. On Linux \u0026amp; recent macOS versions the timer resolution is 1ns; on macOS before 10.12/Sierra, the timer resolution is only 1us.\u003c/p\u003e\n\u003cp\u003eThe second issue is mitigated by taking into account SPX's time (wall / cpu) overhead by subtracting it to measured function execution time. This is done by evaluating SPX constant per function overhead before starting profiling the script.\u003c/p\u003e\n\u003cp\u003eHowever, whatever the platform, if you want to maximize accuracy to find a time bottleneck, you should also:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eavoid profiling internal functions.\u003c/li\u003e\n\u003cli\u003eavoid collecting additional metrics.\u003c/li\u003e\n\u003cli\u003etry sampling mode with different sampling periods.\u003c/li\u003e\n\u003cli\u003etry to play with maximum depth parameter to stop profiling at a given depth.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2\u003e\n\u003ca id=\"credits\" class=\"anchor\" href=\"#credits\" aria-hidden=\"true\"\u003e\u003cspan aria-hidden=\"true\" class=\"octicon octicon-link\"\u003e\u003c/span\u003e\u003c/a\u003eCredits\u003c/h2\u003e\n\u003cp\u003eI have found lot of inspiration and hints reading:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/phacility/xhprof\" rel=\"nofollow\"\u003eXHProf\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/xdebug/xdebug\" rel=\"nofollow\"\u003eXdebug\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/php/php-src\" rel=\"nofollow\"\u003ePHP\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/body\u003e\u003c/html\u003e\n","project_id":94931170,"name":"php-spx","owner_login":"NoiseByNorthwest","description":"A simple \u0026 straight-to-the-point PHP profiling extension with its built-in web UI","pushed_at":"2020-11-25T22:00:02.000Z","stargazers_count":942,"open_issues_count":26,"has_downloads":true,"archived":false,"license_key":"gpl-3.0","homepage":"","private":false,"project_created_at":"2017-06-20T20:14:41.000Z","project_updated_at":"2021-01-13T19:53:05.000Z","language":"C","added_language_topic":true},"categories":[{"name":"Advertising","topicsCount":10},{"name":"Application Programming Interfaces","topicsCount":124},{"name":"Applications","topicsCount":192},{"name":"Artificial Intelligence","topicsCount":78},{"name":"Blockchain","topicsCount":73},{"name":"Build Tools","topicsCount":113},{"name":"Cloud Computing","topicsCount":80},{"name":"Code Quality","topicsCount":28},{"name":"Collaboration","topicsCount":32},{"name":"Command Line Interface","topicsCount":49},{"name":"Community","topicsCount":83},{"name":"Companies","topicsCount":60},{"name":"Compilers","topicsCount":63},{"name":"Computer Science","topicsCount":80},{"name":"Configuration Management","topicsCount":42},{"name":"Content Management","topicsCount":175},{"name":"Control Flow","topicsCount":213},{"name":"Data Formats","topicsCount":78},{"name":"Data Processing","topicsCount":276},{"name":"Data Storage","topicsCount":135},{"name":"Economics","topicsCount":64},{"name":"Frameworks","topicsCount":215},{"name":"Games","topicsCount":129},{"name":"Graphics","topicsCount":110},{"name":"Hardware","topicsCount":152},{"name":"Integrated Development Environments","topicsCount":49},{"name":"Learning Resources","topicsCount":166},{"name":"Legal","topicsCount":29},{"name":"Libraries","topicsCount":129},{"name":"Lists Of Projects","topicsCount":22},{"name":"Machine Learning","topicsCount":347},{"name":"Mapping","topicsCount":64},{"name":"Marketing","topicsCount":15},{"name":"Mathematics","topicsCount":55},{"name":"Media","topicsCount":239},{"name":"Messaging","topicsCount":98},{"name":"Networking","topicsCount":315},{"name":"Operating Systems","topicsCount":89},{"name":"Operations","topicsCount":121},{"name":"Package Managers","topicsCount":55},{"name":"Programming Languages","topicsCount":245},{"name":"Runtime Environments","topicsCount":100},{"name":"Science","topicsCount":42},{"name":"Security","topicsCount":396},{"name":"Social Media","topicsCount":27},{"name":"Software Architecture","topicsCount":72},{"name":"Software Development","topicsCount":72},{"name":"Software Performance","topicsCount":58},{"name":"Software Quality","topicsCount":133},{"name":"Text Editors","topicsCount":49},{"name":"Text Processing","topicsCount":136},{"name":"User Interface","topicsCount":330},{"name":"User Interface Components","topicsCount":514},{"name":"Version Control","topicsCount":30},{"name":"Virtualization","topicsCount":71},{"name":"Web Browsers","topicsCount":42},{"name":"Web Servers","topicsCount":26},{"name":"Web User Interface","topicsCount":210},{"name":"All Projects","topicsCount":0}],"advertisement":{"variation":"project","title":"Become A Software Engineer At Top Companies","description":"Identify your strengths with a free online coding quiz, and skip resume and recruiter screens at multiple companies at once.  It's free, confidential, includes a free flight and hotel, along with help to study to pass interviews and negotiate a high salary!","url":"https://triplebyte.com/a/PGNifkM/pt2"},"nonCommercial":false,"nonDerivative":false}</script>
      



    <!-- load synchronously before app bundle so adsbygoogle is always defined, google's new ad code doesn't seem to like this, at least for the initial review  -->
    <!-- try loading programatically and async with a callback to push the ads and see if it helps page load speed -->
    <!--script src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script-->
    <script src="/packs/root-bundle-1f53b6db74aa6b1bef19.js"></script>
  </body>
</html>
