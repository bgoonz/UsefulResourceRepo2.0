<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>r</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
  </style>
</head>
<body>
<p>R is a statistical computing language. It has lots of libraries for uploading and cleaning data sets, running statistical procedures, and making graphs. You can also run <code>R</code> commands within a LaTeX document.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co"># Comments start with number symbols.</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co"># You can&#39;t make multi-line comments,</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co"># but you can stack multiple comments like so.</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co"># in Windows you can use CTRL-ENTER to execute a line.</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co"># on Mac it is COMMAND-ENTER</span></a>
<a class="sourceLine" id="cb1-9" title="9"></a>
<a class="sourceLine" id="cb1-10" title="10"></a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#############################################################################</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co"># Stuff you can do without understanding anything about programming</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#############################################################################</span></a>
<a class="sourceLine" id="cb1-15" title="15"></a>
<a class="sourceLine" id="cb1-16" title="16"><span class="co"># In this section, we show off some of the cool stuff you can do in</span></a>
<a class="sourceLine" id="cb1-17" title="17"><span class="co"># R without understanding anything about programming. Do not worry</span></a>
<a class="sourceLine" id="cb1-18" title="18"><span class="co"># about understanding everything the code does. Just enjoy!</span></a>
<a class="sourceLine" id="cb1-19" title="19"></a>
<a class="sourceLine" id="cb1-20" title="20"><span class="kw">data</span>()          <span class="co"># browse pre-loaded data sets</span></a>
<a class="sourceLine" id="cb1-21" title="21"><span class="kw">data</span>(rivers)    <span class="co"># get this one: &quot;Lengths of Major North American Rivers&quot;</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="kw">ls</span>()            <span class="co"># notice that &quot;rivers&quot; now appears in the workspace</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="kw">head</span>(rivers)    <span class="co"># peek at the data set</span></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="co"># 735 320 325 392 524 450</span></a>
<a class="sourceLine" id="cb1-25" title="25"></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="kw">length</span>(rivers)  <span class="co"># how many rivers were measured?</span></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="co"># 141</span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="kw">summary</span>(rivers) <span class="co"># what are some summary statistics?</span></a>
<a class="sourceLine" id="cb1-29" title="29"><span class="co">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">#  135.0   310.0   425.0   591.2   680.0  3710.0</span></a>
<a class="sourceLine" id="cb1-31" title="31"></a>
<a class="sourceLine" id="cb1-32" title="32"><span class="co"># make a stem-and-leaf plot (a histogram-like data visualization)</span></a>
<a class="sourceLine" id="cb1-33" title="33"><span class="kw">stem</span>(rivers)</a>
<a class="sourceLine" id="cb1-34" title="34"></a>
<a class="sourceLine" id="cb1-35" title="35"><span class="co">#  The decimal point is 2 digit(s) to the right of the |</span></a>
<a class="sourceLine" id="cb1-36" title="36"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="co">#   0 | 4</span></a>
<a class="sourceLine" id="cb1-38" title="38"><span class="co">#   2 | 011223334555566667778888899900001111223333344455555666688888999</span></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="co">#   4 | 111222333445566779001233344567</span></a>
<a class="sourceLine" id="cb1-40" title="40"><span class="co">#   6 | 000112233578012234468</span></a>
<a class="sourceLine" id="cb1-41" title="41"><span class="co">#   8 | 045790018</span></a>
<a class="sourceLine" id="cb1-42" title="42"><span class="co">#  10 | 04507</span></a>
<a class="sourceLine" id="cb1-43" title="43"><span class="co">#  12 | 1471</span></a>
<a class="sourceLine" id="cb1-44" title="44"><span class="co">#  14 | 56</span></a>
<a class="sourceLine" id="cb1-45" title="45"><span class="co">#  16 | 7</span></a>
<a class="sourceLine" id="cb1-46" title="46"><span class="co">#  18 | 9</span></a>
<a class="sourceLine" id="cb1-47" title="47"><span class="co">#  20 |</span></a>
<a class="sourceLine" id="cb1-48" title="48"><span class="co">#  22 | 25</span></a>
<a class="sourceLine" id="cb1-49" title="49"><span class="co">#  24 | 3</span></a>
<a class="sourceLine" id="cb1-50" title="50"><span class="co">#  26 |</span></a>
<a class="sourceLine" id="cb1-51" title="51"><span class="co">#  28 |</span></a>
<a class="sourceLine" id="cb1-52" title="52"><span class="co">#  30 |</span></a>
<a class="sourceLine" id="cb1-53" title="53"><span class="co">#  32 |</span></a>
<a class="sourceLine" id="cb1-54" title="54"><span class="co">#  34 |</span></a>
<a class="sourceLine" id="cb1-55" title="55"><span class="co">#  36 | 1</span></a>
<a class="sourceLine" id="cb1-56" title="56"></a>
<a class="sourceLine" id="cb1-57" title="57"><span class="kw">stem</span>(<span class="kw">log</span>(rivers)) <span class="co"># Notice that the data are neither normal nor log-normal!</span></a>
<a class="sourceLine" id="cb1-58" title="58"><span class="co"># Take that, Bell curve fundamentalists.</span></a>
<a class="sourceLine" id="cb1-59" title="59"></a>
<a class="sourceLine" id="cb1-60" title="60"><span class="co">#  The decimal point is 1 digit(s) to the left of the |</span></a>
<a class="sourceLine" id="cb1-61" title="61"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-62" title="62"><span class="co">#  48 | 1</span></a>
<a class="sourceLine" id="cb1-63" title="63"><span class="co">#  50 |</span></a>
<a class="sourceLine" id="cb1-64" title="64"><span class="co">#  52 | 15578</span></a>
<a class="sourceLine" id="cb1-65" title="65"><span class="co">#  54 | 44571222466689</span></a>
<a class="sourceLine" id="cb1-66" title="66"><span class="co">#  56 | 023334677000124455789</span></a>
<a class="sourceLine" id="cb1-67" title="67"><span class="co">#  58 | 00122366666999933445777</span></a>
<a class="sourceLine" id="cb1-68" title="68"><span class="co">#  60 | 122445567800133459</span></a>
<a class="sourceLine" id="cb1-69" title="69"><span class="co">#  62 | 112666799035</span></a>
<a class="sourceLine" id="cb1-70" title="70"><span class="co">#  64 | 00011334581257889</span></a>
<a class="sourceLine" id="cb1-71" title="71"><span class="co">#  66 | 003683579</span></a>
<a class="sourceLine" id="cb1-72" title="72"><span class="co">#  68 | 0019156</span></a>
<a class="sourceLine" id="cb1-73" title="73"><span class="co">#  70 | 079357</span></a>
<a class="sourceLine" id="cb1-74" title="74"><span class="co">#  72 | 89</span></a>
<a class="sourceLine" id="cb1-75" title="75"><span class="co">#  74 | 84</span></a>
<a class="sourceLine" id="cb1-76" title="76"><span class="co">#  76 | 56</span></a>
<a class="sourceLine" id="cb1-77" title="77"><span class="co">#  78 | 4</span></a>
<a class="sourceLine" id="cb1-78" title="78"><span class="co">#  80 |</span></a>
<a class="sourceLine" id="cb1-79" title="79"><span class="co">#  82 | 2</span></a>
<a class="sourceLine" id="cb1-80" title="80"></a>
<a class="sourceLine" id="cb1-81" title="81"><span class="co"># make a histogram:</span></a>
<a class="sourceLine" id="cb1-82" title="82"><span class="kw">hist</span>(rivers, <span class="dt">col=</span><span class="st">&quot;#333333&quot;</span>, <span class="dt">border=</span><span class="st">&quot;white&quot;</span>, <span class="dt">breaks=</span><span class="dv">25</span>) <span class="co"># play around with these parameters</span></a>
<a class="sourceLine" id="cb1-83" title="83"><span class="kw">hist</span>(<span class="kw">log</span>(rivers), <span class="dt">col=</span><span class="st">&quot;#333333&quot;</span>, <span class="dt">border=</span><span class="st">&quot;white&quot;</span>, <span class="dt">breaks=</span><span class="dv">25</span>) <span class="co"># you&#39;ll do more plotting later</span></a>
<a class="sourceLine" id="cb1-84" title="84"></a>
<a class="sourceLine" id="cb1-85" title="85"><span class="co"># Here&#39;s another neat data set that comes pre-loaded. R has tons of these.</span></a>
<a class="sourceLine" id="cb1-86" title="86"><span class="kw">data</span>(discoveries)</a>
<a class="sourceLine" id="cb1-87" title="87"><span class="kw">plot</span>(discoveries, <span class="dt">col=</span><span class="st">&quot;#333333&quot;</span>, <span class="dt">lwd=</span><span class="dv">3</span>, <span class="dt">xlab=</span><span class="st">&quot;Year&quot;</span>,</a>
<a class="sourceLine" id="cb1-88" title="88">     <span class="dt">main=</span><span class="st">&quot;Number of important discoveries per year&quot;</span>)</a>
<a class="sourceLine" id="cb1-89" title="89"><span class="kw">plot</span>(discoveries, <span class="dt">col=</span><span class="st">&quot;#333333&quot;</span>, <span class="dt">lwd=</span><span class="dv">3</span>, <span class="dt">type =</span> <span class="st">&quot;h&quot;</span>, <span class="dt">xlab=</span><span class="st">&quot;Year&quot;</span>,</a>
<a class="sourceLine" id="cb1-90" title="90">     <span class="dt">main=</span><span class="st">&quot;Number of important discoveries per year&quot;</span>)</a>
<a class="sourceLine" id="cb1-91" title="91"></a>
<a class="sourceLine" id="cb1-92" title="92"><span class="co"># Rather than leaving the default ordering (by year),</span></a>
<a class="sourceLine" id="cb1-93" title="93"><span class="co"># we could also sort to see what&#39;s typical:</span></a>
<a class="sourceLine" id="cb1-94" title="94"><span class="kw">sort</span>(discoveries)</a>
<a class="sourceLine" id="cb1-95" title="95"><span class="co">#  [1]  0  0  0  0  0  0  0  0  0  1  1  1  1  1  1  1  1  1  1  1  1  2  2  2  2</span></a>
<a class="sourceLine" id="cb1-96" title="96"><span class="co"># [26]  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  2  3  3  3</span></a>
<a class="sourceLine" id="cb1-97" title="97"><span class="co"># [51]  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  3  4  4  4  4  4  4  4  4</span></a>
<a class="sourceLine" id="cb1-98" title="98"><span class="co"># [76]  4  4  4  4  5  5  5  5  5  5  5  6  6  6  6  6  6  7  7  7  7  8  9 10 12</span></a>
<a class="sourceLine" id="cb1-99" title="99"></a>
<a class="sourceLine" id="cb1-100" title="100"><span class="kw">stem</span>(discoveries, <span class="dt">scale=</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-101" title="101"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-102" title="102"><span class="co">#  The decimal point is at the |</span></a>
<a class="sourceLine" id="cb1-103" title="103"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-104" title="104"><span class="co">#   0 | 000000000</span></a>
<a class="sourceLine" id="cb1-105" title="105"><span class="co">#   1 | 000000000000</span></a>
<a class="sourceLine" id="cb1-106" title="106"><span class="co">#   2 | 00000000000000000000000000</span></a>
<a class="sourceLine" id="cb1-107" title="107"><span class="co">#   3 | 00000000000000000000</span></a>
<a class="sourceLine" id="cb1-108" title="108"><span class="co">#   4 | 000000000000</span></a>
<a class="sourceLine" id="cb1-109" title="109"><span class="co">#   5 | 0000000</span></a>
<a class="sourceLine" id="cb1-110" title="110"><span class="co">#   6 | 000000</span></a>
<a class="sourceLine" id="cb1-111" title="111"><span class="co">#   7 | 0000</span></a>
<a class="sourceLine" id="cb1-112" title="112"><span class="co">#   8 | 0</span></a>
<a class="sourceLine" id="cb1-113" title="113"><span class="co">#   9 | 0</span></a>
<a class="sourceLine" id="cb1-114" title="114"><span class="co">#  10 | 0</span></a>
<a class="sourceLine" id="cb1-115" title="115"><span class="co">#  11 |</span></a>
<a class="sourceLine" id="cb1-116" title="116"><span class="co">#  12 | 0</span></a>
<a class="sourceLine" id="cb1-117" title="117"></a>
<a class="sourceLine" id="cb1-118" title="118"><span class="kw">max</span>(discoveries)</a>
<a class="sourceLine" id="cb1-119" title="119"><span class="co"># 12</span></a>
<a class="sourceLine" id="cb1-120" title="120"><span class="kw">summary</span>(discoveries)</a>
<a class="sourceLine" id="cb1-121" title="121"><span class="co">#   Min. 1st Qu.  Median    Mean 3rd Qu.    Max.</span></a>
<a class="sourceLine" id="cb1-122" title="122"><span class="co">#    0.0     2.0     3.0     3.1     4.0    12.0</span></a>
<a class="sourceLine" id="cb1-123" title="123"></a>
<a class="sourceLine" id="cb1-124" title="124"><span class="co"># Roll a die a few times</span></a>
<a class="sourceLine" id="cb1-125" title="125"><span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">7</span>, <span class="dt">min=</span>.<span class="dv">5</span>, <span class="dt">max=</span><span class="fl">6.5</span>))</a>
<a class="sourceLine" id="cb1-126" title="126"><span class="co"># 1 4 6 1 4 6 4</span></a>
<a class="sourceLine" id="cb1-127" title="127"><span class="co"># Your numbers will differ from mine unless we set the same random.seed(31337)</span></a>
<a class="sourceLine" id="cb1-128" title="128"></a>
<a class="sourceLine" id="cb1-129" title="129"><span class="co"># Draw from a standard Gaussian 9 times</span></a>
<a class="sourceLine" id="cb1-130" title="130"><span class="kw">rnorm</span>(<span class="dv">9</span>)</a>
<a class="sourceLine" id="cb1-131" title="131"><span class="co"># [1]  0.07528471  1.03499859  1.34809556 -0.82356087  0.61638975 -1.88757271</span></a>
<a class="sourceLine" id="cb1-132" title="132"><span class="co"># [7] -0.59975593  0.57629164  1.08455362</span></a>
<a class="sourceLine" id="cb1-133" title="133"></a>
<a class="sourceLine" id="cb1-134" title="134"></a>
<a class="sourceLine" id="cb1-135" title="135"></a>
<a class="sourceLine" id="cb1-136" title="136"><span class="co">##################################################</span></a>
<a class="sourceLine" id="cb1-137" title="137"><span class="co"># Data types and basic arithmetic</span></a>
<a class="sourceLine" id="cb1-138" title="138"><span class="co">##################################################</span></a>
<a class="sourceLine" id="cb1-139" title="139"></a>
<a class="sourceLine" id="cb1-140" title="140"><span class="co"># Now for the programming-oriented part of the tutorial.</span></a>
<a class="sourceLine" id="cb1-141" title="141"><span class="co"># In this section you will meet the important data types of R:</span></a>
<a class="sourceLine" id="cb1-142" title="142"><span class="co"># integers, numerics, characters, logicals, and factors.</span></a>
<a class="sourceLine" id="cb1-143" title="143"><span class="co"># There are others, but these are the bare minimum you need to</span></a>
<a class="sourceLine" id="cb1-144" title="144"><span class="co"># get started.</span></a>
<a class="sourceLine" id="cb1-145" title="145"></a>
<a class="sourceLine" id="cb1-146" title="146"><span class="co"># INTEGERS</span></a>
<a class="sourceLine" id="cb1-147" title="147"><span class="co"># Long-storage integers are written with L</span></a>
<a class="sourceLine" id="cb1-148" title="148">5L <span class="co"># 5</span></a>
<a class="sourceLine" id="cb1-149" title="149"><span class="kw">class</span>(5L) <span class="co"># &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb1-150" title="150"><span class="co"># (Try ?class for more information on the class() function.)</span></a>
<a class="sourceLine" id="cb1-151" title="151"><span class="co"># In R, every single value, like 5L, is considered a vector of length 1</span></a>
<a class="sourceLine" id="cb1-152" title="152"><span class="kw">length</span>(5L) <span class="co"># 1</span></a>
<a class="sourceLine" id="cb1-153" title="153"><span class="co"># You can have an integer vector with length &gt; 1 too:</span></a>
<a class="sourceLine" id="cb1-154" title="154"><span class="kw">c</span>(4L, 5L, 8L, 3L) <span class="co"># 4 5 8 3</span></a>
<a class="sourceLine" id="cb1-155" title="155"><span class="kw">length</span>(<span class="kw">c</span>(4L, 5L, 8L, 3L)) <span class="co"># 4</span></a>
<a class="sourceLine" id="cb1-156" title="156"><span class="kw">class</span>(<span class="kw">c</span>(4L, 5L, 8L, 3L)) <span class="co"># &quot;integer&quot;</span></a>
<a class="sourceLine" id="cb1-157" title="157"></a>
<a class="sourceLine" id="cb1-158" title="158"><span class="co"># NUMERICS</span></a>
<a class="sourceLine" id="cb1-159" title="159"><span class="co"># A &quot;numeric&quot; is a double-precision floating-point number</span></a>
<a class="sourceLine" id="cb1-160" title="160"><span class="dv">5</span> <span class="co"># 5</span></a>
<a class="sourceLine" id="cb1-161" title="161"><span class="kw">class</span>(<span class="dv">5</span>) <span class="co"># &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb1-162" title="162"><span class="co"># Again, everything in R is a vector;</span></a>
<a class="sourceLine" id="cb1-163" title="163"><span class="co"># you can make a numeric vector with more than one element</span></a>
<a class="sourceLine" id="cb1-164" title="164"><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>) <span class="co"># 3 3 3 2 2 1</span></a>
<a class="sourceLine" id="cb1-165" title="165"><span class="co"># You can use scientific notation too</span></a>
<a class="sourceLine" id="cb1-166" title="166"><span class="fl">5e4</span> <span class="co"># 50000</span></a>
<a class="sourceLine" id="cb1-167" title="167"><span class="fl">6.02e23</span> <span class="co"># Avogadro&#39;s number</span></a>
<a class="sourceLine" id="cb1-168" title="168"><span class="fl">1.6e-35</span> <span class="co"># Planck length</span></a>
<a class="sourceLine" id="cb1-169" title="169"><span class="co"># You can also have infinitely large or small numbers</span></a>
<a class="sourceLine" id="cb1-170" title="170"><span class="kw">class</span>(<span class="ot">Inf</span>)  <span class="co"># &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb1-171" title="171"><span class="kw">class</span>(<span class="op">-</span><span class="ot">Inf</span>) <span class="co"># &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb1-172" title="172"><span class="co"># You might use &quot;Inf&quot;, for example, in integrate(dnorm, 3, Inf);</span></a>
<a class="sourceLine" id="cb1-173" title="173"><span class="co"># this obviates Z-score tables.</span></a>
<a class="sourceLine" id="cb1-174" title="174"></a>
<a class="sourceLine" id="cb1-175" title="175"><span class="co"># BASIC ARITHMETIC</span></a>
<a class="sourceLine" id="cb1-176" title="176"><span class="co"># You can do arithmetic with numbers</span></a>
<a class="sourceLine" id="cb1-177" title="177"><span class="co"># Doing arithmetic on a mix of integers and numerics gives you another numeric</span></a>
<a class="sourceLine" id="cb1-178" title="178">10L <span class="op">+</span><span class="st"> </span>66L <span class="co"># 76      # integer plus integer gives integer</span></a>
<a class="sourceLine" id="cb1-179" title="179"><span class="fl">53.2</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span>  <span class="co"># 49.2    # numeric minus numeric gives numeric</span></a>
<a class="sourceLine" id="cb1-180" title="180"><span class="fl">2.0</span> <span class="op">*</span><span class="st"> </span>2L  <span class="co"># 4       # numeric times integer gives numeric</span></a>
<a class="sourceLine" id="cb1-181" title="181">3L <span class="op">/</span><span class="st"> </span><span class="dv">4</span>    <span class="co"># 0.75    # integer over numeric gives numeric</span></a>
<a class="sourceLine" id="cb1-182" title="182"><span class="dv">3</span> <span class="op">%%</span><span class="st"> </span><span class="dv">2</span>    <span class="co"># 1       # the remainder of two numerics is another numeric</span></a>
<a class="sourceLine" id="cb1-183" title="183"><span class="co"># Illegal arithmetic yields you a &quot;not-a-number&quot;:</span></a>
<a class="sourceLine" id="cb1-184" title="184"><span class="dv">0</span> <span class="op">/</span><span class="st"> </span><span class="dv">0</span> <span class="co"># NaN</span></a>
<a class="sourceLine" id="cb1-185" title="185"><span class="kw">class</span>(<span class="ot">NaN</span>) <span class="co"># &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb1-186" title="186"><span class="co"># You can do arithmetic on two vectors with length greater than 1,</span></a>
<a class="sourceLine" id="cb1-187" title="187"><span class="co"># so long as the larger vector&#39;s length is an integer multiple of the smaller</span></a>
<a class="sourceLine" id="cb1-188" title="188"><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="op">+</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="co"># 2 4 6</span></a>
<a class="sourceLine" id="cb1-189" title="189"><span class="co"># Since a single number is a vector of length one, scalars are applied</span></a>
<a class="sourceLine" id="cb1-190" title="190"><span class="co"># elementwise to vectors</span></a>
<a class="sourceLine" id="cb1-191" title="191">(<span class="dv">4</span> <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="op">-</span><span class="st"> </span><span class="dv">2</span>) <span class="op">/</span><span class="st"> </span><span class="dv">2</span> <span class="co"># 1 3 5</span></a>
<a class="sourceLine" id="cb1-192" title="192"><span class="co"># Except for scalars, use caution when performing arithmetic on vectors with</span></a>
<a class="sourceLine" id="cb1-193" title="193"><span class="co"># different lengths. Although it can be done,</span></a>
<a class="sourceLine" id="cb1-194" title="194"><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>) <span class="co"># 1 4 3 2 2 6</span></a>
<a class="sourceLine" id="cb1-195" title="195"><span class="co"># Matching lengths is better practice and easier to read</span></a>
<a class="sourceLine" id="cb1-196" title="196"><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>) <span class="op">*</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb1-197" title="197"></a>
<a class="sourceLine" id="cb1-198" title="198"><span class="co"># CHARACTERS</span></a>
<a class="sourceLine" id="cb1-199" title="199"><span class="co"># There&#39;s no difference between strings and characters in R</span></a>
<a class="sourceLine" id="cb1-200" title="200"><span class="st">&quot;Horatio&quot;</span> <span class="co"># &quot;Horatio&quot;</span></a>
<a class="sourceLine" id="cb1-201" title="201"><span class="kw">class</span>(<span class="st">&quot;Horatio&quot;</span>) <span class="co"># &quot;character&quot;</span></a>
<a class="sourceLine" id="cb1-202" title="202"><span class="kw">class</span>(<span class="st">&#39;H&#39;</span>) <span class="co"># &quot;character&quot;</span></a>
<a class="sourceLine" id="cb1-203" title="203"><span class="co"># Those were both character vectors of length 1</span></a>
<a class="sourceLine" id="cb1-204" title="204"><span class="co"># Here is a longer one:</span></a>
<a class="sourceLine" id="cb1-205" title="205"><span class="kw">c</span>(<span class="st">&#39;alef&#39;</span>, <span class="st">&#39;bet&#39;</span>, <span class="st">&#39;gimmel&#39;</span>, <span class="st">&#39;dalet&#39;</span>, <span class="st">&#39;he&#39;</span>)</a>
<a class="sourceLine" id="cb1-206" title="206"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-207" title="207"><span class="co"># &quot;alef&quot;   &quot;bet&quot;    &quot;gimmel&quot; &quot;dalet&quot;  &quot;he&quot;</span></a>
<a class="sourceLine" id="cb1-208" title="208"><span class="kw">length</span>(<span class="kw">c</span>(<span class="st">&quot;Call&quot;</span>,<span class="st">&quot;me&quot;</span>,<span class="st">&quot;Ishmael&quot;</span>)) <span class="co"># 3</span></a>
<a class="sourceLine" id="cb1-209" title="209"><span class="co"># You can do regex operations on character vectors:</span></a>
<a class="sourceLine" id="cb1-210" title="210"><span class="kw">substr</span>(<span class="st">&quot;Fortuna multis dat nimis, nulli satis.&quot;</span>, <span class="dv">9</span>, <span class="dv">15</span>) <span class="co"># &quot;multis &quot;</span></a>
<a class="sourceLine" id="cb1-211" title="211"><span class="kw">gsub</span>(<span class="st">&#39;u&#39;</span>, <span class="st">&#39;ø&#39;</span>, <span class="st">&quot;Fortuna multis dat nimis, nulli satis.&quot;</span>) <span class="co"># &quot;Fortøna møltis dat nimis, nølli satis.&quot;</span></a>
<a class="sourceLine" id="cb1-212" title="212"><span class="co"># R has several built-in character vectors:</span></a>
<a class="sourceLine" id="cb1-213" title="213">letters</a>
<a class="sourceLine" id="cb1-214" title="214"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-215" title="215"><span class="co">#  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;</span></a>
<a class="sourceLine" id="cb1-216" title="216"><span class="co"># [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</span></a>
<a class="sourceLine" id="cb1-217" title="217">month.abb <span class="co"># &quot;Jan&quot; &quot;Feb&quot; &quot;Mar&quot; &quot;Apr&quot; &quot;May&quot; &quot;Jun&quot; &quot;Jul&quot; &quot;Aug&quot; &quot;Sep&quot; &quot;Oct&quot; &quot;Nov&quot; &quot;Dec&quot;</span></a>
<a class="sourceLine" id="cb1-218" title="218"></a>
<a class="sourceLine" id="cb1-219" title="219"><span class="co"># LOGICALS</span></a>
<a class="sourceLine" id="cb1-220" title="220"><span class="co"># In R, a &quot;logical&quot; is a boolean</span></a>
<a class="sourceLine" id="cb1-221" title="221"><span class="kw">class</span>(<span class="ot">TRUE</span>) <span class="co"># &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb1-222" title="222"><span class="kw">class</span>(<span class="ot">FALSE</span>)    <span class="co"># &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb1-223" title="223"><span class="co"># Their behavior is normal</span></a>
<a class="sourceLine" id="cb1-224" title="224"><span class="ot">TRUE</span> <span class="op">==</span><span class="st"> </span><span class="ot">TRUE</span>    <span class="co"># TRUE</span></a>
<a class="sourceLine" id="cb1-225" title="225"><span class="ot">TRUE</span> <span class="op">==</span><span class="st"> </span><span class="ot">FALSE</span>   <span class="co"># FALSE</span></a>
<a class="sourceLine" id="cb1-226" title="226"><span class="ot">FALSE</span> <span class="op">!=</span><span class="st"> </span><span class="ot">FALSE</span>  <span class="co"># FALSE</span></a>
<a class="sourceLine" id="cb1-227" title="227"><span class="ot">FALSE</span> <span class="op">!=</span><span class="st"> </span><span class="ot">TRUE</span>   <span class="co"># TRUE</span></a>
<a class="sourceLine" id="cb1-228" title="228"><span class="co"># Missing data (NA) is logical, too</span></a>
<a class="sourceLine" id="cb1-229" title="229"><span class="kw">class</span>(<span class="ot">NA</span>)   <span class="co"># &quot;logical&quot;</span></a>
<a class="sourceLine" id="cb1-230" title="230"><span class="co"># Use | and &amp; for logic operations.</span></a>
<a class="sourceLine" id="cb1-231" title="231"><span class="co"># OR</span></a>
<a class="sourceLine" id="cb1-232" title="232"><span class="ot">TRUE</span> <span class="op">|</span><span class="st"> </span><span class="ot">FALSE</span>    <span class="co"># TRUE</span></a>
<a class="sourceLine" id="cb1-233" title="233"><span class="co"># AND</span></a>
<a class="sourceLine" id="cb1-234" title="234"><span class="ot">TRUE</span> <span class="op">&amp;</span><span class="st"> </span><span class="ot">FALSE</span>    <span class="co"># FALSE</span></a>
<a class="sourceLine" id="cb1-235" title="235"><span class="co"># Applying | and &amp; to vectors returns elementwise logic operations</span></a>
<a class="sourceLine" id="cb1-236" title="236"><span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">FALSE</span>) <span class="op">|</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">FALSE</span>) <span class="co"># TRUE TRUE FALSE</span></a>
<a class="sourceLine" id="cb1-237" title="237"><span class="kw">c</span>(<span class="ot">TRUE</span>,<span class="ot">FALSE</span>,<span class="ot">TRUE</span>) <span class="op">&amp;</span><span class="st"> </span><span class="kw">c</span>(<span class="ot">FALSE</span>,<span class="ot">TRUE</span>,<span class="ot">TRUE</span>) <span class="co"># FALSE FALSE TRUE</span></a>
<a class="sourceLine" id="cb1-238" title="238"><span class="co"># You can test if x is TRUE</span></a>
<a class="sourceLine" id="cb1-239" title="239"><span class="kw">isTRUE</span>(<span class="ot">TRUE</span>)    <span class="co"># TRUE</span></a>
<a class="sourceLine" id="cb1-240" title="240"><span class="co"># Here we get a logical vector with many elements:</span></a>
<a class="sourceLine" id="cb1-241" title="241"><span class="kw">c</span>(<span class="st">&#39;Z&#39;</span>, <span class="st">&#39;o&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="st">&#39;o&#39;</span>) <span class="op">==</span><span class="st"> &quot;Zorro&quot;</span> <span class="co"># FALSE FALSE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb1-242" title="242"><span class="kw">c</span>(<span class="st">&#39;Z&#39;</span>, <span class="st">&#39;o&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="st">&#39;r&#39;</span>, <span class="st">&#39;o&#39;</span>) <span class="op">==</span><span class="st"> &quot;Z&quot;</span> <span class="co"># TRUE FALSE FALSE FALSE FALSE</span></a>
<a class="sourceLine" id="cb1-243" title="243"></a>
<a class="sourceLine" id="cb1-244" title="244"><span class="co"># FACTORS</span></a>
<a class="sourceLine" id="cb1-245" title="245"><span class="co"># The factor class is for categorical data</span></a>
<a class="sourceLine" id="cb1-246" title="246"><span class="co"># Factors can be ordered (like childrens&#39; grade levels) or unordered (like colors)</span></a>
<a class="sourceLine" id="cb1-247" title="247"><span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;blue&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;blue&quot;</span>))</a>
<a class="sourceLine" id="cb1-248" title="248"><span class="co">#  blue blue green   &lt;NA&gt;   blue</span></a>
<a class="sourceLine" id="cb1-249" title="249"><span class="co"># Levels: blue green</span></a>
<a class="sourceLine" id="cb1-250" title="250"><span class="co"># The &quot;levels&quot; are the values the categorical data can take</span></a>
<a class="sourceLine" id="cb1-251" title="251"><span class="co"># Note that missing data does not enter the levels</span></a>
<a class="sourceLine" id="cb1-252" title="252"><span class="kw">levels</span>(<span class="kw">factor</span>(<span class="kw">c</span>(<span class="st">&quot;green&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;blue&quot;</span>))) <span class="co"># &quot;blue&quot; &quot;green&quot;</span></a>
<a class="sourceLine" id="cb1-253" title="253"><span class="co"># If a factor vector has length 1, its levels will have length 1, too</span></a>
<a class="sourceLine" id="cb1-254" title="254"><span class="kw">length</span>(<span class="kw">factor</span>(<span class="st">&quot;green&quot;</span>)) <span class="co"># 1</span></a>
<a class="sourceLine" id="cb1-255" title="255"><span class="kw">length</span>(<span class="kw">levels</span>(<span class="kw">factor</span>(<span class="st">&quot;green&quot;</span>))) <span class="co"># 1</span></a>
<a class="sourceLine" id="cb1-256" title="256"><span class="co"># Factors are commonly seen in data frames, a data structure we will cover later</span></a>
<a class="sourceLine" id="cb1-257" title="257"><span class="kw">data</span>(infert) <span class="co"># &quot;Infertility after Spontaneous and Induced Abortion&quot;</span></a>
<a class="sourceLine" id="cb1-258" title="258"><span class="kw">levels</span>(infert<span class="op">$</span>education) <span class="co"># &quot;0-5yrs&quot;  &quot;6-11yrs&quot; &quot;12+ yrs&quot;</span></a>
<a class="sourceLine" id="cb1-259" title="259"></a>
<a class="sourceLine" id="cb1-260" title="260"><span class="co"># NULL</span></a>
<a class="sourceLine" id="cb1-261" title="261"><span class="co"># &quot;NULL&quot; is a weird one; use it to &quot;blank out&quot; a vector</span></a>
<a class="sourceLine" id="cb1-262" title="262"><span class="kw">class</span>(<span class="ot">NULL</span>) <span class="co"># NULL</span></a>
<a class="sourceLine" id="cb1-263" title="263">parakeet =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;beak&quot;</span>, <span class="st">&quot;feathers&quot;</span>, <span class="st">&quot;wings&quot;</span>, <span class="st">&quot;eyes&quot;</span>)</a>
<a class="sourceLine" id="cb1-264" title="264">parakeet</a>
<a class="sourceLine" id="cb1-265" title="265"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-266" title="266"><span class="co"># [1] &quot;beak&quot;     &quot;feathers&quot; &quot;wings&quot;    &quot;eyes&quot;</span></a>
<a class="sourceLine" id="cb1-267" title="267">parakeet &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb1-268" title="268">parakeet</a>
<a class="sourceLine" id="cb1-269" title="269"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-270" title="270"><span class="co"># NULL</span></a>
<a class="sourceLine" id="cb1-271" title="271"></a>
<a class="sourceLine" id="cb1-272" title="272"><span class="co"># TYPE COERCION</span></a>
<a class="sourceLine" id="cb1-273" title="273"><span class="co"># Type-coercion is when you force a value to take on a different type</span></a>
<a class="sourceLine" id="cb1-274" title="274"><span class="kw">as.character</span>(<span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">8</span>)) <span class="co"># &quot;6&quot; &quot;8&quot;</span></a>
<a class="sourceLine" id="cb1-275" title="275"><span class="kw">as.logical</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">1</span>)) <span class="co"># TRUE FALSE  TRUE  TRUE</span></a>
<a class="sourceLine" id="cb1-276" title="276"><span class="co"># If you put elements of different types into a vector, weird coercions happen:</span></a>
<a class="sourceLine" id="cb1-277" title="277"><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="dv">4</span>) <span class="co"># 1 4</span></a>
<a class="sourceLine" id="cb1-278" title="278"><span class="kw">c</span>(<span class="st">&quot;dog&quot;</span>, <span class="ot">TRUE</span>, <span class="dv">4</span>) <span class="co"># &quot;dog&quot;  &quot;TRUE&quot; &quot;4&quot;</span></a>
<a class="sourceLine" id="cb1-279" title="279"><span class="kw">as.numeric</span>(<span class="st">&quot;Bilbo&quot;</span>)</a>
<a class="sourceLine" id="cb1-280" title="280"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-281" title="281"><span class="co"># [1] NA</span></a>
<a class="sourceLine" id="cb1-282" title="282"><span class="co"># Warning message:</span></a>
<a class="sourceLine" id="cb1-283" title="283"><span class="co"># NAs introduced by coercion</span></a>
<a class="sourceLine" id="cb1-284" title="284"></a>
<a class="sourceLine" id="cb1-285" title="285"><span class="co"># Also note: those were just the basic data types</span></a>
<a class="sourceLine" id="cb1-286" title="286"><span class="co"># There are many more data types, such as for dates, time series, etc.</span></a>
<a class="sourceLine" id="cb1-287" title="287"></a>
<a class="sourceLine" id="cb1-288" title="288"></a>
<a class="sourceLine" id="cb1-289" title="289"></a>
<a class="sourceLine" id="cb1-290" title="290"><span class="co">##################################################</span></a>
<a class="sourceLine" id="cb1-291" title="291"><span class="co"># Variables, loops, if/else</span></a>
<a class="sourceLine" id="cb1-292" title="292"><span class="co">##################################################</span></a>
<a class="sourceLine" id="cb1-293" title="293"></a>
<a class="sourceLine" id="cb1-294" title="294"><span class="co"># A variable is like a box you store a value in for later use.</span></a>
<a class="sourceLine" id="cb1-295" title="295"><span class="co"># We call this &quot;assigning&quot; the value to the variable.</span></a>
<a class="sourceLine" id="cb1-296" title="296"><span class="co"># Having variables lets us write loops, functions, and if/else statements</span></a>
<a class="sourceLine" id="cb1-297" title="297"></a>
<a class="sourceLine" id="cb1-298" title="298"><span class="co"># VARIABLES</span></a>
<a class="sourceLine" id="cb1-299" title="299"><span class="co"># Lots of way to assign stuff:</span></a>
<a class="sourceLine" id="cb1-300" title="300">x =<span class="st"> </span><span class="dv">5</span> <span class="co"># this is possible</span></a>
<a class="sourceLine" id="cb1-301" title="301">y &lt;-<span class="st"> &quot;1&quot;</span> <span class="co"># this is preferred</span></a>
<a class="sourceLine" id="cb1-302" title="302"><span class="ot">TRUE</span> -&gt;<span class="st"> </span>z <span class="co"># this works but is weird</span></a>
<a class="sourceLine" id="cb1-303" title="303"></a>
<a class="sourceLine" id="cb1-304" title="304"><span class="co"># LOOPS</span></a>
<a class="sourceLine" id="cb1-305" title="305"><span class="co"># We&#39;ve got for loops</span></a>
<a class="sourceLine" id="cb1-306" title="306"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb1-307" title="307">  <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb1-308" title="308">}</a>
<a class="sourceLine" id="cb1-309" title="309"><span class="co"># We&#39;ve got while loops</span></a>
<a class="sourceLine" id="cb1-310" title="310">a &lt;-<span class="st"> </span><span class="dv">10</span></a>
<a class="sourceLine" id="cb1-311" title="311"><span class="cf">while</span> (a <span class="op">&gt;</span><span class="st"> </span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb1-312" title="312">    <span class="kw">cat</span>(a, <span class="st">&quot;...&quot;</span>, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>)</a>
<a class="sourceLine" id="cb1-313" title="313">    a &lt;-<span class="st"> </span>a <span class="op">-</span><span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb1-314" title="314">}</a>
<a class="sourceLine" id="cb1-315" title="315"><span class="co"># Keep in mind that for and while loops run slowly in R</span></a>
<a class="sourceLine" id="cb1-316" title="316"><span class="co"># Operations on entire vectors (i.e. a whole row, a whole column)</span></a>
<a class="sourceLine" id="cb1-317" title="317"><span class="co"># or apply()-type functions (we&#39;ll discuss later) are preferred</span></a>
<a class="sourceLine" id="cb1-318" title="318"></a>
<a class="sourceLine" id="cb1-319" title="319"><span class="co"># IF/ELSE</span></a>
<a class="sourceLine" id="cb1-320" title="320"><span class="co"># Again, pretty standard</span></a>
<a class="sourceLine" id="cb1-321" title="321"><span class="cf">if</span> (<span class="dv">4</span> <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>) {</a>
<a class="sourceLine" id="cb1-322" title="322">    <span class="kw">print</span>(<span class="st">&quot;4 is greater than 3&quot;</span>)</a>
<a class="sourceLine" id="cb1-323" title="323">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb1-324" title="324">    <span class="kw">print</span>(<span class="st">&quot;4 is not greater than 3&quot;</span>)</a>
<a class="sourceLine" id="cb1-325" title="325">}</a>
<a class="sourceLine" id="cb1-326" title="326"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-327" title="327"><span class="co"># [1] &quot;4 is greater than 3&quot;</span></a>
<a class="sourceLine" id="cb1-328" title="328"></a>
<a class="sourceLine" id="cb1-329" title="329"><span class="co"># FUNCTIONS</span></a>
<a class="sourceLine" id="cb1-330" title="330"><span class="co"># Defined like so:</span></a>
<a class="sourceLine" id="cb1-331" title="331">jiggle &lt;-<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb1-332" title="332">    x =<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="kw">rnorm</span>(<span class="dv">1</span>, <span class="dt">sd=</span>.<span class="dv">1</span>) <span class="co">#add in a bit of (controlled) noise</span></a>
<a class="sourceLine" id="cb1-333" title="333">    <span class="kw">return</span>(x)</a>
<a class="sourceLine" id="cb1-334" title="334">}</a>
<a class="sourceLine" id="cb1-335" title="335"><span class="co"># Called like any other R function:</span></a>
<a class="sourceLine" id="cb1-336" title="336"><span class="kw">jiggle</span>(<span class="dv">5</span>)   <span class="co"># 5±ε. After set.seed(2716057), jiggle(5)==5.005043</span></a>
<a class="sourceLine" id="cb1-337" title="337"></a>
<a class="sourceLine" id="cb1-338" title="338"></a>
<a class="sourceLine" id="cb1-339" title="339"></a>
<a class="sourceLine" id="cb1-340" title="340"><span class="co">###########################################################################</span></a>
<a class="sourceLine" id="cb1-341" title="341"><span class="co"># Data structures: Vectors, matrices, data frames, and arrays</span></a>
<a class="sourceLine" id="cb1-342" title="342"><span class="co">###########################################################################</span></a>
<a class="sourceLine" id="cb1-343" title="343"></a>
<a class="sourceLine" id="cb1-344" title="344"><span class="co"># ONE-DIMENSIONAL</span></a>
<a class="sourceLine" id="cb1-345" title="345"></a>
<a class="sourceLine" id="cb1-346" title="346"><span class="co"># Let&#39;s start from the very beginning, and with something you already know: vectors.</span></a>
<a class="sourceLine" id="cb1-347" title="347">vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>, <span class="dv">11</span>)</a>
<a class="sourceLine" id="cb1-348" title="348">vec <span class="co">#  8  9 10 11</span></a>
<a class="sourceLine" id="cb1-349" title="349"><span class="co"># We ask for specific elements by subsetting with square brackets</span></a>
<a class="sourceLine" id="cb1-350" title="350"><span class="co"># (Note that R starts counting from 1)</span></a>
<a class="sourceLine" id="cb1-351" title="351">vec[<span class="dv">1</span>]      <span class="co"># 8</span></a>
<a class="sourceLine" id="cb1-352" title="352">letters[<span class="dv">18</span>] <span class="co"># &quot;r&quot;</span></a>
<a class="sourceLine" id="cb1-353" title="353">LETTERS[<span class="dv">13</span>] <span class="co"># &quot;M&quot;</span></a>
<a class="sourceLine" id="cb1-354" title="354">month.name[<span class="dv">9</span>]   <span class="co"># &quot;September&quot;</span></a>
<a class="sourceLine" id="cb1-355" title="355"><span class="kw">c</span>(<span class="dv">6</span>, <span class="dv">8</span>, <span class="dv">7</span>, <span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">0</span>, <span class="dv">9</span>)[<span class="dv">3</span>]   <span class="co"># 7</span></a>
<a class="sourceLine" id="cb1-356" title="356"><span class="co"># We can also search for the indices of specific components,</span></a>
<a class="sourceLine" id="cb1-357" title="357"><span class="kw">which</span>(vec <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>)    <span class="co"># 1 3</span></a>
<a class="sourceLine" id="cb1-358" title="358"><span class="co"># grab just the first or last few entries in the vector,</span></a>
<a class="sourceLine" id="cb1-359" title="359"><span class="kw">head</span>(vec, <span class="dv">1</span>)    <span class="co"># 8</span></a>
<a class="sourceLine" id="cb1-360" title="360"><span class="kw">tail</span>(vec, <span class="dv">2</span>)    <span class="co"># 10 11</span></a>
<a class="sourceLine" id="cb1-361" title="361"><span class="co"># or figure out if a certain value is in the vector</span></a>
<a class="sourceLine" id="cb1-362" title="362"><span class="kw">any</span>(vec <span class="op">==</span><span class="st"> </span><span class="dv">10</span>) <span class="co"># TRUE</span></a>
<a class="sourceLine" id="cb1-363" title="363"><span class="co"># If an index &quot;goes over&quot; you&#39;ll get NA:</span></a>
<a class="sourceLine" id="cb1-364" title="364">vec[<span class="dv">6</span>]  <span class="co"># NA</span></a>
<a class="sourceLine" id="cb1-365" title="365"><span class="co"># You can find the length of your vector with length()</span></a>
<a class="sourceLine" id="cb1-366" title="366"><span class="kw">length</span>(vec) <span class="co"># 4</span></a>
<a class="sourceLine" id="cb1-367" title="367"><span class="co"># You can perform operations on entire vectors or subsets of vectors</span></a>
<a class="sourceLine" id="cb1-368" title="368">vec <span class="op">*</span><span class="st"> </span><span class="dv">4</span> <span class="co"># 16 20 24 28</span></a>
<a class="sourceLine" id="cb1-369" title="369">vec[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>] <span class="op">*</span><span class="st"> </span><span class="dv">5</span>    <span class="co"># 25 30</span></a>
<a class="sourceLine" id="cb1-370" title="370"><span class="kw">any</span>(vec[<span class="dv">2</span><span class="op">:</span><span class="dv">3</span>] <span class="op">==</span><span class="st"> </span><span class="dv">8</span>) <span class="co"># FALSE</span></a>
<a class="sourceLine" id="cb1-371" title="371"><span class="co"># and R has many built-in functions to summarize vectors</span></a>
<a class="sourceLine" id="cb1-372" title="372"><span class="kw">mean</span>(vec)   <span class="co"># 9.5</span></a>
<a class="sourceLine" id="cb1-373" title="373"><span class="kw">var</span>(vec)    <span class="co"># 1.666667</span></a>
<a class="sourceLine" id="cb1-374" title="374"><span class="kw">sd</span>(vec)     <span class="co"># 1.290994</span></a>
<a class="sourceLine" id="cb1-375" title="375"><span class="kw">max</span>(vec)    <span class="co"># 11</span></a>
<a class="sourceLine" id="cb1-376" title="376"><span class="kw">min</span>(vec)    <span class="co"># 8</span></a>
<a class="sourceLine" id="cb1-377" title="377"><span class="kw">sum</span>(vec)    <span class="co"># 38</span></a>
<a class="sourceLine" id="cb1-378" title="378"><span class="co"># Some more nice built-ins:</span></a>
<a class="sourceLine" id="cb1-379" title="379"><span class="dv">5</span><span class="op">:</span><span class="dv">15</span>    <span class="co"># 5  6  7  8  9 10 11 12 13 14 15</span></a>
<a class="sourceLine" id="cb1-380" title="380"><span class="kw">seq</span>(<span class="dt">from=</span><span class="dv">0</span>, <span class="dt">to=</span><span class="dv">31337</span>, <span class="dt">by=</span><span class="dv">1337</span>)</a>
<a class="sourceLine" id="cb1-381" title="381"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-382" title="382"><span class="co">#  [1]     0  1337  2674  4011  5348  6685  8022  9359 10696 12033 13370 14707</span></a>
<a class="sourceLine" id="cb1-383" title="383"><span class="co"># [13] 16044 17381 18718 20055 21392 22729 24066 25403 26740 28077 29414 30751</span></a>
<a class="sourceLine" id="cb1-384" title="384"></a>
<a class="sourceLine" id="cb1-385" title="385"><span class="co"># TWO-DIMENSIONAL (ALL ONE CLASS)</span></a>
<a class="sourceLine" id="cb1-386" title="386"></a>
<a class="sourceLine" id="cb1-387" title="387"><span class="co"># You can make a matrix out of entries all of the same type like so:</span></a>
<a class="sourceLine" id="cb1-388" title="388">mat &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">2</span>, <span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>))</a>
<a class="sourceLine" id="cb1-389" title="389">mat</a>
<a class="sourceLine" id="cb1-390" title="390"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-391" title="391"><span class="co">#      [,1] [,2]</span></a>
<a class="sourceLine" id="cb1-392" title="392"><span class="co"># [1,]    1    4</span></a>
<a class="sourceLine" id="cb1-393" title="393"><span class="co"># [2,]    2    5</span></a>
<a class="sourceLine" id="cb1-394" title="394"><span class="co"># [3,]    3    6</span></a>
<a class="sourceLine" id="cb1-395" title="395"><span class="co"># Unlike a vector, the class of a matrix is &quot;matrix&quot;, no matter what&#39;s in it</span></a>
<a class="sourceLine" id="cb1-396" title="396"><span class="kw">class</span>(mat) <span class="co"># =&gt; &quot;matrix&quot;</span></a>
<a class="sourceLine" id="cb1-397" title="397"><span class="co"># Ask for the first row</span></a>
<a class="sourceLine" id="cb1-398" title="398">mat[<span class="dv">1</span>,] <span class="co"># 1 4</span></a>
<a class="sourceLine" id="cb1-399" title="399"><span class="co"># Perform operation on the first column</span></a>
<a class="sourceLine" id="cb1-400" title="400"><span class="dv">3</span> <span class="op">*</span><span class="st"> </span>mat[,<span class="dv">1</span>] <span class="co"># 3 6 9</span></a>
<a class="sourceLine" id="cb1-401" title="401"><span class="co"># Ask for a specific cell</span></a>
<a class="sourceLine" id="cb1-402" title="402">mat[<span class="dv">3</span>,<span class="dv">2</span>]    <span class="co"># 6</span></a>
<a class="sourceLine" id="cb1-403" title="403"></a>
<a class="sourceLine" id="cb1-404" title="404"><span class="co"># Transpose the whole matrix</span></a>
<a class="sourceLine" id="cb1-405" title="405"><span class="kw">t</span>(mat)</a>
<a class="sourceLine" id="cb1-406" title="406"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-407" title="407"><span class="co">#      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb1-408" title="408"><span class="co"># [1,]    1    2    3</span></a>
<a class="sourceLine" id="cb1-409" title="409"><span class="co"># [2,]    4    5    6</span></a>
<a class="sourceLine" id="cb1-410" title="410"></a>
<a class="sourceLine" id="cb1-411" title="411"><span class="co"># Matrix multiplication</span></a>
<a class="sourceLine" id="cb1-412" title="412">mat <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(mat)</a>
<a class="sourceLine" id="cb1-413" title="413"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-414" title="414"><span class="co">#      [,1] [,2] [,3]</span></a>
<a class="sourceLine" id="cb1-415" title="415"><span class="co"># [1,]   17   22   27</span></a>
<a class="sourceLine" id="cb1-416" title="416"><span class="co"># [2,]   22   29   36</span></a>
<a class="sourceLine" id="cb1-417" title="417"><span class="co"># [3,]   27   36   45</span></a>
<a class="sourceLine" id="cb1-418" title="418"></a>
<a class="sourceLine" id="cb1-419" title="419"><span class="co"># cbind() sticks vectors together column-wise to make a matrix</span></a>
<a class="sourceLine" id="cb1-420" title="420">mat2 &lt;-<span class="st"> </span><span class="kw">cbind</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">4</span>, <span class="kw">c</span>(<span class="st">&quot;dog&quot;</span>, <span class="st">&quot;cat&quot;</span>, <span class="st">&quot;bird&quot;</span>, <span class="st">&quot;dog&quot;</span>))</a>
<a class="sourceLine" id="cb1-421" title="421">mat2</a>
<a class="sourceLine" id="cb1-422" title="422"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-423" title="423"><span class="co">#      [,1] [,2]</span></a>
<a class="sourceLine" id="cb1-424" title="424"><span class="co"># [1,] &quot;1&quot;  &quot;dog&quot;</span></a>
<a class="sourceLine" id="cb1-425" title="425"><span class="co"># [2,] &quot;2&quot;  &quot;cat&quot;</span></a>
<a class="sourceLine" id="cb1-426" title="426"><span class="co"># [3,] &quot;3&quot;  &quot;bird&quot;</span></a>
<a class="sourceLine" id="cb1-427" title="427"><span class="co"># [4,] &quot;4&quot;  &quot;dog&quot;</span></a>
<a class="sourceLine" id="cb1-428" title="428"><span class="kw">class</span>(mat2) <span class="co"># matrix</span></a>
<a class="sourceLine" id="cb1-429" title="429"><span class="co"># Again, note what happened!</span></a>
<a class="sourceLine" id="cb1-430" title="430"><span class="co"># Because matrices must contain entries all of the same class,</span></a>
<a class="sourceLine" id="cb1-431" title="431"><span class="co"># everything got converted to the character class</span></a>
<a class="sourceLine" id="cb1-432" title="432"><span class="kw">c</span>(<span class="kw">class</span>(mat2[,<span class="dv">1</span>]), <span class="kw">class</span>(mat2[,<span class="dv">2</span>]))</a>
<a class="sourceLine" id="cb1-433" title="433"></a>
<a class="sourceLine" id="cb1-434" title="434"><span class="co"># rbind() sticks vectors together row-wise to make a matrix</span></a>
<a class="sourceLine" id="cb1-435" title="435">mat3 &lt;-<span class="st"> </span><span class="kw">rbind</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>), <span class="kw">c</span>(<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">0</span>,<span class="dv">4</span>))</a>
<a class="sourceLine" id="cb1-436" title="436">mat3</a>
<a class="sourceLine" id="cb1-437" title="437"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-438" title="438"><span class="co">#      [,1] [,2] [,3] [,4]</span></a>
<a class="sourceLine" id="cb1-439" title="439"><span class="co"># [1,]    1    2    4    5</span></a>
<a class="sourceLine" id="cb1-440" title="440"><span class="co"># [2,]    6    7    0    4</span></a>
<a class="sourceLine" id="cb1-441" title="441"><span class="co"># Ah, everything of the same class. No coercions. Much better.</span></a>
<a class="sourceLine" id="cb1-442" title="442"></a>
<a class="sourceLine" id="cb1-443" title="443"><span class="co"># TWO-DIMENSIONAL (DIFFERENT CLASSES)</span></a>
<a class="sourceLine" id="cb1-444" title="444"></a>
<a class="sourceLine" id="cb1-445" title="445"><span class="co"># For columns of different types, use a data frame</span></a>
<a class="sourceLine" id="cb1-446" title="446"><span class="co"># This data structure is so useful for statistical programming,</span></a>
<a class="sourceLine" id="cb1-447" title="447"><span class="co"># a version of it was added to Python in the package &quot;pandas&quot;.</span></a>
<a class="sourceLine" id="cb1-448" title="448"></a>
<a class="sourceLine" id="cb1-449" title="449">students &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="kw">c</span>(<span class="st">&quot;Cedric&quot;</span>,<span class="st">&quot;Fred&quot;</span>,<span class="st">&quot;George&quot;</span>,<span class="st">&quot;Cho&quot;</span>,<span class="st">&quot;Draco&quot;</span>,<span class="st">&quot;Ginny&quot;</span>),</a>
<a class="sourceLine" id="cb1-450" title="450">                       <span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">1</span>,<span class="dv">0</span>,<span class="op">-</span><span class="dv">1</span>),</a>
<a class="sourceLine" id="cb1-451" title="451">                       <span class="kw">c</span>(<span class="st">&quot;H&quot;</span>, <span class="st">&quot;G&quot;</span>, <span class="st">&quot;G&quot;</span>, <span class="st">&quot;R&quot;</span>, <span class="st">&quot;S&quot;</span>, <span class="st">&quot;G&quot;</span>))</a>
<a class="sourceLine" id="cb1-452" title="452"><span class="kw">names</span>(students) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;year&quot;</span>, <span class="st">&quot;house&quot;</span>) <span class="co"># name the columns</span></a>
<a class="sourceLine" id="cb1-453" title="453"><span class="kw">class</span>(students) <span class="co"># &quot;data.frame&quot;</span></a>
<a class="sourceLine" id="cb1-454" title="454">students</a>
<a class="sourceLine" id="cb1-455" title="455"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-456" title="456"><span class="co">#     name year house</span></a>
<a class="sourceLine" id="cb1-457" title="457"><span class="co"># 1 Cedric    3     H</span></a>
<a class="sourceLine" id="cb1-458" title="458"><span class="co"># 2   Fred    2     G</span></a>
<a class="sourceLine" id="cb1-459" title="459"><span class="co"># 3 George    2     G</span></a>
<a class="sourceLine" id="cb1-460" title="460"><span class="co"># 4    Cho    1     R</span></a>
<a class="sourceLine" id="cb1-461" title="461"><span class="co"># 5  Draco    0     S</span></a>
<a class="sourceLine" id="cb1-462" title="462"><span class="co"># 6  Ginny   -1     G</span></a>
<a class="sourceLine" id="cb1-463" title="463"><span class="kw">class</span>(students<span class="op">$</span>year)    <span class="co"># &quot;numeric&quot;</span></a>
<a class="sourceLine" id="cb1-464" title="464"><span class="kw">class</span>(students[,<span class="dv">3</span>]) <span class="co"># &quot;factor&quot;</span></a>
<a class="sourceLine" id="cb1-465" title="465"><span class="co"># find the dimensions</span></a>
<a class="sourceLine" id="cb1-466" title="466"><span class="kw">nrow</span>(students)  <span class="co"># 6</span></a>
<a class="sourceLine" id="cb1-467" title="467"><span class="kw">ncol</span>(students)  <span class="co"># 3</span></a>
<a class="sourceLine" id="cb1-468" title="468"><span class="kw">dim</span>(students)   <span class="co"># 6 3</span></a>
<a class="sourceLine" id="cb1-469" title="469"><span class="co"># The data.frame() function converts character vectors to factor vectors</span></a>
<a class="sourceLine" id="cb1-470" title="470"><span class="co"># by default; turn this off by setting stringsAsFactors = FALSE when</span></a>
<a class="sourceLine" id="cb1-471" title="471"><span class="co"># you create the data.frame</span></a>
<a class="sourceLine" id="cb1-472" title="472">?data.frame</a>
<a class="sourceLine" id="cb1-473" title="473"></a>
<a class="sourceLine" id="cb1-474" title="474"><span class="co"># There are many twisty ways to subset data frames, all subtly unalike</span></a>
<a class="sourceLine" id="cb1-475" title="475">students<span class="op">$</span>year   <span class="co"># 3  2  2  1  0 -1</span></a>
<a class="sourceLine" id="cb1-476" title="476">students[,<span class="dv">2</span>]    <span class="co"># 3  2  2  1  0 -1</span></a>
<a class="sourceLine" id="cb1-477" title="477">students[,<span class="st">&quot;year&quot;</span>]   <span class="co"># 3  2  2  1  0 -1</span></a>
<a class="sourceLine" id="cb1-478" title="478"></a>
<a class="sourceLine" id="cb1-479" title="479"><span class="co"># An augmented version of the data.frame structure is the data.table</span></a>
<a class="sourceLine" id="cb1-480" title="480"><span class="co"># If you&#39;re working with huge or panel data, or need to merge a few data</span></a>
<a class="sourceLine" id="cb1-481" title="481"><span class="co"># sets, data.table can be a good choice. Here&#39;s a whirlwind tour:</span></a>
<a class="sourceLine" id="cb1-482" title="482"><span class="kw">install.packages</span>(<span class="st">&quot;data.table&quot;</span>) <span class="co"># download the package from CRAN</span></a>
<a class="sourceLine" id="cb1-483" title="483"><span class="kw">require</span>(data.table) <span class="co"># load it</span></a>
<a class="sourceLine" id="cb1-484" title="484">students &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(students)</a>
<a class="sourceLine" id="cb1-485" title="485">students <span class="co"># note the slightly different print-out</span></a>
<a class="sourceLine" id="cb1-486" title="486"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-487" title="487"><span class="co">#      name year house</span></a>
<a class="sourceLine" id="cb1-488" title="488"><span class="co"># 1: Cedric    3     H</span></a>
<a class="sourceLine" id="cb1-489" title="489"><span class="co"># 2:   Fred    2     G</span></a>
<a class="sourceLine" id="cb1-490" title="490"><span class="co"># 3: George    2     G</span></a>
<a class="sourceLine" id="cb1-491" title="491"><span class="co"># 4:    Cho    1     R</span></a>
<a class="sourceLine" id="cb1-492" title="492"><span class="co"># 5:  Draco    0     S</span></a>
<a class="sourceLine" id="cb1-493" title="493"><span class="co"># 6:  Ginny   -1     G</span></a>
<a class="sourceLine" id="cb1-494" title="494">students[name<span class="op">==</span><span class="st">&quot;Ginny&quot;</span>] <span class="co"># get rows with name == &quot;Ginny&quot;</span></a>
<a class="sourceLine" id="cb1-495" title="495"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-496" title="496"><span class="co">#     name year house</span></a>
<a class="sourceLine" id="cb1-497" title="497"><span class="co"># 1: Ginny   -1     G</span></a>
<a class="sourceLine" id="cb1-498" title="498">students[year<span class="op">==</span><span class="dv">2</span>] <span class="co"># get rows with year == 2</span></a>
<a class="sourceLine" id="cb1-499" title="499"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-500" title="500"><span class="co">#      name year house</span></a>
<a class="sourceLine" id="cb1-501" title="501"><span class="co"># 1:   Fred    2     G</span></a>
<a class="sourceLine" id="cb1-502" title="502"><span class="co"># 2: George    2     G</span></a>
<a class="sourceLine" id="cb1-503" title="503"><span class="co"># data.table makes merging two data sets easy</span></a>
<a class="sourceLine" id="cb1-504" title="504"><span class="co"># let&#39;s make another data.table to merge with students</span></a>
<a class="sourceLine" id="cb1-505" title="505">founders &lt;-<span class="st"> </span><span class="kw">data.table</span>(<span class="dt">house=</span><span class="kw">c</span>(<span class="st">&quot;G&quot;</span>,<span class="st">&quot;H&quot;</span>,<span class="st">&quot;R&quot;</span>,<span class="st">&quot;S&quot;</span>),</a>
<a class="sourceLine" id="cb1-506" title="506">                       <span class="dt">founder=</span><span class="kw">c</span>(<span class="st">&quot;Godric&quot;</span>,<span class="st">&quot;Helga&quot;</span>,<span class="st">&quot;Rowena&quot;</span>,<span class="st">&quot;Salazar&quot;</span>))</a>
<a class="sourceLine" id="cb1-507" title="507">founders</a>
<a class="sourceLine" id="cb1-508" title="508"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-509" title="509"><span class="co">#    house founder</span></a>
<a class="sourceLine" id="cb1-510" title="510"><span class="co"># 1:     G  Godric</span></a>
<a class="sourceLine" id="cb1-511" title="511"><span class="co"># 2:     H   Helga</span></a>
<a class="sourceLine" id="cb1-512" title="512"><span class="co"># 3:     R  Rowena</span></a>
<a class="sourceLine" id="cb1-513" title="513"><span class="co"># 4:     S Salazar</span></a>
<a class="sourceLine" id="cb1-514" title="514"><span class="kw">setkey</span>(students, house)</a>
<a class="sourceLine" id="cb1-515" title="515"><span class="kw">setkey</span>(founders, house)</a>
<a class="sourceLine" id="cb1-516" title="516">students &lt;-<span class="st"> </span>founders[students] <span class="co"># merge the two data sets by matching &quot;house&quot;</span></a>
<a class="sourceLine" id="cb1-517" title="517"><span class="kw">setnames</span>(students, <span class="kw">c</span>(<span class="st">&quot;house&quot;</span>,<span class="st">&quot;houseFounderName&quot;</span>,<span class="st">&quot;studentName&quot;</span>,<span class="st">&quot;year&quot;</span>))</a>
<a class="sourceLine" id="cb1-518" title="518">students[,<span class="kw">order</span>(<span class="kw">c</span>(<span class="st">&quot;name&quot;</span>,<span class="st">&quot;year&quot;</span>,<span class="st">&quot;house&quot;</span>,<span class="st">&quot;houseFounderName&quot;</span>)), with=F]</a>
<a class="sourceLine" id="cb1-519" title="519"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-520" title="520"><span class="co">#    studentName year house houseFounderName</span></a>
<a class="sourceLine" id="cb1-521" title="521"><span class="co"># 1:        Fred    2     G           Godric</span></a>
<a class="sourceLine" id="cb1-522" title="522"><span class="co"># 2:      George    2     G           Godric</span></a>
<a class="sourceLine" id="cb1-523" title="523"><span class="co"># 3:       Ginny   -1     G           Godric</span></a>
<a class="sourceLine" id="cb1-524" title="524"><span class="co"># 4:      Cedric    3     H            Helga</span></a>
<a class="sourceLine" id="cb1-525" title="525"><span class="co"># 5:         Cho    1     R           Rowena</span></a>
<a class="sourceLine" id="cb1-526" title="526"><span class="co"># 6:       Draco    0     S          Salazar</span></a>
<a class="sourceLine" id="cb1-527" title="527"></a>
<a class="sourceLine" id="cb1-528" title="528"><span class="co"># data.table makes summary tables easy</span></a>
<a class="sourceLine" id="cb1-529" title="529">students[,<span class="kw">sum</span>(year),by=house]</a>
<a class="sourceLine" id="cb1-530" title="530"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-531" title="531"><span class="co">#    house V1</span></a>
<a class="sourceLine" id="cb1-532" title="532"><span class="co"># 1:     G  3</span></a>
<a class="sourceLine" id="cb1-533" title="533"><span class="co"># 2:     H  3</span></a>
<a class="sourceLine" id="cb1-534" title="534"><span class="co"># 3:     R  1</span></a>
<a class="sourceLine" id="cb1-535" title="535"><span class="co"># 4:     S  0</span></a>
<a class="sourceLine" id="cb1-536" title="536"></a>
<a class="sourceLine" id="cb1-537" title="537"><span class="co"># To drop a column from a data.frame or data.table,</span></a>
<a class="sourceLine" id="cb1-538" title="538"><span class="co"># assign it the NULL value</span></a>
<a class="sourceLine" id="cb1-539" title="539">students<span class="op">$</span>houseFounderName &lt;-<span class="st"> </span><span class="ot">NULL</span></a>
<a class="sourceLine" id="cb1-540" title="540">students</a>
<a class="sourceLine" id="cb1-541" title="541"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-542" title="542"><span class="co">#    studentName year house</span></a>
<a class="sourceLine" id="cb1-543" title="543"><span class="co"># 1:        Fred    2     G</span></a>
<a class="sourceLine" id="cb1-544" title="544"><span class="co"># 2:      George    2     G</span></a>
<a class="sourceLine" id="cb1-545" title="545"><span class="co"># 3:       Ginny   -1     G</span></a>
<a class="sourceLine" id="cb1-546" title="546"><span class="co"># 4:      Cedric    3     H</span></a>
<a class="sourceLine" id="cb1-547" title="547"><span class="co"># 5:         Cho    1     R</span></a>
<a class="sourceLine" id="cb1-548" title="548"><span class="co"># 6:       Draco    0     S</span></a>
<a class="sourceLine" id="cb1-549" title="549"></a>
<a class="sourceLine" id="cb1-550" title="550"><span class="co"># Drop a row by subsetting</span></a>
<a class="sourceLine" id="cb1-551" title="551"><span class="co"># Using data.table:</span></a>
<a class="sourceLine" id="cb1-552" title="552">students[studentName <span class="op">!=</span><span class="st"> &quot;Draco&quot;</span>]</a>
<a class="sourceLine" id="cb1-553" title="553"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-554" title="554"><span class="co">#    house studentName year</span></a>
<a class="sourceLine" id="cb1-555" title="555"><span class="co"># 1:     G        Fred    2</span></a>
<a class="sourceLine" id="cb1-556" title="556"><span class="co"># 2:     G      George    2</span></a>
<a class="sourceLine" id="cb1-557" title="557"><span class="co"># 3:     G       Ginny   -1</span></a>
<a class="sourceLine" id="cb1-558" title="558"><span class="co"># 4:     H      Cedric    3</span></a>
<a class="sourceLine" id="cb1-559" title="559"><span class="co"># 5:     R         Cho    1</span></a>
<a class="sourceLine" id="cb1-560" title="560"><span class="co"># Using data.frame:</span></a>
<a class="sourceLine" id="cb1-561" title="561">students &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(students)</a>
<a class="sourceLine" id="cb1-562" title="562">students[students<span class="op">$</span>house <span class="op">!=</span><span class="st"> &quot;G&quot;</span>,]</a>
<a class="sourceLine" id="cb1-563" title="563"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-564" title="564"><span class="co">#   house houseFounderName studentName year</span></a>
<a class="sourceLine" id="cb1-565" title="565"><span class="co"># 4     H            Helga      Cedric    3</span></a>
<a class="sourceLine" id="cb1-566" title="566"><span class="co"># 5     R           Rowena         Cho    1</span></a>
<a class="sourceLine" id="cb1-567" title="567"><span class="co"># 6     S          Salazar       Draco    0</span></a>
<a class="sourceLine" id="cb1-568" title="568"></a>
<a class="sourceLine" id="cb1-569" title="569"><span class="co"># MULTI-DIMENSIONAL (ALL ELEMENTS OF ONE TYPE)</span></a>
<a class="sourceLine" id="cb1-570" title="570"></a>
<a class="sourceLine" id="cb1-571" title="571"><span class="co"># Arrays creates n-dimensional tables</span></a>
<a class="sourceLine" id="cb1-572" title="572"><span class="co"># All elements must be of the same type</span></a>
<a class="sourceLine" id="cb1-573" title="573"><span class="co"># You can make a two-dimensional table (sort of like a matrix)</span></a>
<a class="sourceLine" id="cb1-574" title="574"><span class="kw">array</span>(<span class="kw">c</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">4</span>,<span class="dv">5</span>),<span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">3</span>,<span class="dv">6</span>)), <span class="dt">dim=</span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>))</a>
<a class="sourceLine" id="cb1-575" title="575"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-576" title="576"><span class="co">#      [,1] [,2] [,3] [,4]</span></a>
<a class="sourceLine" id="cb1-577" title="577"><span class="co"># [1,]    1    4    8    3</span></a>
<a class="sourceLine" id="cb1-578" title="578"><span class="co"># [2,]    2    5    9    6</span></a>
<a class="sourceLine" id="cb1-579" title="579"><span class="co"># You can use array to make three-dimensional matrices too</span></a>
<a class="sourceLine" id="cb1-580" title="580"><span class="kw">array</span>(<span class="kw">c</span>(<span class="kw">c</span>(<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">300</span>,<span class="dv">4</span>),<span class="kw">c</span>(<span class="dv">8</span>,<span class="dv">9</span>,<span class="dv">0</span>)),<span class="kw">c</span>(<span class="kw">c</span>(<span class="dv">5</span>,<span class="dv">60</span>,<span class="dv">0</span>),<span class="kw">c</span>(<span class="dv">66</span>,<span class="dv">7</span>,<span class="dv">847</span>))), <span class="dt">dim=</span><span class="kw">c</span>(<span class="dv">3</span>,<span class="dv">2</span>,<span class="dv">2</span>))</a>
<a class="sourceLine" id="cb1-581" title="581"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-582" title="582"><span class="co"># , , 1</span></a>
<a class="sourceLine" id="cb1-583" title="583"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-584" title="584"><span class="co">#      [,1] [,2]</span></a>
<a class="sourceLine" id="cb1-585" title="585"><span class="co"># [1,]    2    8</span></a>
<a class="sourceLine" id="cb1-586" title="586"><span class="co"># [2,]  300    9</span></a>
<a class="sourceLine" id="cb1-587" title="587"><span class="co"># [3,]    4    0</span></a>
<a class="sourceLine" id="cb1-588" title="588"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-589" title="589"><span class="co"># , , 2</span></a>
<a class="sourceLine" id="cb1-590" title="590"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-591" title="591"><span class="co">#      [,1] [,2]</span></a>
<a class="sourceLine" id="cb1-592" title="592"><span class="co"># [1,]    5   66</span></a>
<a class="sourceLine" id="cb1-593" title="593"><span class="co"># [2,]   60    7</span></a>
<a class="sourceLine" id="cb1-594" title="594"><span class="co"># [3,]    0  847</span></a>
<a class="sourceLine" id="cb1-595" title="595"></a>
<a class="sourceLine" id="cb1-596" title="596"><span class="co"># LISTS (MULTI-DIMENSIONAL, POSSIBLY RAGGED, OF DIFFERENT TYPES)</span></a>
<a class="sourceLine" id="cb1-597" title="597"></a>
<a class="sourceLine" id="cb1-598" title="598"><span class="co"># Finally, R has lists (of vectors)</span></a>
<a class="sourceLine" id="cb1-599" title="599">list1 &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">time =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">40</span>)</a>
<a class="sourceLine" id="cb1-600" title="600">list1<span class="op">$</span>price =<span class="st"> </span><span class="kw">c</span>(<span class="kw">rnorm</span>(<span class="dv">40</span>,.<span class="dv">5</span><span class="op">*</span>list1<span class="op">$</span>time,<span class="dv">4</span>)) <span class="co"># random</span></a>
<a class="sourceLine" id="cb1-601" title="601">list1</a>
<a class="sourceLine" id="cb1-602" title="602"><span class="co"># You can get items in the list like so</span></a>
<a class="sourceLine" id="cb1-603" title="603">list1<span class="op">$</span>time <span class="co"># one way</span></a>
<a class="sourceLine" id="cb1-604" title="604">list1[[<span class="st">&quot;time&quot;</span>]] <span class="co"># another way</span></a>
<a class="sourceLine" id="cb1-605" title="605">list1[[<span class="dv">1</span>]] <span class="co"># yet another way</span></a>
<a class="sourceLine" id="cb1-606" title="606"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-607" title="607"><span class="co">#  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33</span></a>
<a class="sourceLine" id="cb1-608" title="608"><span class="co"># [34] 34 35 36 37 38 39 40</span></a>
<a class="sourceLine" id="cb1-609" title="609"><span class="co"># You can subset list items like any other vector</span></a>
<a class="sourceLine" id="cb1-610" title="610">list1<span class="op">$</span>price[<span class="dv">4</span>]</a>
<a class="sourceLine" id="cb1-611" title="611"></a>
<a class="sourceLine" id="cb1-612" title="612"><span class="co"># Lists are not the most efficient data structure to work with in R;</span></a>
<a class="sourceLine" id="cb1-613" title="613"><span class="co"># unless you have a very good reason, you should stick to data.frames</span></a>
<a class="sourceLine" id="cb1-614" title="614"><span class="co"># Lists are often returned by functions that perform linear regressions</span></a>
<a class="sourceLine" id="cb1-615" title="615"></a>
<a class="sourceLine" id="cb1-616" title="616"><span class="co">##################################################</span></a>
<a class="sourceLine" id="cb1-617" title="617"><span class="co"># The apply() family of functions</span></a>
<a class="sourceLine" id="cb1-618" title="618"><span class="co">##################################################</span></a>
<a class="sourceLine" id="cb1-619" title="619"></a>
<a class="sourceLine" id="cb1-620" title="620"><span class="co"># Remember mat?</span></a>
<a class="sourceLine" id="cb1-621" title="621">mat</a>
<a class="sourceLine" id="cb1-622" title="622"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-623" title="623"><span class="co">#      [,1] [,2]</span></a>
<a class="sourceLine" id="cb1-624" title="624"><span class="co"># [1,]    1    4</span></a>
<a class="sourceLine" id="cb1-625" title="625"><span class="co"># [2,]    2    5</span></a>
<a class="sourceLine" id="cb1-626" title="626"><span class="co"># [3,]    3    6</span></a>
<a class="sourceLine" id="cb1-627" title="627"><span class="co"># Use apply(X, MARGIN, FUN) to apply function FUN to a matrix X</span></a>
<a class="sourceLine" id="cb1-628" title="628"><span class="co"># over rows (MAR = 1) or columns (MAR = 2)</span></a>
<a class="sourceLine" id="cb1-629" title="629"><span class="co"># That is, R does FUN to each row (or column) of X, much faster than a</span></a>
<a class="sourceLine" id="cb1-630" title="630"><span class="co"># for or while loop would do</span></a>
<a class="sourceLine" id="cb1-631" title="631"><span class="kw">apply</span>(mat, <span class="dt">MAR =</span> <span class="dv">2</span>, jiggle)</a>
<a class="sourceLine" id="cb1-632" title="632"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-633" title="633"><span class="co">#      [,1] [,2]</span></a>
<a class="sourceLine" id="cb1-634" title="634"><span class="co"># [1,]    3   15</span></a>
<a class="sourceLine" id="cb1-635" title="635"><span class="co"># [2,]    7   19</span></a>
<a class="sourceLine" id="cb1-636" title="636"><span class="co"># [3,]   11   23</span></a>
<a class="sourceLine" id="cb1-637" title="637"><span class="co"># Other functions: ?lapply, ?sapply</span></a>
<a class="sourceLine" id="cb1-638" title="638"></a>
<a class="sourceLine" id="cb1-639" title="639"><span class="co"># Don&#39;t feel too intimidated; everyone agrees they are rather confusing</span></a>
<a class="sourceLine" id="cb1-640" title="640"></a>
<a class="sourceLine" id="cb1-641" title="641"><span class="co"># The plyr package aims to replace (and improve upon!) the *apply() family.</span></a>
<a class="sourceLine" id="cb1-642" title="642"><span class="kw">install.packages</span>(<span class="st">&quot;plyr&quot;</span>)</a>
<a class="sourceLine" id="cb1-643" title="643"><span class="kw">require</span>(plyr)</a>
<a class="sourceLine" id="cb1-644" title="644">?plyr</a>
<a class="sourceLine" id="cb1-645" title="645"></a>
<a class="sourceLine" id="cb1-646" title="646"></a>
<a class="sourceLine" id="cb1-647" title="647"></a>
<a class="sourceLine" id="cb1-648" title="648"><span class="co">#########################</span></a>
<a class="sourceLine" id="cb1-649" title="649"><span class="co"># Loading data</span></a>
<a class="sourceLine" id="cb1-650" title="650"><span class="co">#########################</span></a>
<a class="sourceLine" id="cb1-651" title="651"></a>
<a class="sourceLine" id="cb1-652" title="652"><span class="co"># &quot;pets.csv&quot; is a file on the internet</span></a>
<a class="sourceLine" id="cb1-653" title="653"><span class="co"># (but it could just as easily be a file on your own computer)</span></a>
<a class="sourceLine" id="cb1-654" title="654"><span class="kw">require</span>(RCurl)</a>
<a class="sourceLine" id="cb1-655" title="655">pets &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="kw">textConnection</span>(<span class="kw">getURL</span>(<span class="st">&quot;https://learnxinyminutes.com/docs/pets.csv&quot;</span>)))</a>
<a class="sourceLine" id="cb1-656" title="656">pets</a>
<a class="sourceLine" id="cb1-657" title="657"><span class="kw">head</span>(pets, <span class="dv">2</span>) <span class="co"># first two rows</span></a>
<a class="sourceLine" id="cb1-658" title="658"><span class="kw">tail</span>(pets, <span class="dv">1</span>) <span class="co"># last row</span></a>
<a class="sourceLine" id="cb1-659" title="659"></a>
<a class="sourceLine" id="cb1-660" title="660"><span class="co"># To save a data frame or matrix as a .csv file</span></a>
<a class="sourceLine" id="cb1-661" title="661"><span class="kw">write.csv</span>(pets, <span class="st">&quot;pets2.csv&quot;</span>) <span class="co"># to make a new .csv file</span></a>
<a class="sourceLine" id="cb1-662" title="662"><span class="co"># set working directory with setwd(), look it up with getwd()</span></a>
<a class="sourceLine" id="cb1-663" title="663"></a>
<a class="sourceLine" id="cb1-664" title="664"><span class="co"># Try ?read.csv and ?write.csv for more information</span></a>
<a class="sourceLine" id="cb1-665" title="665"></a>
<a class="sourceLine" id="cb1-666" title="666"></a>
<a class="sourceLine" id="cb1-667" title="667"></a>
<a class="sourceLine" id="cb1-668" title="668"><span class="co">#########################</span></a>
<a class="sourceLine" id="cb1-669" title="669"><span class="co"># Statistical Analysis</span></a>
<a class="sourceLine" id="cb1-670" title="670"><span class="co">#########################</span></a>
<a class="sourceLine" id="cb1-671" title="671"></a>
<a class="sourceLine" id="cb1-672" title="672"><span class="co"># Linear regression!</span></a>
<a class="sourceLine" id="cb1-673" title="673">linearModel &lt;-<span class="st"> </span><span class="kw">lm</span>(price  <span class="op">~</span><span class="st"> </span>time, <span class="dt">data =</span> list1)</a>
<a class="sourceLine" id="cb1-674" title="674">linearModel <span class="co"># outputs result of regression</span></a>
<a class="sourceLine" id="cb1-675" title="675"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-676" title="676"><span class="co"># Call:</span></a>
<a class="sourceLine" id="cb1-677" title="677"><span class="co"># lm(formula = price ~ time, data = list1)</span></a>
<a class="sourceLine" id="cb1-678" title="678"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-679" title="679"><span class="co"># Coefficients:</span></a>
<a class="sourceLine" id="cb1-680" title="680"><span class="co"># (Intercept)         time</span></a>
<a class="sourceLine" id="cb1-681" title="681"><span class="co">#      0.1453       0.4943</span></a>
<a class="sourceLine" id="cb1-682" title="682"><span class="kw">summary</span>(linearModel) <span class="co"># more verbose output from the regression</span></a>
<a class="sourceLine" id="cb1-683" title="683"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-684" title="684"><span class="co"># Call:</span></a>
<a class="sourceLine" id="cb1-685" title="685"><span class="co"># lm(formula = price ~ time, data = list1)</span></a>
<a class="sourceLine" id="cb1-686" title="686"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-687" title="687"><span class="co"># Residuals:</span></a>
<a class="sourceLine" id="cb1-688" title="688"><span class="co">#     Min      1Q  Median      3Q     Max</span></a>
<a class="sourceLine" id="cb1-689" title="689"><span class="co"># -8.3134 -3.0131 -0.3606  2.8016 10.3992</span></a>
<a class="sourceLine" id="cb1-690" title="690"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-691" title="691"><span class="co"># Coefficients:</span></a>
<a class="sourceLine" id="cb1-692" title="692"><span class="co">#             Estimate Std. Error t value Pr(&gt;|t|)</span></a>
<a class="sourceLine" id="cb1-693" title="693"><span class="co"># (Intercept)  0.14527    1.50084   0.097    0.923</span></a>
<a class="sourceLine" id="cb1-694" title="694"><span class="co"># time         0.49435    0.06379   7.749 2.44e-09 ***</span></a>
<a class="sourceLine" id="cb1-695" title="695"><span class="co"># ---</span></a>
<a class="sourceLine" id="cb1-696" title="696"><span class="co"># Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1</span></a>
<a class="sourceLine" id="cb1-697" title="697"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-698" title="698"><span class="co"># Residual standard error: 4.657 on 38 degrees of freedom</span></a>
<a class="sourceLine" id="cb1-699" title="699"><span class="co"># Multiple R-squared:  0.6124,  Adjusted R-squared:  0.6022</span></a>
<a class="sourceLine" id="cb1-700" title="700"><span class="co"># F-statistic: 60.05 on 1 and 38 DF,  p-value: 2.44e-09</span></a>
<a class="sourceLine" id="cb1-701" title="701"><span class="kw">coef</span>(linearModel) <span class="co"># extract estimated parameters</span></a>
<a class="sourceLine" id="cb1-702" title="702"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-703" title="703"><span class="co"># (Intercept)        time</span></a>
<a class="sourceLine" id="cb1-704" title="704"><span class="co">#   0.1452662   0.4943490</span></a>
<a class="sourceLine" id="cb1-705" title="705"><span class="kw">summary</span>(linearModel)<span class="op">$</span>coefficients <span class="co"># another way to extract results</span></a>
<a class="sourceLine" id="cb1-706" title="706"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-707" title="707"><span class="co">#              Estimate Std. Error    t value     Pr(&gt;|t|)</span></a>
<a class="sourceLine" id="cb1-708" title="708"><span class="co"># (Intercept) 0.1452662 1.50084246 0.09678975 9.234021e-01</span></a>
<a class="sourceLine" id="cb1-709" title="709"><span class="co"># time        0.4943490 0.06379348 7.74920901 2.440008e-09</span></a>
<a class="sourceLine" id="cb1-710" title="710"><span class="kw">summary</span>(linearModel)<span class="op">$</span>coefficients[,<span class="dv">4</span>] <span class="co"># the p-values</span></a>
<a class="sourceLine" id="cb1-711" title="711"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-712" title="712"><span class="co">#  (Intercept)         time</span></a>
<a class="sourceLine" id="cb1-713" title="713"><span class="co"># 9.234021e-01 2.440008e-09</span></a>
<a class="sourceLine" id="cb1-714" title="714"></a>
<a class="sourceLine" id="cb1-715" title="715"><span class="co"># GENERAL LINEAR MODELS</span></a>
<a class="sourceLine" id="cb1-716" title="716"><span class="co"># Logistic regression</span></a>
<a class="sourceLine" id="cb1-717" title="717"><span class="kw">set.seed</span>(<span class="dv">1</span>)</a>
<a class="sourceLine" id="cb1-718" title="718">list1<span class="op">$</span>success =<span class="st"> </span><span class="kw">rbinom</span>(<span class="kw">length</span>(list1<span class="op">$</span>time), <span class="dv">1</span>, <span class="fl">.5</span>) <span class="co"># random binary</span></a>
<a class="sourceLine" id="cb1-719" title="719">glModel &lt;-<span class="st"> </span><span class="kw">glm</span>(success  <span class="op">~</span><span class="st"> </span>time, <span class="dt">data =</span> list1,</a>
<a class="sourceLine" id="cb1-720" title="720">    <span class="dt">family=</span><span class="kw">binomial</span>(<span class="dt">link=</span><span class="st">&quot;logit&quot;</span>))</a>
<a class="sourceLine" id="cb1-721" title="721">glModel <span class="co"># outputs result of logistic regression</span></a>
<a class="sourceLine" id="cb1-722" title="722"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-723" title="723"><span class="co"># Call:  glm(formula = success ~ time,</span></a>
<a class="sourceLine" id="cb1-724" title="724"><span class="co">#   family = binomial(link = &quot;logit&quot;), data = list1)</span></a>
<a class="sourceLine" id="cb1-725" title="725"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-726" title="726"><span class="co"># Coefficients:</span></a>
<a class="sourceLine" id="cb1-727" title="727"><span class="co"># (Intercept)         time</span></a>
<a class="sourceLine" id="cb1-728" title="728"><span class="co">#     0.17018     -0.01321</span></a>
<a class="sourceLine" id="cb1-729" title="729"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-730" title="730"><span class="co"># Degrees of Freedom: 39 Total (i.e. Null);  38 Residual</span></a>
<a class="sourceLine" id="cb1-731" title="731"><span class="co"># Null Deviance:        55.35</span></a>
<a class="sourceLine" id="cb1-732" title="732"><span class="co"># Residual Deviance: 55.12   AIC: 59.12</span></a>
<a class="sourceLine" id="cb1-733" title="733"><span class="kw">summary</span>(glModel) <span class="co"># more verbose output from the regression</span></a>
<a class="sourceLine" id="cb1-734" title="734"><span class="co"># =&gt;</span></a>
<a class="sourceLine" id="cb1-735" title="735"><span class="co"># Call:</span></a>
<a class="sourceLine" id="cb1-736" title="736"><span class="co"># glm(formula = success ~ time,</span></a>
<a class="sourceLine" id="cb1-737" title="737"><span class="co">#   family = binomial(link = &quot;logit&quot;), data = list1)</span></a>
<a class="sourceLine" id="cb1-738" title="738"></a>
<a class="sourceLine" id="cb1-739" title="739"><span class="co"># Deviance Residuals:</span></a>
<a class="sourceLine" id="cb1-740" title="740"><span class="co">#    Min      1Q  Median      3Q     Max</span></a>
<a class="sourceLine" id="cb1-741" title="741"><span class="co"># -1.245  -1.118  -1.035   1.202   1.327</span></a>
<a class="sourceLine" id="cb1-742" title="742"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-743" title="743"><span class="co"># Coefficients:</span></a>
<a class="sourceLine" id="cb1-744" title="744"><span class="co">#             Estimate Std. Error z value Pr(&gt;|z|)</span></a>
<a class="sourceLine" id="cb1-745" title="745"><span class="co"># (Intercept)  0.17018    0.64621   0.263    0.792</span></a>
<a class="sourceLine" id="cb1-746" title="746"><span class="co"># time        -0.01321    0.02757  -0.479    0.632</span></a>
<a class="sourceLine" id="cb1-747" title="747"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-748" title="748"><span class="co"># (Dispersion parameter for binomial family taken to be 1)</span></a>
<a class="sourceLine" id="cb1-749" title="749"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-750" title="750"><span class="co">#     Null deviance: 55.352  on 39  degrees of freedom</span></a>
<a class="sourceLine" id="cb1-751" title="751"><span class="co"># Residual deviance: 55.121  on 38  degrees of freedom</span></a>
<a class="sourceLine" id="cb1-752" title="752"><span class="co"># AIC: 59.121</span></a>
<a class="sourceLine" id="cb1-753" title="753"><span class="co">#</span></a>
<a class="sourceLine" id="cb1-754" title="754"><span class="co"># Number of Fisher Scoring iterations: 3</span></a>
<a class="sourceLine" id="cb1-755" title="755"></a>
<a class="sourceLine" id="cb1-756" title="756"></a>
<a class="sourceLine" id="cb1-757" title="757"><span class="co">#########################</span></a>
<a class="sourceLine" id="cb1-758" title="758"><span class="co"># Plots</span></a>
<a class="sourceLine" id="cb1-759" title="759"><span class="co">#########################</span></a>
<a class="sourceLine" id="cb1-760" title="760"></a>
<a class="sourceLine" id="cb1-761" title="761"><span class="co"># BUILT-IN PLOTTING FUNCTIONS</span></a>
<a class="sourceLine" id="cb1-762" title="762"><span class="co"># Scatterplots!</span></a>
<a class="sourceLine" id="cb1-763" title="763"><span class="kw">plot</span>(list1<span class="op">$</span>time, list1<span class="op">$</span>price, <span class="dt">main =</span> <span class="st">&quot;fake data&quot;</span>)</a>
<a class="sourceLine" id="cb1-764" title="764"><span class="co"># Plot regression line on existing plot</span></a>
<a class="sourceLine" id="cb1-765" title="765"><span class="kw">abline</span>(linearModel, <span class="dt">col =</span> <span class="st">&quot;red&quot;</span>)</a>
<a class="sourceLine" id="cb1-766" title="766"><span class="co"># Get a variety of nice diagnostics</span></a>
<a class="sourceLine" id="cb1-767" title="767"><span class="kw">plot</span>(linearModel)</a>
<a class="sourceLine" id="cb1-768" title="768"><span class="co"># Histograms!</span></a>
<a class="sourceLine" id="cb1-769" title="769"><span class="kw">hist</span>(<span class="kw">rpois</span>(<span class="dt">n =</span> <span class="dv">10000</span>, <span class="dt">lambda =</span> <span class="dv">5</span>), <span class="dt">col =</span> <span class="st">&quot;thistle&quot;</span>)</a>
<a class="sourceLine" id="cb1-770" title="770"><span class="co"># Barplots!</span></a>
<a class="sourceLine" id="cb1-771" title="771"><span class="kw">barplot</span>(<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">1</span>,<span class="dv">2</span>), <span class="dt">names.arg =</span> <span class="kw">c</span>(<span class="st">&quot;red&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;purple&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;yellow&quot;</span>))</a>
<a class="sourceLine" id="cb1-772" title="772"></a>
<a class="sourceLine" id="cb1-773" title="773"><span class="co"># GGPLOT2</span></a>
<a class="sourceLine" id="cb1-774" title="774"><span class="co"># But these are not even the prettiest of R&#39;s plots</span></a>
<a class="sourceLine" id="cb1-775" title="775"><span class="co"># Try the ggplot2 package for more and better graphics</span></a>
<a class="sourceLine" id="cb1-776" title="776"><span class="kw">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</a>
<a class="sourceLine" id="cb1-777" title="777"><span class="kw">require</span>(ggplot2)</a>
<a class="sourceLine" id="cb1-778" title="778">?ggplot2</a>
<a class="sourceLine" id="cb1-779" title="779">pp &lt;-<span class="st"> </span><span class="kw">ggplot</span>(students, <span class="kw">aes</span>(<span class="dt">x=</span>house))</a>
<a class="sourceLine" id="cb1-780" title="780">pp <span class="op">+</span><span class="st"> </span><span class="kw">geom_bar</span>()</a>
<a class="sourceLine" id="cb1-781" title="781">ll &lt;-<span class="st"> </span><span class="kw">as.data.table</span>(list1)</a>
<a class="sourceLine" id="cb1-782" title="782">pp &lt;-<span class="st"> </span><span class="kw">ggplot</span>(ll, <span class="kw">aes</span>(<span class="dt">x=</span>time,price))</a>
<a class="sourceLine" id="cb1-783" title="783">pp <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</a>
<a class="sourceLine" id="cb1-784" title="784"><span class="co"># ggplot2 has excellent documentation (available http://docs.ggplot2.org/current/)</span></a>
<a class="sourceLine" id="cb1-785" title="785"></a>
<a class="sourceLine" id="cb1-786" title="786"></a></code></pre></div>
<h2 id="how-do-i-get-r">How do I get R?</h2>
<ul>
<li>Get R and the R GUI from <a href="http://www.r-project.org/">http://www.r-project.org/</a></li>
<li><a href="http://www.rstudio.com/ide/">RStudio</a> is another GUI</li>
</ul>
</body>
</html>
